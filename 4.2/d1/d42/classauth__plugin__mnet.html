<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: auth_plugin_mnet Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.2</span>
   </div>
   <div id="projectbrief">Moodle 4.2.7+ (Build: 20240510) (95b5ca87ebb)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d2/dd3/classauth__plugin__mnet-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">auth_plugin_mnet Class Reference<div class="ingroups"><a class="el" href="../../d0/d89/group__auth__mnet.html">auth_mnet</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> Network authentication plugin.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for auth_plugin_mnet:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d1/d42/classauth__plugin__mnet.png" usemap="#auth_5Fplugin_5Fmnet_map" alt=""/>
  <map id="auth_5Fplugin_5Fmnet_map" name="auth_5Fplugin_5Fmnet_map">
<area href="../../da/d7a/classauth__plugin__base.html" title="Abstract authentication plugin." alt="auth_plugin_base" shape="rect" coords="0,0,111,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47b7b33b9f8b70350892d20146cc7e1f" id="r_a47b7b33b9f8b70350892d20146cc7e1f"><td class="memItemLeft" align="right" valign="top"><a id="a47b7b33b9f8b70350892d20146cc7e1f" name="a47b7b33b9f8b70350892d20146cc7e1f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__construct</b> ()</td></tr>
<tr class="memdesc:a47b7b33b9f8b70350892d20146cc7e1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br /></td></tr>
<tr class="separator:a47b7b33b9f8b70350892d20146cc7e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa9d11a067d87ac3275a2516fc2e464" id="r_acaa9d11a067d87ac3275a2516fc2e464"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acaa9d11a067d87ac3275a2516fc2e464">auth_plugin_mnet</a> ()</td></tr>
<tr class="memdesc:acaa9d11a067d87ac3275a2516fc2e464"><td class="mdescLeft">&#160;</td><td class="mdescRight">Old syntax of class constructor.  <br /></td></tr>
<tr class="separator:acaa9d11a067d87ac3275a2516fc2e464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac585c783ac815fe76affc377a1085942" id="r_ac585c783ac815fe76affc377a1085942"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ac585c783ac815fe76affc377a1085942">can_be_manually_set</a> ()</td></tr>
<tr class="memdesc:ac585c783ac815fe76affc377a1085942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not this authentication plugin can be manually set for users, for example, when bulk uploading users.  <br /></td></tr>
<tr class="separator:ac585c783ac815fe76affc377a1085942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ac26a1a40bd1dec5b8dcf617461226" id="r_a91ac26a1a40bd1dec5b8dcf617461226"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91ac26a1a40bd1dec5b8dcf617461226">can_change_password</a> ()</td></tr>
<tr class="memdesc:a91ac26a1a40bd1dec5b8dcf617461226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin can change the user's password.  <br /></td></tr>
<tr class="separator:a91ac26a1a40bd1dec5b8dcf617461226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4acb0dd80f85a76cce65c030c2a4c4ab" id="r_a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a4acb0dd80f85a76cce65c030c2a4c4ab">can_confirm</a> ()</td></tr>
<tr class="memdesc:a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows confirming of new users.  <br /></td></tr>
<tr class="separator:a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c5b62ba41a673ed3150871fd2e6502" id="r_a35c5b62ba41a673ed3150871fd2e6502"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a35c5b62ba41a673ed3150871fd2e6502">can_edit_profile</a> ()</td></tr>
<tr class="memdesc:a35c5b62ba41a673ed3150871fd2e6502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin can edit the users' profile.  <br /></td></tr>
<tr class="separator:a35c5b62ba41a673ed3150871fd2e6502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa11a37e00bdb9da55cfa6a87ade1305f" id="r_aa11a37e00bdb9da55cfa6a87ade1305f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa11a37e00bdb9da55cfa6a87ade1305f">can_login_remotely</a> ($username, $mnethostid)</td></tr>
<tr class="memdesc:aa11a37e00bdb9da55cfa6a87ade1305f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the MNET access control table to see if the username/mnethost is permitted to login to this moodle.  <br /></td></tr>
<tr class="separator:aa11a37e00bdb9da55cfa6a87ade1305f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6315b78e1ae3e7bc53595bb323e70c97" id="r_a6315b78e1ae3e7bc53595bb323e70c97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a6315b78e1ae3e7bc53595bb323e70c97">can_reset_password</a> ()</td></tr>
<tr class="memdesc:a6315b78e1ae3e7bc53595bb323e70c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows resetting of internal password.  <br /></td></tr>
<tr class="separator:a6315b78e1ae3e7bc53595bb323e70c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b46763556093098c7249c6a37d3e701" id="r_a8b46763556093098c7249c6a37d3e701"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a8b46763556093098c7249c6a37d3e701">can_signup</a> ()</td></tr>
<tr class="memdesc:a8b46763556093098c7249c6a37d3e701"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows resetting of internal password.  <br /></td></tr>
<tr class="separator:a8b46763556093098c7249c6a37d3e701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba50e3ff5cd84e4ffc4f2308f1573949" id="r_aba50e3ff5cd84e4ffc4f2308f1573949"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba50e3ff5cd84e4ffc4f2308f1573949">change_password_url</a> ()</td></tr>
<tr class="memdesc:aba50e3ff5cd84e4ffc4f2308f1573949"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the URL for changing the user's pw, or false if the default can be used.  <br /></td></tr>
<tr class="separator:aba50e3ff5cd84e4ffc4f2308f1573949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c4d919a83ab4be998397c1d2cc88b4" id="r_a63c4d919a83ab4be998397c1d2cc88b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a63c4d919a83ab4be998397c1d2cc88b4">config_form</a> ($config, $err, $user_fields)</td></tr>
<tr class="memdesc:a63c4d919a83ab4be998397c1d2cc88b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a form for configuring this authentication plugin.  <br /></td></tr>
<tr class="separator:a63c4d919a83ab4be998397c1d2cc88b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b846138c00cc8625c39052d14c2b64c" id="r_a6b846138c00cc8625c39052d14c2b64c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b846138c00cc8625c39052d14c2b64c">confirm_mnet_session</a> ($token, $remotepeer)</td></tr>
<tr class="memdesc:a6b846138c00cc8625c39052d14c2b64c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function confirms the remote (ID provider) host's mnet session by communicating the token and UA over the XMLRPC transport layer, and returns the local user record on success.  <br /></td></tr>
<tr class="separator:a6b846138c00cc8625c39052d14c2b64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa004b95d95943e16ee51d40129235a01" id="r_aa004b95d95943e16ee51d40129235a01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa004b95d95943e16ee51d40129235a01">edit_profile_url</a> ()</td></tr>
<tr class="memdesc:aa004b95d95943e16ee51d40129235a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the URL for editing the users' profile, or empty if the default URL can be used.  <br /></td></tr>
<tr class="separator:aa004b95d95943e16ee51d40129235a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b773c829677cf02ee9ed3631bd63ef" id="r_a90b773c829677cf02ee9ed3631bd63ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90b773c829677cf02ee9ed3631bd63ef">end_local_sessions</a> (&amp;$sessionArray)</td></tr>
<tr class="memdesc:a90b773c829677cf02ee9ed3631bd63ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">To delete a host, we must delete all current sessions that users from that host are currently engaged in.  <br /></td></tr>
<tr class="separator:a90b773c829677cf02ee9ed3631bd63ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a890d03de5eb0ce2550538cf23bb9ab94" id="r_a890d03de5eb0ce2550538cf23bb9ab94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a890d03de5eb0ce2550538cf23bb9ab94">fetch_theme_info</a> ()</td></tr>
<tr class="memdesc:a890d03de5eb0ce2550538cf23bb9ab94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the theme information and logo url as strings.  <br /></td></tr>
<tr class="separator:a890d03de5eb0ce2550538cf23bb9ab94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c29a67032874e20d7a98df9821976b6" id="r_a0c29a67032874e20d7a98df9821976b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c29a67032874e20d7a98df9821976b6">fetch_user_image</a> ($username)</td></tr>
<tr class="memdesc:a0c29a67032874e20d7a98df9821976b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the user's profile image info.  <br /></td></tr>
<tr class="separator:a0c29a67032874e20d7a98df9821976b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a550166d50da1e563d03068a086b7f3b6" id="r_a550166d50da1e563d03068a086b7f3b6"><td class="memItemLeft" align="right" valign="top"><a id="a550166d50da1e563d03068a086b7f3b6" name="a550166d50da1e563d03068a086b7f3b6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>generate_token</b> ()</td></tr>
<tr class="memdesc:a550166d50da1e563d03068a086b7f3b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a random string for use as an RPC session token. <br /></td></tr>
<tr class="separator:a550166d50da1e563d03068a086b7f3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c40b2093ad0bf42b6639510bae58ac" id="r_a10c40b2093ad0bf42b6639510bae58ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a10c40b2093ad0bf42b6639510bae58ac">get_custom_user_profile_fields</a> ()</td></tr>
<tr class="memdesc:a10c40b2093ad0bf42b6639510bae58ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return custom user profile fields.  <br /></td></tr>
<tr class="separator:a10c40b2093ad0bf42b6639510bae58ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9ec5061a1210cd8ba4c12396c170a7" id="r_abc9ec5061a1210cd8ba4c12396c170a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#abc9ec5061a1210cd8ba4c12396c170a7">get_description</a> ()</td></tr>
<tr class="memdesc:abc9ec5061a1210cd8ba4c12396c170a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the auth description (from core or own auth lang files)  <br /></td></tr>
<tr class="separator:abc9ec5061a1210cd8ba4c12396c170a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a32620a1d5b5fa9125a959c1bf47f7" id="r_a34a32620a1d5b5fa9125a959c1bf47f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a34a32620a1d5b5fa9125a959c1bf47f7">get_extrauserinfo</a> ()</td></tr>
<tr class="memdesc:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns extra user information.  <br /></td></tr>
<tr class="separator:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c1c61db8de15e6b054abff97cc8087" id="r_a64c1c61db8de15e6b054abff97cc8087"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a64c1c61db8de15e6b054abff97cc8087">get_password_change_info</a> (stdClass $user)</td></tr>
<tr class="memdesc:a64c1c61db8de15e6b054abff97cc8087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information on how the specified user can change their password.  <br /></td></tr>
<tr class="separator:a64c1c61db8de15e6b054abff97cc8087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ea9b70395087455ef92c9a494b5dea" id="r_ad9ea9b70395087455ef92c9a494b5dea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ad9ea9b70395087455ef92c9a494b5dea">get_title</a> ()</td></tr>
<tr class="memdesc:ad9ea9b70395087455ef92c9a494b5dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the properly translated human-friendly title of this auth plugin.  <br /></td></tr>
<tr class="separator:ad9ea9b70395087455ef92c9a494b5dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1cc19d3ba1c5a112165f9e9d9bbdc46" id="r_ae1cc19d3ba1c5a112165f9e9d9bbdc46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46">get_userinfo</a> ($username)</td></tr>
<tr class="memdesc:ae1cc19d3ba1c5a112165f9e9d9bbdc46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read user information from external database and returns it as array().  <br /></td></tr>
<tr class="separator:ae1cc19d3ba1c5a112165f9e9d9bbdc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936e0e60088fa41dc0ceda9b99cb68e3" id="r_a936e0e60088fa41dc0ceda9b99cb68e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a936e0e60088fa41dc0ceda9b99cb68e3">has_service</a> ($mnethostid, $servicename)</td></tr>
<tr class="memdesc:a936e0e60088fa41dc0ceda9b99cb68e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if an MNET host is providing the nominated service.  <br /></td></tr>
<tr class="separator:a936e0e60088fa41dc0ceda9b99cb68e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4993714130776c297a1edfcadb97ac50" id="r_a4993714130776c297a1edfcadb97ac50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a4993714130776c297a1edfcadb97ac50">ignore_timeout_hook</a> ($user, $sid, $timecreated, $timemodified)</td></tr>
<tr class="memdesc:a4993714130776c297a1edfcadb97ac50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook called before timing out of database session.  <br /></td></tr>
<tr class="separator:a4993714130776c297a1edfcadb97ac50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000cf01b1b7cb58bf8e6838e50d9224d" id="r_a000cf01b1b7cb58bf8e6838e50d9224d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a000cf01b1b7cb58bf8e6838e50d9224d">is_captcha_enabled</a> ()</td></tr>
<tr class="memdesc:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not the captcha element is enabled.  <br /></td></tr>
<tr class="separator:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784738df78d605fcc572aaa92a7305c7" id="r_a784738df78d605fcc572aaa92a7305c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a784738df78d605fcc572aaa92a7305c7">is_configured</a> ()</td></tr>
<tr class="memdesc:a784738df78d605fcc572aaa92a7305c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns false if this plugin is enabled but not configured.  <br /></td></tr>
<tr class="separator:a784738df78d605fcc572aaa92a7305c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169cee9d85aade1b52f75df6b70dcb8e" id="r_a169cee9d85aade1b52f75df6b70dcb8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a169cee9d85aade1b52f75df6b70dcb8e">is_internal</a> ()</td></tr>
<tr class="memdesc:a169cee9d85aade1b52f75df6b70dcb8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin is 'internal'.  <br /></td></tr>
<tr class="separator:a169cee9d85aade1b52f75df6b70dcb8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ad6ffe25b6c9035ca36b0fdf755918" id="r_a77ad6ffe25b6c9035ca36b0fdf755918"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a77ad6ffe25b6c9035ca36b0fdf755918">is_synchronised_with_external</a> ()</td></tr>
<tr class="memdesc:a77ad6ffe25b6c9035ca36b0fdf755918"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if moodle should automatically update internal user records with data from external sources using the information from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46" title="Read user information from external database and returns it as array().">get_userinfo()</a> method.  <br /></td></tr>
<tr class="separator:a77ad6ffe25b6c9035ca36b0fdf755918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbe020c1826b67bbcff9bfae55700fd" id="r_a7cbe020c1826b67bbcff9bfae55700fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cbe020c1826b67bbcff9bfae55700fd">keepalive_client</a> ()</td></tr>
<tr class="memdesc:a7cbe020c1826b67bbcff9bfae55700fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll the IdP server to let it know that a user it has authenticated is still online.  <br /></td></tr>
<tr class="separator:a7cbe020c1826b67bbcff9bfae55700fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae1cfc34142f62c0cde9a6f3ec620bee" id="r_aae1cfc34142f62c0cde9a6f3ec620bee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae1cfc34142f62c0cde9a6f3ec620bee">keepalive_server</a> ($array)</td></tr>
<tr class="memdesc:aae1cfc34142f62c0cde9a6f3ec620bee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives an array of usernames from a remote machine and prods their sessions to keep them alive.  <br /></td></tr>
<tr class="separator:aae1cfc34142f62c0cde9a6f3ec620bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53b2bee5e12963af70e73d1a1e46756" id="r_ab53b2bee5e12963af70e73d1a1e46756"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab53b2bee5e12963af70e73d1a1e46756">kill_child</a> ($username, $useragent)</td></tr>
<tr class="memdesc:ab53b2bee5e12963af70e73d1a1e46756"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the IdP requests that child sessions are terminated, this function will be called on each of the child hosts.  <br /></td></tr>
<tr class="separator:ab53b2bee5e12963af70e73d1a1e46756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a094e122a33f531c00aa1cad2c2037ab5" id="r_a094e122a33f531c00aa1cad2c2037ab5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a094e122a33f531c00aa1cad2c2037ab5">kill_children</a> ($username, $useragent)</td></tr>
<tr class="memdesc:a094e122a33f531c00aa1cad2c2037ab5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IdP uses this function to kill child sessions on other hosts.  <br /></td></tr>
<tr class="separator:a094e122a33f531c00aa1cad2c2037ab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa327d75c5af5986dc5208ffaaff3e5cd" id="r_aa327d75c5af5986dc5208ffaaff3e5cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa327d75c5af5986dc5208ffaaff3e5cd">kill_parent</a> ($username, $useragent)</td></tr>
<tr class="memdesc:aa327d75c5af5986dc5208ffaaff3e5cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SP uses this function to kill the session on the parent IdP.  <br /></td></tr>
<tr class="separator:aa327d75c5af5986dc5208ffaaff3e5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590266d46d9dd8a153de4f5c9de48966" id="r_a590266d46d9dd8a153de4f5c9de48966"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a590266d46d9dd8a153de4f5c9de48966">loginpage_hook</a> ()</td></tr>
<tr class="memdesc:a590266d46d9dd8a153de4f5c9de48966"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour of login page.  <br /></td></tr>
<tr class="separator:a590266d46d9dd8a153de4f5c9de48966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266eae8af58b48a58648ca9d70d0c1b9" id="r_a266eae8af58b48a58648ca9d70d0c1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a266eae8af58b48a58648ca9d70d0c1b9">loginpage_idp_list</a> ($wantsurl)</td></tr>
<tr class="memdesc:a266eae8af58b48a58648ca9d70d0c1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of MNet IdPs that the user can roam from.  <br /></td></tr>
<tr class="separator:a266eae8af58b48a58648ca9d70d0c1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74787b6d221adbbfbeb3350369a1ddd8" id="r_a74787b6d221adbbfbeb3350369a1ddd8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a74787b6d221adbbfbeb3350369a1ddd8">logoutpage_hook</a> ()</td></tr>
<tr class="memdesc:a74787b6d221adbbfbeb3350369a1ddd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour of logout page.  <br /></td></tr>
<tr class="separator:a74787b6d221adbbfbeb3350369a1ddd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d165eca39aaeb1e0d8c7f960423d18" id="r_a86d165eca39aaeb1e0d8c7f960423d18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a86d165eca39aaeb1e0d8c7f960423d18">password_expire</a> ($username)</td></tr>
<tr class="memdesc:a86d165eca39aaeb1e0d8c7f960423d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">return number of days to user password expires  <br /></td></tr>
<tr class="separator:a86d165eca39aaeb1e0d8c7f960423d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161b8e58713047dc1afb76f972afb6b0" id="r_a161b8e58713047dc1afb76f972afb6b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a161b8e58713047dc1afb76f972afb6b0">postlogout_hook</a> ($user)</td></tr>
<tr class="memdesc:a161b8e58713047dc1afb76f972afb6b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post logout hook.  <br /></td></tr>
<tr class="separator:a161b8e58713047dc1afb76f972afb6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d1997a51da39f2eefc7fc7b2da1075" id="r_a71d1997a51da39f2eefc7fc7b2da1075"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a71d1997a51da39f2eefc7fc7b2da1075">pre_loginpage_hook</a> ()</td></tr>
<tr class="memdesc:a71d1997a51da39f2eefc7fc7b2da1075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour before going to the login page.  <br /></td></tr>
<tr class="separator:a71d1997a51da39f2eefc7fc7b2da1075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1020896f222cdab32fa490baaa17c1b9" id="r_a1020896f222cdab32fa490baaa17c1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1020896f222cdab32fa490baaa17c1b9">pre_user_login_hook</a> (&amp;$user)</td></tr>
<tr class="memdesc:a1020896f222cdab32fa490baaa17c1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre user_login hook.  <br /></td></tr>
<tr class="separator:a1020896f222cdab32fa490baaa17c1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a872238d9883672941a1c12e9cea72500" id="r_a872238d9883672941a1c12e9cea72500"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a872238d9883672941a1c12e9cea72500">prelogout_hook</a> ()</td></tr>
<tr class="memdesc:a872238d9883672941a1c12e9cea72500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup any remote mnet_sessions, kill the local mnet_session data.  <br /></td></tr>
<tr class="separator:a872238d9883672941a1c12e9cea72500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b00c02151161aad0f942f10e288029" id="r_a19b00c02151161aad0f942f10e288029"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19b00c02151161aad0f942f10e288029">prevent_local_passwords</a> ()</td></tr>
<tr class="memdesc:a19b00c02151161aad0f942f10e288029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if password hashes should be stored in local moodle database.  <br /></td></tr>
<tr class="separator:a19b00c02151161aad0f942f10e288029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84c2e2ebb28ea283742d45f9b5f1732" id="r_aa84c2e2ebb28ea283742d45f9b5f1732"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa84c2e2ebb28ea283742d45f9b5f1732">process_config</a> ($config)</td></tr>
<tr class="memdesc:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes and stores configuration data for this authentication plugin.  <br /></td></tr>
<tr class="separator:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3147238027291b5a8ec2dd86769b2aec" id="r_a3147238027291b5a8ec2dd86769b2aec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3147238027291b5a8ec2dd86769b2aec">refresh_log</a> ($array)</td></tr>
<tr class="memdesc:a3147238027291b5a8ec2dd86769b2aec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives an array of log entries from an SP and adds them to the mnet_log table.  <br /></td></tr>
<tr class="separator:a3147238027291b5a8ec2dd86769b2aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662d92911f5207d0ab679491dcfb99ec" id="r_a662d92911f5207d0ab679491dcfb99ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a662d92911f5207d0ab679491dcfb99ec">set_extrauserinfo</a> (array $values)</td></tr>
<tr class="memdesc:a662d92911f5207d0ab679491dcfb99ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set extra user information.  <br /></td></tr>
<tr class="separator:a662d92911f5207d0ab679491dcfb99ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77f69d053c0a800f8c6929212ecfcf9" id="r_af77f69d053c0a800f8c6929212ecfcf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#af77f69d053c0a800f8c6929212ecfcf9">signup_form</a> ()</td></tr>
<tr class="memdesc:af77f69d053c0a800f8c6929212ecfcf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a form to capture user details for account creation.  <br /></td></tr>
<tr class="separator:af77f69d053c0a800f8c6929212ecfcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6764c960f81ced0863f8f555a7381d6" id="r_ad6764c960f81ced0863f8f555a7381d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6764c960f81ced0863f8f555a7381d6">start_jump_session</a> ($mnethostid, $wantsurl, $wantsurlbackhere=false)</td></tr>
<tr class="memdesc:ad6764c960f81ced0863f8f555a7381d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an RPC jump session and returns the jump redirect URL.  <br /></td></tr>
<tr class="separator:ad6764c960f81ced0863f8f555a7381d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff25d207596f3e682e2d152eb5cbf6e" id="r_a6ff25d207596f3e682e2d152eb5cbf6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a6ff25d207596f3e682e2d152eb5cbf6e">sync_roles</a> ($user)</td></tr>
<tr class="memdesc:a6ff25d207596f3e682e2d152eb5cbf6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync roles for this user - usually creator.  <br /></td></tr>
<tr class="separator:a6ff25d207596f3e682e2d152eb5cbf6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b8f7bc58d37a5c64ce22af513a9262" id="r_a46b8f7bc58d37a5c64ce22af513a9262"><td class="memItemLeft" align="right" valign="top"><a id="a46b8f7bc58d37a5c64ce22af513a9262" name="a46b8f7bc58d37a5c64ce22af513a9262"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>test_settings</b> ()</td></tr>
<tr class="memdesc:a46b8f7bc58d37a5c64ce22af513a9262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if settings are correct, print info to output. <br /></td></tr>
<tr class="separator:a46b8f7bc58d37a5c64ce22af513a9262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67dc4bb0a55e6820d0e8501fdb01068c" id="r_a67dc4bb0a55e6820d0e8501fdb01068c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67dc4bb0a55e6820d0e8501fdb01068c">trim_logline</a> ($logline)</td></tr>
<tr class="memdesc:a67dc4bb0a55e6820d0e8501fdb01068c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trims a log line from mnet peer to limit each part to a length which can be stored in our <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>.  <br /></td></tr>
<tr class="separator:a67dc4bb0a55e6820d0e8501fdb01068c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeacb8da771612783d9903b3cee5788ec" id="r_aeacb8da771612783d9903b3cee5788ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeacb8da771612783d9903b3cee5788ec">update_enrolments</a> ($username, $courses)</td></tr>
<tr class="memdesc:aeacb8da771612783d9903b3cee5788ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke this function <em>on</em> the IDP to update it with enrolment info local to the SP right after calling <a class="el" href="#a3b1c1f4bb871b22a4eeff1769a1867a2" title="Return user data for the provided token, compare with user_agent string.">user_authorise()</a>  <br /></td></tr>
<tr class="separator:aeacb8da771612783d9903b3cee5788ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b89ed34d258045eb77641388c6e374" id="r_a07b89ed34d258045eb77641388c6e374"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07b89ed34d258045eb77641388c6e374">update_mnet_session</a> ($user, $token, $remotepeer)</td></tr>
<tr class="memdesc:a07b89ed34d258045eb77641388c6e374"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates (or updates) the mnet session once {  <br /></td></tr>
<tr class="separator:a07b89ed34d258045eb77641388c6e374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f41448612b93e326f25264a8a197e39" id="r_a0f41448612b93e326f25264a8a197e39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a0f41448612b93e326f25264a8a197e39">user_authenticated_hook</a> (&amp;$user, $username, $password)</td></tr>
<tr class="memdesc:a0f41448612b93e326f25264a8a197e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post authentication hook.  <br /></td></tr>
<tr class="separator:a0f41448612b93e326f25264a8a197e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b1c1f4bb871b22a4eeff1769a1867a2" id="r_a3b1c1f4bb871b22a4eeff1769a1867a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b1c1f4bb871b22a4eeff1769a1867a2">user_authorise</a> ($token, $useragent)</td></tr>
<tr class="memdesc:a3b1c1f4bb871b22a4eeff1769a1867a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return user data for the provided token, compare with user_agent string.  <br /></td></tr>
<tr class="separator:a3b1c1f4bb871b22a4eeff1769a1867a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c859c2ce584ade45e98a11683647ae1" id="r_a5c859c2ce584ade45e98a11683647ae1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a5c859c2ce584ade45e98a11683647ae1">user_confirm</a> ($username, $confirmsecret)</td></tr>
<tr class="memdesc:a5c859c2ce584ade45e98a11683647ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm the new user as registered.  <br /></td></tr>
<tr class="separator:a5c859c2ce584ade45e98a11683647ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62731aff3764f0bfde3cbcadf47e8208" id="r_a62731aff3764f0bfde3cbcadf47e8208"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a62731aff3764f0bfde3cbcadf47e8208">user_delete</a> ($olduser)</td></tr>
<tr class="memdesc:a62731aff3764f0bfde3cbcadf47e8208"><td class="mdescLeft">&#160;</td><td class="mdescRight">User delete requested - internal user record is mared as deleted already, username not present anymore.  <br /></td></tr>
<tr class="separator:a62731aff3764f0bfde3cbcadf47e8208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bb0b4120624dc594e5fe5e29e003b6" id="r_ad7bb0b4120624dc594e5fe5e29e003b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ad7bb0b4120624dc594e5fe5e29e003b6">user_exists</a> ($username)</td></tr>
<tr class="memdesc:ad7bb0b4120624dc594e5fe5e29e003b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if user exists in external db.  <br /></td></tr>
<tr class="separator:ad7bb0b4120624dc594e5fe5e29e003b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297c888a803d6a5130c014c4a24d33ea" id="r_a297c888a803d6a5130c014c4a24d33ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a297c888a803d6a5130c014c4a24d33ea">user_login</a> ($username, $password)</td></tr>
<tr class="memdesc:a297c888a803d6a5130c014c4a24d33ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is normally used to determine if the username and password are correct for local logins.  <br /></td></tr>
<tr class="separator:a297c888a803d6a5130c014c4a24d33ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47840a5fd43ae4bae4c0b562f0a0ff94" id="r_a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a47840a5fd43ae4bae4c0b562f0a0ff94">user_signup</a> ($user, $<a class="el" href="../../d0/de1/group__core.html#gadd8686b50f3ac89a272ca980452d10cc">notify</a>=true)</td></tr>
<tr class="memdesc:a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sign up a new user ready for confirmation.  <br /></td></tr>
<tr class="separator:a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c6287e69024da1720e15027c3a347d" id="r_aa7c6287e69024da1720e15027c3a347d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa7c6287e69024da1720e15027c3a347d">user_update</a> ($olduser, $newuser)</td></tr>
<tr class="memdesc:aa7c6287e69024da1720e15027c3a347d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the user record is updated.  <br /></td></tr>
<tr class="separator:aa7c6287e69024da1720e15027c3a347d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6360533b7796dfc382899ba361021ec4" id="r_a6360533b7796dfc382899ba361021ec4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a6360533b7796dfc382899ba361021ec4">user_update_password</a> ($user, $newpassword)</td></tr>
<tr class="memdesc:a6360533b7796dfc382899ba361021ec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the user's password.  <br /></td></tr>
<tr class="separator:a6360533b7796dfc382899ba361021ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa597d2387e70cb903c8a5c64e72c1a0" id="r_afa597d2387e70cb903c8a5c64e72c1a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#afa597d2387e70cb903c8a5c64e72c1a0">validate_form</a> ($form, &amp;$err)</td></tr>
<tr class="memdesc:afa597d2387e70cb903c8a5c64e72c1a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A chance to validate form data, and last chance to do stuff before it is inserted in config_plugin.  <br /></td></tr>
<tr class="separator:afa597d2387e70cb903c8a5c64e72c1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1e03ec9caaba0ea64e6aa62040a2be20" id="r_a1e03ec9caaba0ea64e6aa62040a2be20"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1e03ec9caaba0ea64e6aa62040a2be20">get_identity_providers</a> ($authsequence)</td></tr>
<tr class="memdesc:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the list of enabled identity providers.  <br /></td></tr>
<tr class="separator:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924e24173d42049499bef18dc4ec9898" id="r_a924e24173d42049499bef18dc4ec9898"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a924e24173d42049499bef18dc4ec9898">prepare_identity_providers_for_output</a> ($identityproviders, <a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a> $output)</td></tr>
<tr class="memdesc:a924e24173d42049499bef18dc4ec9898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a list of identity providers for output.  <br /></td></tr>
<tr class="separator:a924e24173d42049499bef18dc4ec9898"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8ddf152b48963e38db55fb5b6ce0f74b" id="r_a8ddf152b48963e38db55fb5b6ce0f74b"><td class="memItemLeft" align="right" valign="top"><a id="a8ddf152b48963e38db55fb5b6ce0f74b" name="a8ddf152b48963e38db55fb5b6ce0f74b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$authtype</b></td></tr>
<tr class="memdesc:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authentication plugin type - the same as db field. <br /></td></tr>
<tr class="separator:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a250f49853b26416e956538ed16a74d" id="r_a5a250f49853b26416e956538ed16a74d"><td class="memItemLeft" align="right" valign="top"><a id="a5a250f49853b26416e956538ed16a74d" name="a5a250f49853b26416e956538ed16a74d"></a>
object&#160;</td><td class="memItemRight" valign="bottom"><b>$config</b></td></tr>
<tr class="memdesc:a5a250f49853b26416e956538ed16a74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The configuration details for the plugin. <br /></td></tr>
<tr class="separator:a5a250f49853b26416e956538ed16a74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827d7be85f7daf2354d7bd14f44877cc" id="r_a827d7be85f7daf2354d7bd14f44877cc"><td class="memItemLeft" align="right" valign="top"><a id="a827d7be85f7daf2354d7bd14f44877cc" name="a827d7be85f7daf2354d7bd14f44877cc"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$userfields</b> = core_user::AUTHSYNCFIELDS</td></tr>
<tr class="separator:a827d7be85f7daf2354d7bd14f44877cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7cddbf9e25745e24af8155b9c66caa55" id="r_a7cddbf9e25745e24af8155b9c66caa55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a7cddbf9e25745e24af8155b9c66caa55">update_user_record</a> ($username, $updatekeys=false, $triggerevent=false, $suspenduser=false)</td></tr>
<tr class="memdesc:a7cddbf9e25745e24af8155b9c66caa55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a local user record from an external source.  <br /></td></tr>
<tr class="separator:a7cddbf9e25745e24af8155b9c66caa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac560e8ce95e5d461b5426a5d5ba9cde8" id="r_ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="memItemLeft" align="right" valign="top"><a id="ac560e8ce95e5d461b5426a5d5ba9cde8" name="ac560e8ce95e5d461b5426a5d5ba9cde8"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$errorlogtag</b> = ''</td></tr>
<tr class="memdesc:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tag we want to prepend to any error log messages. <br /></td></tr>
<tr class="separator:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952cfbe040f1b09ce155484a79f3fc9a" id="r_a952cfbe040f1b09ce155484a79f3fc9a"><td class="memItemLeft" align="right" valign="top"><a id="a952cfbe040f1b09ce155484a79f3fc9a" name="a952cfbe040f1b09ce155484a79f3fc9a"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$extrauserinfo</b> = []</td></tr>
<tr class="memdesc:a952cfbe040f1b09ce155484a79f3fc9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores extra information available to the logged in event. <br /></td></tr>
<tr class="separator:a952cfbe040f1b09ce155484a79f3fc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1911147002a54bc0c88a3170c2f946e" id="r_af1911147002a54bc0c88a3170c2f946e"><td class="memItemLeft" align="right" valign="top"><a id="af1911147002a54bc0c88a3170c2f946e" name="af1911147002a54bc0c88a3170c2f946e"></a>
<a class="el" href="../../dd/d93/classmnet__environment.html">mnet_environment</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$mnet</b></td></tr>
<tr class="memdesc:af1911147002a54bc0c88a3170c2f946e"><td class="mdescLeft">&#160;</td><td class="mdescRight">mnet environment. <br /></td></tr>
<tr class="separator:af1911147002a54bc0c88a3170c2f946e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> Network authentication plugin. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="acaa9d11a067d87ac3275a2516fc2e464" name="acaa9d11a067d87ac3275a2516fc2e464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaa9d11a067d87ac3275a2516fc2e464">&#9670;&#160;</a></span>auth_plugin_mnet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::auth_plugin_mnet </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Old syntax of class constructor. </p>
<p>Deprecated in PHP7.</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000012">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.1 </dd></dl>

</div>
</div>
<a id="ac585c783ac815fe76affc377a1085942" name="ac585c783ac815fe76affc377a1085942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac585c783ac815fe76affc377a1085942">&#9670;&#160;</a></span>can_be_manually_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_be_manually_set </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether or not this authentication plugin can be manually set for users, for example, when bulk uploading users. </p>
<p>This should be overriden by authentication plugins where setting the authentication method manually is allowed.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.6 </dd></dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a7c003dd24f5c12718a0536f26b073e70">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ab2ebf5100cc16641401a346704b280fe">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#ab4b8c8029a5a180f7eb780f81b0d1428">auth_plugin_manual</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#ac7783787ce45b4408d7eaf5ab8bb5adc">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#a126b158246883d6034802fca262d4c5a">auth_plugin_none</a>, and <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#ab347eaa527265c95d88d3313ff2f362a">auth_oauth2\auth</a>.</p>

</div>
</div>
<a id="a91ac26a1a40bd1dec5b8dcf617461226" name="a91ac26a1a40bd1dec5b8dcf617461226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91ac26a1a40bd1dec5b8dcf617461226">&#9670;&#160;</a></span>can_change_password()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::can_change_password </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin can change the user's password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#accac09bd5ca0353b2fddb1245c1884bb">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a4acb0dd80f85a76cce65c030c2a4c4ab" name="a4acb0dd80f85a76cce65c030c2a4c4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4acb0dd80f85a76cce65c030c2a4c4ab">&#9670;&#160;</a></span>can_confirm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_confirm </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows confirming of new users. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a3153b4eb1cdcd360bcb21cb142e481a7">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a85b6d711ccf4da0a0c2f80d655cf5715">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a35c5b62ba41a673ed3150871fd2e6502" name="a35c5b62ba41a673ed3150871fd2e6502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c5b62ba41a673ed3150871fd2e6502">&#9670;&#160;</a></span>can_edit_profile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_edit_profile </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin can edit the users' profile. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa11a37e00bdb9da55cfa6a87ade1305f" name="aa11a37e00bdb9da55cfa6a87ade1305f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa11a37e00bdb9da55cfa6a87ade1305f">&#9670;&#160;</a></span>can_login_remotely()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::can_login_remotely </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mnethostid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the MNET access control table to see if the username/mnethost is permitted to login to this moodle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>The username </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$mnethostid</td><td>The id of the remote mnethost </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Whether the user can login from the remote host </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6315b78e1ae3e7bc53595bb323e70c97" name="a6315b78e1ae3e7bc53595bb323e70c97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6315b78e1ae3e7bc53595bb323e70c97">&#9670;&#160;</a></span>can_reset_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_reset_password </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows resetting of internal password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#aa01f9f5eeae6a5ac0c31a30437220a4f">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#a8f612491bf8302c6ba1dd650c8c52ff6">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ae0eb21b7f860f3df11e64e66664f41b8">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a1506aad743c4aab8579af6cbaa5cb461">auth_plugin_manual</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#ab1a5ccba4a3edd705ee12a7da44e32c0">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#a31be2900b39d757e0ddd44e0619a074f">auth_plugin_none</a>, <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a305811f33b3434e0f6f2147644ba6fb2">auth_oauth2\auth</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#abf55b68f41bf285d29e56269932b0048">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="a8b46763556093098c7249c6a37d3e701" name="a8b46763556093098c7249c6a37d3e701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b46763556093098c7249c6a37d3e701">&#9670;&#160;</a></span>can_signup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_signup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows resetting of internal password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a32c604fa9a3bc983336e4747f6e7b58f">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a2c66d0a4548c41aebb20daa148c38507">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="aba50e3ff5cd84e4ffc4f2308f1573949" name="aba50e3ff5cd84e4ffc4f2308f1573949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba50e3ff5cd84e4ffc4f2308f1573949">&#9670;&#160;</a></span>change_password_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::change_password_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the URL for changing the user's pw, or false if the default can be used. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a35518ee2fa3510b2361235c04fc40d24">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a63c4d919a83ab4be998397c1d2cc88b4" name="a63c4d919a83ab4be998397c1d2cc88b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c4d919a83ab4be998397c1d2cc88b4">&#9670;&#160;</a></span>config_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::config_form </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$config</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$err</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user_fields</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints a form for configuring this authentication plugin. </p>
<p>This function is called from admin/auth.php, and outputs a full page with a form for configuring this plugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$config</td><td></td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$err</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$user_fields</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000172">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<a id="a6b846138c00cc8625c39052d14c2b64c" name="a6b846138c00cc8625c39052d14c2b64c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b846138c00cc8625c39052d14c2b64c">&#9670;&#160;</a></span>confirm_mnet_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::confirm_mnet_session </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$token</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$remotepeer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function confirms the remote (ID provider) host's mnet session by communicating the token and UA over the XMLRPC transport layer, and returns the local user record on success. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>The random session token. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/dad/classmnet__peer.html">mnet_peer</a></td><td class="paramname">$remotepeer</td><td>The ID provider <a class="el" href="../../d2/dad/classmnet__peer.html">mnet_peer</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>The local user record. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa004b95d95943e16ee51d40129235a01" name="aa004b95d95943e16ee51d40129235a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa004b95d95943e16ee51d40129235a01">&#9670;&#160;</a></span>edit_profile_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::edit_profile_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the URL for editing the users' profile, or empty if the default URL can be used. </p>
<p>This method is used if <a class="el" href="../../da/d7a/classauth__plugin__base.html#a35c5b62ba41a673ed3150871fd2e6502" title="Returns true if this authentication plugin can edit the users&#39; profile.">can_edit_profile()</a> returns true. This method is called only when user is logged in, it may use global $USER.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td>url of the profile page or null if standard used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a90b773c829677cf02ee9ed3631bd63ef" name="a90b773c829677cf02ee9ed3631bd63ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90b773c829677cf02ee9ed3631bd63ef">&#9670;&#160;</a></span>end_local_sessions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::end_local_sessions </td>
          <td>(</td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$sessionArray</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To delete a host, we must delete all current sessions that users from that host are currently engaged in. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sessionidarray</td><td>An array of session hashes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True on success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a890d03de5eb0ce2550538cf23bb9ab94" name="a890d03de5eb0ce2550538cf23bb9ab94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a890d03de5eb0ce2550538cf23bb9ab94">&#9670;&#160;</a></span>fetch_theme_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::fetch_theme_info </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the theme information and logo url as strings. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The theme info </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c29a67032874e20d7a98df9821976b6" name="a0c29a67032874e20d7a98df9821976b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c29a67032874e20d7a98df9821976b6">&#9670;&#160;</a></span>fetch_user_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::fetch_user_image </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the user's profile image info. </p>
<p>If the user exists and has a profile picture, the returned array will contain keys: f1 - the content of the default 100x100px image f1_mimetype - the mimetype of the f1 file f2 - the content of the 35x35px variant of the image f2_mimetype - the mimetype of the f2 file</p>
<p>The mimetype information was added in <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.0. In <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 1.x, images are always jpegs.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/de1/group__core.html#ga51eb12386832da67e850bbe90a2b6bef" title="Stores optimised icon images in icon file area.">process_new_icon()</a> @uses mnet_remote_client callable via MNet XML-RPC </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$username</td><td>The id of the user </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false|array</td><td>false if user not found, empty array if no picture exists, array with data otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10c40b2093ad0bf42b6639510bae58ac" name="a10c40b2093ad0bf42b6639510bae58ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c40b2093ad0bf42b6639510bae58ac">&#9670;&#160;</a></span>get_custom_user_profile_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_custom_user_profile_fields </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return custom user profile fields. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of custom fields. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc9ec5061a1210cd8ba4c12396c170a7" name="abc9ec5061a1210cd8ba4c12396c170a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9ec5061a1210cd8ba4c12396c170a7">&#9670;&#160;</a></span>get_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_description </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the auth description (from core or own auth lang files) </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The description </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a34a32620a1d5b5fa9125a959c1bf47f7" name="a34a32620a1d5b5fa9125a959c1bf47f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a32620a1d5b5fa9125a959c1bf47f7">&#9670;&#160;</a></span>get_extrauserinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_extrauserinfo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns extra user information. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of keys and values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e03ec9caaba0ea64e6aa62040a2be20" name="a1e03ec9caaba0ea64e6aa62040a2be20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e03ec9caaba0ea64e6aa62040a2be20">&#9670;&#160;</a></span>get_identity_providers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::get_identity_providers </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$authsequence</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the list of enabled identity providers. </p>
<p>Each identity provider data contains the keys url, name and iconurl (or icon). See the documentation of <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae12f9d89c198f34eb6a440a02c81a873">auth_plugin_base::loginpage_idp_list()</a> for detailed description of the returned structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$authsequence</td><td>site's auth sequence (list of auth plugins ordered) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of arrays describing the identity providers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64c1c61db8de15e6b054abff97cc8087" name="a64c1c61db8de15e6b054abff97cc8087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c1c61db8de15e6b054abff97cc8087">&#9670;&#160;</a></span>get_password_change_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_password_change_info </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information on how the specified user can change their password. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>A user object </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string[]</td><td>An array of strings with keys subject and message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#a4e5d395b26f50472cc265288658559e7">auth_plugin_nologin</a>, and <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a912176f13f967d374b9fe8de0f3c5832">auth_oauth2\auth</a>.</p>

</div>
</div>
<a id="ad9ea9b70395087455ef92c9a494b5dea" name="ad9ea9b70395087455ef92c9a494b5dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ea9b70395087455ef92c9a494b5dea">&#9670;&#160;</a></span>get_title()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_title </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the properly translated human-friendly title of this auth plugin. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000072">Todo</a></b></dt><dd>Document this function </dd></dl>

</div>
</div>
<a id="ae1cc19d3ba1c5a112165f9e9d9bbdc46" name="ae1cc19d3ba1c5a112165f9e9d9bbdc46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1cc19d3ba1c5a112165f9e9d9bbdc46">&#9670;&#160;</a></span>get_userinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_userinfo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read user information from external database and returns it as array(). </p>
<p>Function should return all information available. If you are saving this information to moodle user-table you should honour synchronisation flags</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>array with no magic quotes or false on error </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a86571b8443bd54776356b17e87942a8e">auth_plugin_cas</a>, <a class="el" href="../../d7/d1d/classauth__plugin__db.html#acb52a38f540d1315707ef04d3f717566">auth_plugin_db</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#afdf54232b6104891c0c490e80ea56263">auth_plugin_ldap</a>, <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a80c6a5d8b9b6651f24bcb2edb5901e9a">auth_oauth2\auth</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#a29f26cb126028eca36320db41331a82e">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="a936e0e60088fa41dc0ceda9b99cb68e3" name="a936e0e60088fa41dc0ceda9b99cb68e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936e0e60088fa41dc0ceda9b99cb68e3">&#9670;&#160;</a></span>has_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::has_service </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mnethostid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$servicename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if an MNET host is providing the nominated service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$mnethostid</td><td>The id of the remote host </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$servicename</td><td>The name of the service </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Whether the service is available on the remote host </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4993714130776c297a1edfcadb97ac50" name="a4993714130776c297a1edfcadb97ac50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4993714130776c297a1edfcadb97ac50">&#9670;&#160;</a></span>ignore_timeout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::ignore_timeout_hook </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timecreated</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timemodified</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook called before timing out of database session. </p>
<p>This is useful for SSO and MNET.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td>session id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timecreated</td><td>start of session </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timemodified</td><td>user last seen </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means do not timeout session yet </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a000cf01b1b7cb58bf8e6838e50d9224d" name="a000cf01b1b7cb58bf8e6838e50d9224d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000cf01b1b7cb58bf8e6838e50d9224d">&#9670;&#160;</a></span>is_captcha_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_captcha_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether or not the captcha element is enabled. </p>
<p>@abstract Implement in child classes </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a40a300d76a58f69a8ad34704ba0d5763">auth_plugin_email</a>.</p>

</div>
</div>
<a id="a784738df78d605fcc572aaa92a7305c7" name="a784738df78d605fcc572aaa92a7305c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a784738df78d605fcc572aaa92a7305c7">&#9670;&#160;</a></span>is_configured()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_configured </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns false if this plugin is enabled but not configured. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a2de56f35f7188942d95fd01716e4ed8d">auth_plugin_db</a>.</p>

</div>
</div>
<a id="a169cee9d85aade1b52f75df6b70dcb8e" name="a169cee9d85aade1b52f75df6b70dcb8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a169cee9d85aade1b52f75df6b70dcb8e">&#9670;&#160;</a></span>is_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::is_internal </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin is 'internal'. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a0dd33f08da51b61b3d8ab9310f24de64">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a77ad6ffe25b6c9035ca36b0fdf755918" name="a77ad6ffe25b6c9035ca36b0fdf755918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ad6ffe25b6c9035ca36b0fdf755918">&#9670;&#160;</a></span>is_synchronised_with_external()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_synchronised_with_external </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if moodle should automatically update internal user records with data from external sources using the information from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46" title="Read user information from external database and returns it as array().">get_userinfo()</a> method. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means automatically copy data from ext to user table </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a40cfd2a14ebddeb2cd4c8f400fbe0526">auth_plugin_db</a>, and <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#aed155feb73b65f3f828f17f576f24a18">auth_oauth2\auth</a>.</p>

</div>
</div>
<a id="a7cbe020c1826b67bbcff9bfae55700fd" name="a7cbe020c1826b67bbcff9bfae55700fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cbe020c1826b67bbcff9bfae55700fd">&#9670;&#160;</a></span>keepalive_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::keepalive_client </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll the IdP server to let it know that a user it has authenticated is still online. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae1cfc34142f62c0cde9a6f3ec620bee" name="aae1cfc34142f62c0cde9a6f3ec620bee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1cfc34142f62c0cde9a6f3ec620bee">&#9670;&#160;</a></span>keepalive_server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::keepalive_server </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$array</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives an array of usernames from a remote machine and prods their sessions to keep them alive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$array</td><td>An array of usernames </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>"All ok" or an error message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab53b2bee5e12963af70e73d1a1e46756" name="ab53b2bee5e12963af70e73d1a1e46756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53b2bee5e12963af70e73d1a1e46756">&#9670;&#160;</a></span>kill_child()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::kill_child </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$useragent</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When the IdP requests that child sessions are terminated, this function will be called on each of the child hosts. </p>
<p>The machine that calls the function (over xmlrpc) provides us with the mnethostid we need.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>Username for session to kill </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$useragent</td><td>SHA1 hash of user agent to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True on success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a094e122a33f531c00aa1cad2c2037ab5" name="a094e122a33f531c00aa1cad2c2037ab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a094e122a33f531c00aa1cad2c2037ab5">&#9670;&#160;</a></span>kill_children()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::kill_children </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$useragent</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The IdP uses this function to kill child sessions on other hosts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>Username for session to kill </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$useragent</td><td>SHA1 hash of user agent to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>A plaintext report of what has happened </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa327d75c5af5986dc5208ffaaff3e5cd" name="aa327d75c5af5986dc5208ffaaff3e5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa327d75c5af5986dc5208ffaaff3e5cd">&#9670;&#160;</a></span>kill_parent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::kill_parent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$useragent</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The SP uses this function to kill the session on the parent IdP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>Username for session to kill </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$useragent</td><td>SHA1 hash of user agent to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>A plaintext report of what has happened </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a590266d46d9dd8a153de4f5c9de48966" name="a590266d46d9dd8a153de4f5c9de48966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590266d46d9dd8a153de4f5c9de48966">&#9670;&#160;</a></span>loginpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::loginpage_hook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour of login page. </p>
<p>This method is called from login/index.php page for all enabled auth plugins.</p>
<p>@global object </p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#adcb7546d888d2f85db0199211dcc0695">auth_plugin_cas</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a751f1ecf497d528e4b564c99a7db9452">auth_plugin_ldap</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#ad284bef554b49b84a56ebec16188de2d">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="a266eae8af58b48a58648ca9d70d0c1b9" name="a266eae8af58b48a58648ca9d70d0c1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a266eae8af58b48a58648ca9d70d0c1b9">&#9670;&#160;</a></span>loginpage_idp_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::loginpage_idp_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$wantsurl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of MNet IdPs that the user can roam from. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$wantsurl</td><td>The relative url fragment the user wants to get to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of arrays with keys url, icon and name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae12f9d89c198f34eb6a440a02c81a873">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a74787b6d221adbbfbeb3350369a1ddd8" name="a74787b6d221adbbfbeb3350369a1ddd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74787b6d221adbbfbeb3350369a1ddd8">&#9670;&#160;</a></span>logoutpage_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::logoutpage_hook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hook for overriding behaviour of logout page. </p>
<p>This method is called from login/logout.php page for all enabled auth plugins.</p>
<p>@global string </p>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a083093742678c20450020780c9078fd9">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a86d165eca39aaeb1e0d8c7f960423d18" name="a86d165eca39aaeb1e0d8c7f960423d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d165eca39aaeb1e0d8c7f960423d18">&#9670;&#160;</a></span>password_expire()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::password_expire </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return number of days to user password expires </p>
<p>If userpassword does not expire it should return 0. If password is already expired it should return negative value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$username</td><td>username (with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">integer</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa987b6f2306c15122a197ba388ffe5d2">auth_plugin_ldap</a>, and <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a8617d5fed10af0e509e433fb4ddec24f">auth_plugin_manual</a>.</p>

</div>
</div>
<a id="a161b8e58713047dc1afb76f972afb6b0" name="a161b8e58713047dc1afb76f972afb6b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161b8e58713047dc1afb76f972afb6b0">&#9670;&#160;</a></span>postlogout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::postlogout_hook </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post logout hook. </p>
<p>This method is used after moodle logout by auth classes to execute server logout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>clone of USER object before the user session was terminated </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a7fdf311a49fd87253c5fefaed914d4f5">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a71d1997a51da39f2eefc7fc7b2da1075" name="a71d1997a51da39f2eefc7fc7b2da1075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d1997a51da39f2eefc7fc7b2da1075">&#9670;&#160;</a></span>pre_loginpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::pre_loginpage_hook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour before going to the login page. </p>
<p>This method is called from require_login from potentially any page for all enabled auth plugins and gives each plugin a chance to redirect directly to an external login page, or to instantly login a user where possible.</p>
<p>If an auth plugin implements this hook, it must not rely on ONLY this hook in order to work, as there are many ways a user can browse directly to the standard login page. As a general rule in this case you should also implement the loginpage_hook as well. </p>

</div>
</div>
<a id="a1020896f222cdab32fa490baaa17c1b9" name="a1020896f222cdab32fa490baaa17c1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1020896f222cdab32fa490baaa17c1b9">&#9670;&#160;</a></span>pre_user_login_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::pre_user_login_hook </td>
          <td>(</td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre user_login hook. </p>
<p>This method is called from <a class="el" href="../../d0/de1/group__core.html#ga7e4714dc516fbea87d224bbb75b57bc6" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> right after the user object is generated. This gives the auth plugins an option to make adjustments before the verification process starts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>user object, later used for $USER </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a872238d9883672941a1c12e9cea72500" name="a872238d9883672941a1c12e9cea72500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a872238d9883672941a1c12e9cea72500">&#9670;&#160;</a></span>prelogout_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::prelogout_hook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup any remote mnet_sessions, kill the local mnet_session data. </p>
<p>This is called by require_logout in moodlelib</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#aa1ec655c395f6ecbd884e99a47cf26f7">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a924e24173d42049499bef18dc4ec9898" name="a924e24173d42049499bef18dc4ec9898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a924e24173d42049499bef18dc4ec9898">&#9670;&#160;</a></span>prepare_identity_providers_for_output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::prepare_identity_providers_for_output </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$identityproviders</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a></td>          <td class="paramname"><span class="paramname"><em>$output</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare a list of identity providers for output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$identityproviders</td><td>as returned by <a class="el" href="">self::get_identity_providers()</a> </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a></td><td class="paramname">$output</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the identity providers ready for output </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a19b00c02151161aad0f942f10e288029" name="a19b00c02151161aad0f942f10e288029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19b00c02151161aad0f942f10e288029">&#9670;&#160;</a></span>prevent_local_passwords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::prevent_local_passwords </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if password hashes should be stored in local moodle database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means md5 password hash stored in user table, false means flag 'not_cached' stored there instead </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a261ade2764b3aeb66582c5b8c889aee3">auth_plugin_base</a>.</p>

</div>
</div>
<a id="aa84c2e2ebb28ea283742d45f9b5f1732" name="aa84c2e2ebb28ea283742d45f9b5f1732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84c2e2ebb28ea283742d45f9b5f1732">&#9670;&#160;</a></span>process_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::process_config </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes and stores configuration data for this authentication plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>object with submitted configuration settings (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000174">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<a id="a3147238027291b5a8ec2dd86769b2aec" name="a3147238027291b5a8ec2dd86769b2aec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3147238027291b5a8ec2dd86769b2aec">&#9670;&#160;</a></span>refresh_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::refresh_log </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$array</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives an array of log entries from an SP and adds them to the mnet_log table. </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000013">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.8 Please don't use this function for recording mnet logs. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$array</td><td>An array of usernames </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>"All ok" or an error message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a662d92911f5207d0ab679491dcfb99ec" name="a662d92911f5207d0ab679491dcfb99ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a662d92911f5207d0ab679491dcfb99ec">&#9670;&#160;</a></span>set_extrauserinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::set_extrauserinfo </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set extra user information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>Any Key value pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af77f69d053c0a800f8c6929212ecfcf9" name="af77f69d053c0a800f8c6929212ecfcf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77f69d053c0a800f8c6929212ecfcf9">&#9670;&#160;</a></span>signup_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::signup_form </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a form to capture user details for account creation. </p>
<p>This is used in /login/signup.php. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">moodle_form</td><td>A form which edits a record from the user table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6764c960f81ced0863f8f555a7381d6" name="ad6764c960f81ced0863f8f555a7381d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6764c960f81ced0863f8f555a7381d6">&#9670;&#160;</a></span>start_jump_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::start_jump_session </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mnethostid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$wantsurl</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$wantsurlbackhere</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an RPC jump session and returns the jump redirect URL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$mnethostid</td><td>id of the mnet host to jump to </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$wantsurl</td><td>url to redirect to after the jump (usually on remote system) </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$wantsurlbackhere</td><td>defaults to false, means that the remote system should bounce us back here rather than somewhere inside <em>its</em> wwwroot </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ff25d207596f3e682e2d152eb5cbf6e" name="a6ff25d207596f3e682e2d152eb5cbf6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff25d207596f3e682e2d152eb5cbf6e">&#9670;&#160;</a></span>sync_roles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::sync_roles </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sync roles for this user - usually creator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$user</td><td>object user object (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a9a5216049c56fde6953a7d5460089a46">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a67dc4bb0a55e6820d0e8501fdb01068c" name="a67dc4bb0a55e6820d0e8501fdb01068c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67dc4bb0a55e6820d0e8501fdb01068c">&#9670;&#160;</a></span>trim_logline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::trim_logline </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$logline</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trims a log line from mnet peer to limit each part to a length which can be stored in our <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$logline</td><td>The log information to be trimmed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">object</td><td>The passed logline object trimmed to not exceed storable limits </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeacb8da771612783d9903b3cee5788ec" name="aeacb8da771612783d9903b3cee5788ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeacb8da771612783d9903b3cee5788ec">&#9670;&#160;</a></span>update_enrolments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::update_enrolments </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$courses</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoke this function <em>on</em> the IDP to update it with enrolment info local to the SP right after calling <a class="el" href="#a3b1c1f4bb871b22a4eeff1769a1867a2" title="Return user data for the provided token, compare with user_agent string.">user_authorise()</a> </p>
<p>Normally called by the SP after calling <a class="el" href="#a3b1c1f4bb871b22a4eeff1769a1867a2" title="Return user data for the provided token, compare with user_agent string.">user_authorise()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>The username </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$courses</td><td>Assoc array of courses following the structure of mnetservice_enrol_courses </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07b89ed34d258045eb77641388c6e374" name="a07b89ed34d258045eb77641388c6e374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b89ed34d258045eb77641388c6e374">&#9670;&#160;</a></span>update_mnet_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::update_mnet_session </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$token</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$remotepeer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>creates (or updates) the mnet session once { </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a6b846138c00cc8625c39052d14c2b64c" title="This function confirms the remote (ID provider) host&#39;s mnet session by communicating the token and UA...">confirm_mnet_session</a>} and {</dd>
<dd>
<a class="el" href="../../d0/de1/group__core.html#ga4acb6121854c6a3cd8c99c31fa2c4275" title="Call to complete the user login process after authenticate_user_login() has succeeded.">complete_user_login</a>} have both been called</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdclass</td><td class="paramname">$user</td><td>the local user (must exist already </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>the jump/land token </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/dad/classmnet__peer.html">mnet_peer</a></td><td class="paramname">$remotepeer</td><td>the <a class="el" href="../../d2/dad/classmnet__peer.html">mnet_peer</a> object of this users's idp </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7cddbf9e25745e24af8155b9c66caa55" name="a7cddbf9e25745e24af8155b9c66caa55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cddbf9e25745e24af8155b9c66caa55">&#9670;&#160;</a></span>update_user_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::update_user_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$updatekeys</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$triggerevent</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$suspenduser</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update a local user record from an external source. </p>
<p>This is a lighter version of the one in moodlelib &ndash; won't do expensive ops such as enrolment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$updatekeys</td><td>fields to update, false updates all fields. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$triggerevent</td><td>set false if user_updated event should not be triggered. This will not affect user_password_updated event triggering. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$suspenduser</td><td>Should the user be suspended? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|bool</td><td>updated user record or false if there is no new info to update. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f41448612b93e326f25264a8a197e39" name="a0f41448612b93e326f25264a8a197e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f41448612b93e326f25264a8a197e39">&#9670;&#160;</a></span>user_authenticated_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_authenticated_hook </td>
          <td>(</td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$user</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$password</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post authentication hook. </p>
<p>This method is called from <a class="el" href="../../d0/de1/group__core.html#ga7e4714dc516fbea87d224bbb75b57bc6" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> for all enabled auth plugins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>user object, later used for $USER </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>(with system magic quotes) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>plain text password (with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b1c1f4bb871b22a4eeff1769a1867a2" name="a3b1c1f4bb871b22a4eeff1769a1867a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b1c1f4bb871b22a4eeff1769a1867a2">&#9670;&#160;</a></span>user_authorise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::user_authorise </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$token</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$useragent</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return user data for the provided token, compare with user_agent string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>The unique ID provided by remotehost. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$useragent</td><td>User Agent string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array::$userdata</td><td>Array of user info for remote host </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5c859c2ce584ade45e98a11683647ae1" name="a5c859c2ce584ade45e98a11683647ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c859c2ce584ade45e98a11683647ae1">&#9670;&#160;</a></span>user_confirm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_confirm </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$confirmsecret</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Confirm the new user as registered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$confirmsecret</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a31f5dafdc1e34efca1654fb9e2b2f154">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ac33178d865c00bed670859cdaf5bf8e9">auth_plugin_ldap</a>, <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#aa8b7342fde4535556bccfa76be1adb44">auth_oauth2\auth</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a346ccdbd4bcf50f2ee5fea9fc10d3d9b">auth_plugin_manual</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#a4551b3bbe7f56bfd948e69e5c2d25b39">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="a62731aff3764f0bfde3cbcadf47e8208" name="a62731aff3764f0bfde3cbcadf47e8208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62731aff3764f0bfde3cbcadf47e8208">&#9670;&#160;</a></span>user_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_delete </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$olduser</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User delete requested - internal user record is mared as deleted already, username not present anymore. </p>
<p>Do any action in external database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>Userobject before delete (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad7bb0b4120624dc594e5fe5e29e003b6" name="ad7bb0b4120624dc594e5fe5e29e003b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7bb0b4120624dc594e5fe5e29e003b6">&#9670;&#160;</a></span>user_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if user exists in external db. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>(with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a9923fc8ca736e7572db178e5332de04a">auth_plugin_db</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa6d28cff576e8323b3c0d106c4c20123">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a297c888a803d6a5130c014c4a24d33ea" name="a297c888a803d6a5130c014c4a24d33ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297c888a803d6a5130c014c4a24d33ea">&#9670;&#160;</a></span>user_login()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_mnet::user_login </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$password</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is normally used to determine if the username and password are correct for local logins. </p>
<p>Always returns false, as local users do not need to login over mnet xmlrpc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>The username </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>The password </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Authentication success or failure. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a6058156bc816a3fe164212cf697755ec">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a47840a5fd43ae4bae4c0b562f0a0ff94" name="a47840a5fd43ae4bae4c0b562f0a0ff94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47840a5fd43ae4bae4c0b562f0a0ff94">&#9670;&#160;</a></span>user_signup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_signup </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$notify</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sign up a new user ready for confirmation. </p>
<p>Password is passed in plaintext.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>new user object </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$notify</td><td>print notice with link and terminate </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#ae8c1d5cac98ba1218e3712cd14a7de9c">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a3f8255295d0b40d056c29f21e8e66cb1">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="aa7c6287e69024da1720e15027c3a347d" name="aa7c6287e69024da1720e15027c3a347d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c6287e69024da1720e15027c3a347d">&#9670;&#160;</a></span>user_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_update </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$olduser</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newuser</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the user record is updated. </p>
<p>Modifies user in external database. It takes olduser (before changes) and newuser (after changes) compares information saved modified information to external db.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$olduser</td><td>Userobject before modifications (without system magic quotes) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$newuser</td><td>Userobject new modified userobject (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>true if updated or update ignored; false if error </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a0a8b36eb133a83543393610ef55482e5">auth_plugin_db</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ad97823078da1da9936ed62c394adda7e">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a6360533b7796dfc382899ba361021ec4" name="a6360533b7796dfc382899ba361021ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6360533b7796dfc382899ba361021ec4">&#9670;&#160;</a></span>user_update_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_update_password </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newpassword</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the user's password. </p>
<p>In previous versions of <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>, the function auth_user_update_password accepted a username as the first parameter. The revised function expects a user object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>User table object </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newpassword</td><td>Plaintext password</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True on success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a9a9bed319174698e3979530eacf420f2">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#aa4d3b930dbbeeded8df347cb6a00973d">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a7c1d470409555ef70bf8490ff2656639">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#ae4d1730f2e250c648564cd59097fc2bd">auth_plugin_manual</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#a35eed723a653a0c3c99d8deab68d1822">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#aad8ddf63e7cf28b9c02b24bd5288888b">auth_plugin_none</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#a62fd82defafaf8ed66f90632a2d32bb4">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="afa597d2387e70cb903c8a5c64e72c1a0" name="afa597d2387e70cb903c8a5c64e72c1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa597d2387e70cb903c8a5c64e72c1a0">&#9670;&#160;</a></span>validate_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::validate_form </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$form</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$err</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A chance to validate form data, and last chance to do stuff before it is inserted in config_plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">object</td><td>object with submitted configuration settings (without system magic quotes) </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$err</td><td>array of error messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000173">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>auth/mnet/<b>auth.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 12 2024 02:40:34 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
