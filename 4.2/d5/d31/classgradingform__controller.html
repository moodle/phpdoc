<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: gradingform_controller Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.2</span>
   </div>
   <div id="projectbrief">Moodle 4.2.7+ (Build: 20240530) (be10cd772bc)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../dc/d83/classgradingform__controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gradingform_controller Class Reference<div class="ingroups"><a class="el" href="../../d5/d44/group__core__grading.html">core_grading</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Class represents a grading form definition used in a particular area.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for gradingform_controller:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d5/d31/classgradingform__controller.png" usemap="#gradingform_5Fcontroller_map" alt=""/>
  <map id="gradingform_5Fcontroller_map" name="gradingform_5Fcontroller_map">
<area href="../../db/d9e/classgradingform__guide__controller.html" title="This controller encapsulates the guide grading logic." alt="gradingform_guide_controller" shape="rect" coords="0,56,182,80"/>
<area href="../../dc/d1b/classgradingform__rubric__controller.html" title="This controller encapsulates the rubric grading logic." alt="gradingform_rubric_controller" shape="rect" coords="192,56,374,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adfc3c7170afb8b6bf7d1aea0543c76d3" id="r_adfc3c7170afb8b6bf7d1aea0543c76d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfc3c7170afb8b6bf7d1aea0543c76d3">__construct</a> (stdClass $context, $component, $area, $areaid)</td></tr>
<tr class="memdesc:adfc3c7170afb8b6bf7d1aea0543c76d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not instantinate this directly, use <a class="el" href="">grading_manager::get_controller()</a>.  <br /></td></tr>
<tr class="separator:adfc3c7170afb8b6bf7d1aea0543c76d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914264bc4f10614299cef44af937ccc2" id="r_a914264bc4f10614299cef44af937ccc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a914264bc4f10614299cef44af937ccc2">create_instance</a> ($raterid, $itemid=null)</td></tr>
<tr class="memdesc:a914264bc4f10614299cef44af937ccc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is invoked when user (teacher) starts grading.  <br /></td></tr>
<tr class="separator:a914264bc4f10614299cef44af937ccc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ad9c12afd0e28b3866c599189b8412" id="r_a72ad9c12afd0e28b3866c599189b8412"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72ad9c12afd0e28b3866c599189b8412">delete_definition</a> ()</td></tr>
<tr class="memdesc:a72ad9c12afd0e28b3866c599189b8412"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the form definition and all the associated data.  <br /></td></tr>
<tr class="separator:a72ad9c12afd0e28b3866c599189b8412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c2744fe474a9f536df6d54aac086e07" id="r_a1c2744fe474a9f536df6d54aac086e07"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c2744fe474a9f536df6d54aac086e07">extend_navigation</a> (<a class="el" href="../../d9/de0/classglobal__navigation.html">global_navigation</a> $navigation, <a class="el" href="../../dd/de3/classnavigation__node.html">navigation_node</a> $node=null)</td></tr>
<tr class="memdesc:a1c2744fe474a9f536df6d54aac086e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extends the module navigation.  <br /></td></tr>
<tr class="separator:a1c2744fe474a9f536df6d54aac086e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501044c8570a3c6f0c6fe8091e05a57f" id="r_a501044c8570a3c6f0c6fe8091e05a57f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a501044c8570a3c6f0c6fe8091e05a57f">extend_settings_navigation</a> (<a class="el" href="../../d8/dca/classsettings__navigation.html">settings_navigation</a> $settingsnav, <a class="el" href="../../dd/de3/classnavigation__node.html">navigation_node</a> $node=null)</td></tr>
<tr class="memdesc:a501044c8570a3c6f0c6fe8091e05a57f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extends the module settings navigation.  <br /></td></tr>
<tr class="separator:a501044c8570a3c6f0c6fe8091e05a57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053684c4e7bc6b1c9c57df454754d5d5" id="r_a053684c4e7bc6b1c9c57df454754d5d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a053684c4e7bc6b1c9c57df454754d5d5">fetch_instance</a> (int $raterid, int $itemid, ?int $instanceid)</td></tr>
<tr class="memdesc:a053684c4e7bc6b1c9c57df454754d5d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">If an instanceid is specified and grading instance exists and it is created by this rater for this item, then the instance is returned.  <br /></td></tr>
<tr class="separator:a053684c4e7bc6b1c9c57df454754d5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf44945252f2b25beee10a7e5abbc2bb" id="r_aaf44945252f2b25beee10a7e5abbc2bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf44945252f2b25beee10a7e5abbc2bb">form_unavailable_notification</a> ()</td></tr>
<tr class="memdesc:aaf44945252f2b25beee10a7e5abbc2bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a message why this form is unavailable.  <br /></td></tr>
<tr class="separator:aaf44945252f2b25beee10a7e5abbc2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa89c4c5c3df0255f7d5b7b26f8cef530" id="r_aa89c4c5c3df0255f7d5b7b26f8cef530"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa89c4c5c3df0255f7d5b7b26f8cef530">get_active_instances</a> ($itemid)</td></tr>
<tr class="memdesc:aa89c4c5c3df0255f7d5b7b26f8cef530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns list of ACTIVE instances for the specified $itemid (intentionally does not return instances with status NEEDUPDATE)  <br /></td></tr>
<tr class="separator:aa89c4c5c3df0255f7d5b7b26f8cef530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff126ed50094d59e6ad0dd8eb2ac134a" id="r_aff126ed50094d59e6ad0dd8eb2ac134a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff126ed50094d59e6ad0dd8eb2ac134a">get_all_active_instances</a> ($since=0)</td></tr>
<tr class="memdesc:aff126ed50094d59e6ad0dd8eb2ac134a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of all active instances for this definition.  <br /></td></tr>
<tr class="separator:aff126ed50094d59e6ad0dd8eb2ac134a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8277d64bef631f63e7de672aefcf3137" id="r_a8277d64bef631f63e7de672aefcf3137"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8277d64bef631f63e7de672aefcf3137">get_allow_grade_decimals</a> ()</td></tr>
<tr class="memdesc:a8277d64bef631f63e7de672aefcf3137"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if decimal values are allowed as grades.  <br /></td></tr>
<tr class="separator:a8277d64bef631f63e7de672aefcf3137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fedfa0a38cdbc54297de04fbe10f25" id="r_ae8fedfa0a38cdbc54297de04fbe10f25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8fedfa0a38cdbc54297de04fbe10f25">get_area</a> ()</td></tr>
<tr class="memdesc:ae8fedfa0a38cdbc54297de04fbe10f25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns gradable area name.  <br /></td></tr>
<tr class="separator:ae8fedfa0a38cdbc54297de04fbe10f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c35437a101806292dc9368c20b9032a" id="r_a9c35437a101806292dc9368c20b9032a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c35437a101806292dc9368c20b9032a">get_areaid</a> ()</td></tr>
<tr class="memdesc:a9c35437a101806292dc9368c20b9032a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns gradable area id.  <br /></td></tr>
<tr class="separator:a9c35437a101806292dc9368c20b9032a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9bfde590c093d72bb3521dcb8667e05" id="r_ab9bfde590c093d72bb3521dcb8667e05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9bfde590c093d72bb3521dcb8667e05">get_component</a> ()</td></tr>
<tr class="memdesc:ab9bfde590c093d72bb3521dcb8667e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns gradable component name.  <br /></td></tr>
<tr class="separator:ab9bfde590c093d72bb3521dcb8667e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a972776b683db5a69ad3e225fcb62c2bb" id="r_a972776b683db5a69ad3e225fcb62c2bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a972776b683db5a69ad3e225fcb62c2bb">get_context</a> ()</td></tr>
<tr class="memdesc:a972776b683db5a69ad3e225fcb62c2bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns controller context.  <br /></td></tr>
<tr class="separator:a972776b683db5a69ad3e225fcb62c2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90784bfcc5638b7f148638c13b15a745" id="r_a90784bfcc5638b7f148638c13b15a745"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90784bfcc5638b7f148638c13b15a745">get_current_instance</a> ($raterid, $itemid, $idonly=false)</td></tr>
<tr class="memdesc:a90784bfcc5638b7f148638c13b15a745"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current instance (either with status ACTIVE or NEEDUPDATE) for this definition for the specified $raterid and $itemid (if multiple raters are allowed, or only for $itemid otherwise).  <br /></td></tr>
<tr class="separator:a90784bfcc5638b7f148638c13b15a745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1fb40cd6a7ec8ece2b9b2f4ac73333" id="r_afd1fb40cd6a7ec8ece2b9b2f4ac73333"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd1fb40cd6a7ec8ece2b9b2f4ac73333">get_definition</a> ($force=false)</td></tr>
<tr class="memdesc:afd1fb40cd6a7ec8ece2b9b2f4ac73333"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the grading form definition structure.  <br /></td></tr>
<tr class="separator:afd1fb40cd6a7ec8ece2b9b2f4ac73333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41daf0cc260e309fe01aacc9ceff9a86" id="r_a41daf0cc260e309fe01aacc9ceff9a86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41daf0cc260e309fe01aacc9ceff9a86">get_definition_copy</a> (<a class="el" href="../../d5/d31/classgradingform__controller.html">gradingform_controller</a> $target)</td></tr>
<tr class="memdesc:a41daf0cc260e309fe01aacc9ceff9a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the form definition suitable for cloning into another area.  <br /></td></tr>
<tr class="separator:a41daf0cc260e309fe01aacc9ceff9a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82032e5f10bb3be21af0e9d5dbe07ff6" id="r_a82032e5f10bb3be21af0e9d5dbe07ff6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82032e5f10bb3be21af0e9d5dbe07ff6">get_editor_url</a> (<a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a> $returnurl=null)</td></tr>
<tr class="memdesc:a82032e5f10bb3be21af0e9d5dbe07ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns URL of a page where the grading form can be defined and edited.  <br /></td></tr>
<tr class="separator:a82032e5f10bb3be21af0e9d5dbe07ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9dc91d1bd0e2a0610233785575a3c69" id="r_ae9dc91d1bd0e2a0610233785575a3c69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9dc91d1bd0e2a0610233785575a3c69">get_formatted_description</a> ()</td></tr>
<tr class="memdesc:ae9dc91d1bd0e2a0610233785575a3c69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the definition description for display on page.  <br /></td></tr>
<tr class="separator:ae9dc91d1bd0e2a0610233785575a3c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a1ae80b45ec8cc00b6ee578da2f87a" id="r_aa1a1ae80b45ec8cc00b6ee578da2f87a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1a1ae80b45ec8cc00b6ee578da2f87a">get_grade_range</a> ()</td></tr>
<tr class="memdesc:aa1a1ae80b45ec8cc00b6ee578da2f87a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the range of grades used in this area.  <br /></td></tr>
<tr class="separator:aa1a1ae80b45ec8cc00b6ee578da2f87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea8bc27594428de649c41eedc9f991c" id="r_a1ea8bc27594428de649c41eedc9f991c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ea8bc27594428de649c41eedc9f991c">get_or_create_instance</a> ($instanceid, $raterid, $itemid)</td></tr>
<tr class="memdesc:a1ea8bc27594428de649c41eedc9f991c"><td class="mdescLeft">&#160;</td><td class="mdescRight">If instanceid is specified and grading instance exists and it is created by this rater for this item, this instance is returned.  <br /></td></tr>
<tr class="separator:a1ea8bc27594428de649c41eedc9f991c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b68ce07d95120be267c30dcbd9f3f9b" id="r_a6b68ce07d95120be267c30dcbd9f3f9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b68ce07d95120be267c30dcbd9f3f9b">has_active_instances</a> ()</td></tr>
<tr class="memdesc:a6b68ce07d95120be267c30dcbd9f3f9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there are already people who has been graded on this definition.  <br /></td></tr>
<tr class="separator:a6b68ce07d95120be267c30dcbd9f3f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2453c1d71f5811ce3a998f3ef62d618" id="r_ab2453c1d71f5811ce3a998f3ef62d618"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2453c1d71f5811ce3a998f3ef62d618">is_form_available</a> ()</td></tr>
<tr class="memdesc:ab2453c1d71f5811ce3a998f3ef62d618"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the grading form defined and ready for usage?  <br /></td></tr>
<tr class="separator:ab2453c1d71f5811ce3a998f3ef62d618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b42c28e2232a5965a2b4d69390275d9" id="r_a3b42c28e2232a5965a2b4d69390275d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b42c28e2232a5965a2b4d69390275d9">is_form_defined</a> ()</td></tr>
<tr class="memdesc:a3b42c28e2232a5965a2b4d69390275d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the form definition record available?  <br /></td></tr>
<tr class="separator:a3b42c28e2232a5965a2b4d69390275d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff3c573e869d354b82012ecfdd64738" id="r_a8ff3c573e869d354b82012ecfdd64738"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ff3c573e869d354b82012ecfdd64738">is_own_form</a> ($userid=null)</td></tr>
<tr class="memdesc:a8ff3c573e869d354b82012ecfdd64738"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the grading form owned by the given user?  <br /></td></tr>
<tr class="separator:a8ff3c573e869d354b82012ecfdd64738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c350bce6d60df7287bacb0f50dafec5" id="r_a8c350bce6d60df7287bacb0f50dafec5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c350bce6d60df7287bacb0f50dafec5">is_shared_template</a> ()</td></tr>
<tr class="memdesc:a8c350bce6d60df7287bacb0f50dafec5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the grading form saved as a shared public template?  <br /></td></tr>
<tr class="separator:a8c350bce6d60df7287bacb0f50dafec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8354338499573885caada479d74b98" id="r_a4b8354338499573885caada479d74b98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b8354338499573885caada479d74b98">render_grade</a> ($page, $itemid, $gradinginfo, $defaultcontent, $cangrade)</td></tr>
<tr class="memdesc:a4b8354338499573885caada479d74b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns html code to be included in student's feedback.  <br /></td></tr>
<tr class="separator:a4b8354338499573885caada479d74b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bdf62b123d5660729ea4b74aaf373c" id="r_a67bdf62b123d5660729ea4b74aaf373c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67bdf62b123d5660729ea4b74aaf373c">render_preview</a> (<a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a> $page)</td></tr>
<tr class="memdesc:a67bdf62b123d5660729ea4b74aaf373c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the HTML code displaying the preview of the grading form.  <br /></td></tr>
<tr class="separator:a67bdf62b123d5660729ea4b74aaf373c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d343f29e8f530d7a9b6ccd546568bf" id="r_ab4d343f29e8f530d7a9b6ccd546568bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4d343f29e8f530d7a9b6ccd546568bf">set_grade_range</a> (array $graderange, $allowgradedecimals=false)</td></tr>
<tr class="memdesc:ab4d343f29e8f530d7a9b6ccd546568bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the range of grades used in this area.  <br /></td></tr>
<tr class="separator:ab4d343f29e8f530d7a9b6ccd546568bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe284556012593386ef976785b4db837" id="r_abe284556012593386ef976785b4db837"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe284556012593386ef976785b4db837">update_definition</a> (stdClass $definition, $usermodified=null)</td></tr>
<tr class="memdesc:abe284556012593386ef976785b4db837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the defintion data into the database.  <br /></td></tr>
<tr class="separator:abe284556012593386ef976785b4db837"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac63ea6fbb80af20bf044e1fd252f9256" id="r_ac63ea6fbb80af20bf044e1fd252f9256"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac63ea6fbb80af20bf044e1fd252f9256">get_external_definition_details</a> ()</td></tr>
<tr class="memdesc:ac63ea6fbb80af20bf044e1fd252f9256"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden by sub classes that wish to make definition details available to web services.  <br /></td></tr>
<tr class="separator:ac63ea6fbb80af20bf044e1fd252f9256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd23903b4cae9ed61061729fe046e16" id="r_affd23903b4cae9ed61061729fe046e16"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affd23903b4cae9ed61061729fe046e16">get_external_instance_filling_details</a> ()</td></tr>
<tr class="memdesc:affd23903b4cae9ed61061729fe046e16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden by sub classes that wish to make instance filling details available to web services.  <br /></td></tr>
<tr class="separator:affd23903b4cae9ed61061729fe046e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2daebb572e50cac4719d47e5e46316c0" id="r_a2daebb572e50cac4719d47e5e46316c0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2daebb572e50cac4719d47e5e46316c0">sql_search_from_tables</a> ($gdid)</td></tr>
<tr class="memdesc:a2daebb572e50cac4719d47e5e46316c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the part of the search query to append to the FROM statement.  <br /></td></tr>
<tr class="separator:a2daebb572e50cac4719d47e5e46316c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8aa99efe74014196f6e92c104a81837" id="r_ad8aa99efe74014196f6e92c104a81837"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8aa99efe74014196f6e92c104a81837">sql_search_where</a> ($token)</td></tr>
<tr class="memdesc:ad8aa99efe74014196f6e92c104a81837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the parts of the SQL WHERE statement to search for the given token.  <br /></td></tr>
<tr class="separator:ad8aa99efe74014196f6e92c104a81837"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab85873dacae7b85de83abf7d44526717" id="r_ab85873dacae7b85de83abf7d44526717"><td class="memItemLeft" align="right" valign="top"><a id="ab85873dacae7b85de83abf7d44526717" name="ab85873dacae7b85de83abf7d44526717"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINITION_STATUS_DRAFT</b> = 10</td></tr>
<tr class="memdesc:ab85873dacae7b85de83abf7d44526717"><td class="mdescLeft">&#160;</td><td class="mdescRight">the form is currently being edited and is not ready for usage yet <br /></td></tr>
<tr class="separator:ab85873dacae7b85de83abf7d44526717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521010e1b1667eed75b84d9285da6794" id="r_a521010e1b1667eed75b84d9285da6794"><td class="memItemLeft" align="right" valign="top"><a id="a521010e1b1667eed75b84d9285da6794" name="a521010e1b1667eed75b84d9285da6794"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINITION_STATUS_NULL</b> = 0</td></tr>
<tr class="memdesc:a521010e1b1667eed75b84d9285da6794"><td class="mdescLeft">&#160;</td><td class="mdescRight">undefined definition status <br /></td></tr>
<tr class="separator:a521010e1b1667eed75b84d9285da6794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af17de4b9b72da45b0b4f363754b3a410" id="r_af17de4b9b72da45b0b4f363754b3a410"><td class="memItemLeft" align="right" valign="top"><a id="af17de4b9b72da45b0b4f363754b3a410" name="af17de4b9b72da45b0b4f363754b3a410"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINITION_STATUS_READY</b> = 20</td></tr>
<tr class="memdesc:af17de4b9b72da45b0b4f363754b3a410"><td class="mdescLeft">&#160;</td><td class="mdescRight">the form was marked as ready for actual usage <br /></td></tr>
<tr class="separator:af17de4b9b72da45b0b4f363754b3a410"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a24fc708524ee53caa678717ff945cffe" id="r_a24fc708524ee53caa678717ff945cffe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24fc708524ee53caa678717ff945cffe">delete_plugin_definition</a> ()</td></tr>
<tr class="memdesc:a24fc708524ee53caa678717ff945cffe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes all plugin data associated with the given form definiton.  <br /></td></tr>
<tr class="separator:a24fc708524ee53caa678717ff945cffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca28566bf4094d396047ea0d9103b85c" id="r_aca28566bf4094d396047ea0d9103b85c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca28566bf4094d396047ea0d9103b85c">get_instance</a> ($instance)</td></tr>
<tr class="memdesc:aca28566bf4094d396047ea0d9103b85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the object of type gradingform_XXX_instance (where XXX is the plugin method name)  <br /></td></tr>
<tr class="separator:aca28566bf4094d396047ea0d9103b85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47affc8d8a89b6c9fb67f329cea4af39" id="r_a47affc8d8a89b6c9fb67f329cea4af39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47affc8d8a89b6c9fb67f329cea4af39">get_method_name</a> ()</td></tr>
<tr class="memdesc:a47affc8d8a89b6c9fb67f329cea4af39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the grading method plugin, eg 'rubric'.  <br /></td></tr>
<tr class="separator:a47affc8d8a89b6c9fb67f329cea4af39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c61dd9a025c1c2651d6b65652a5f4c1" id="r_a0c61dd9a025c1c2651d6b65652a5f4c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c61dd9a025c1c2651d6b65652a5f4c1">load_definition</a> ()</td></tr>
<tr class="memdesc:a0c61dd9a025c1c2651d6b65652a5f4c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the form definition if it exists.  <br /></td></tr>
<tr class="separator:a0c61dd9a025c1c2651d6b65652a5f4c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a5bf040b32b2ee78ffe5840c9d779a4fd" id="r_a5bf040b32b2ee78ffe5840c9d779a4fd"><td class="memItemLeft" align="right" valign="top"><a id="a5bf040b32b2ee78ffe5840c9d779a4fd" name="a5bf040b32b2ee78ffe5840c9d779a4fd"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$area</b></td></tr>
<tr class="memdesc:a5bf040b32b2ee78ffe5840c9d779a4fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">the name of the gradable area <br /></td></tr>
<tr class="separator:a5bf040b32b2ee78ffe5840c9d779a4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af51209c4f2bcc9e53a34c47ff6204680" id="r_af51209c4f2bcc9e53a34c47ff6204680"><td class="memItemLeft" align="right" valign="top"><a id="af51209c4f2bcc9e53a34c47ff6204680" name="af51209c4f2bcc9e53a34c47ff6204680"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$areaid</b></td></tr>
<tr class="memdesc:af51209c4f2bcc9e53a34c47ff6204680"><td class="mdescLeft">&#160;</td><td class="mdescRight">the id of the gradable area record <br /></td></tr>
<tr class="separator:af51209c4f2bcc9e53a34c47ff6204680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf8364715172bbb6998fa9629b2f7b8" id="r_a1cf8364715172bbb6998fa9629b2f7b8"><td class="memItemLeft" align="right" valign="top"><a id="a1cf8364715172bbb6998fa9629b2f7b8" name="a1cf8364715172bbb6998fa9629b2f7b8"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$component</b></td></tr>
<tr class="memdesc:a1cf8364715172bbb6998fa9629b2f7b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">the frankenstyle name of the component <br /></td></tr>
<tr class="separator:a1cf8364715172bbb6998fa9629b2f7b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fb03766b645ad4c8e49a75b3ddd0ed0" id="r_a9fb03766b645ad4c8e49a75b3ddd0ed0"><td class="memItemLeft" align="right" valign="top"><a id="a9fb03766b645ad4c8e49a75b3ddd0ed0" name="a9fb03766b645ad4c8e49a75b3ddd0ed0"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>$context</b></td></tr>
<tr class="memdesc:a9fb03766b645ad4c8e49a75b3ddd0ed0"><td class="mdescLeft">&#160;</td><td class="mdescRight">the context <br /></td></tr>
<tr class="separator:a9fb03766b645ad4c8e49a75b3ddd0ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac81bc90e6f8ae304b20ae900f9f17429" id="r_ac81bc90e6f8ae304b20ae900f9f17429"><td class="memItemLeft" align="right" valign="top"><a id="ac81bc90e6f8ae304b20ae900f9f17429" name="ac81bc90e6f8ae304b20ae900f9f17429"></a>
stdClass false&#160;</td><td class="memItemRight" valign="bottom"><b>$definition</b> = false</td></tr>
<tr class="memdesc:ac81bc90e6f8ae304b20ae900f9f17429"><td class="mdescLeft">&#160;</td><td class="mdescRight">the definition structure <br /></td></tr>
<tr class="separator:ac81bc90e6f8ae304b20ae900f9f17429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ca3f82d6a5a23002a7252dae6090dd" id="r_ae0ca3f82d6a5a23002a7252dae6090dd"><td class="memItemLeft" align="right" valign="top"><a id="ae0ca3f82d6a5a23002a7252dae6090dd" name="ae0ca3f82d6a5a23002a7252dae6090dd"></a>
boolean null&#160;</td><td class="memItemRight" valign="bottom"><b>$hasactiveinstances</b> = null</td></tr>
<tr class="memdesc:ae0ca3f82d6a5a23002a7252dae6090dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">cached result of function has_active_instances() <br /></td></tr>
<tr class="separator:ae0ca3f82d6a5a23002a7252dae6090dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class represents a grading form definition used in a particular area. </p>
<p>General data about definition is stored in the standard <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> table grading_definitions. A separate entry is created for each grading area (i.e. for each module). Plugins may define and use additional tables to store additional data about definitions.</p>
<p>Advanced grading plugins must declare a class gradingform_xxxx_controller extending this class and put it in lib.php in the plugin folder.</p>
<p>See <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html">gradingform_rubric_controller</a> as an example</p>
<p>Except for overwriting abstract functions, plugin developers may want to overwrite functions responsible for loading and saving of the definition to include additional data stored.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>2011 David Mudrak <a href="#" onclick="location.href='mai'+'lto:'+'dav'+'id'+'@mo'+'od'+'le.'+'co'+'m'; return false;">david<span class="obfuscator">.nosp@m.</span>@moo<span class="obfuscator">.nosp@m.</span>dle.c<span class="obfuscator">.nosp@m.</span>om</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adfc3c7170afb8b6bf7d1aea0543c76d3" name="adfc3c7170afb8b6bf7d1aea0543c76d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfc3c7170afb8b6bf7d1aea0543c76d3">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::__construct </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$area</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do not instantinate this directly, use <a class="el" href="">grading_manager::get_controller()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$context</td><td>the context of the form </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>the frankenstyle name of the component </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$area</td><td>the name of the gradable area </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$areaid</td><td>the id of the gradable area record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a914264bc4f10614299cef44af937ccc2" name="a914264bc4f10614299cef44af937ccc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914264bc4f10614299cef44af937ccc2">&#9670;&#160;</a></span>create_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::create_instance </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$raterid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is invoked when user (teacher) starts grading. </p>
<p>It creates and returns copy of the current ACTIVE instance if it exists. If this is the first grading attempt, a new instance is created. The status of the returned instance is INCOMPLETE</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$raterid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d63/classgradingform__instance.html" title="Class to manage one gradingform instance.">gradingform_instance</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a72ad9c12afd0e28b3866c599189b8412" name="a72ad9c12afd0e28b3866c599189b8412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72ad9c12afd0e28b3866c599189b8412">&#9670;&#160;</a></span>delete_definition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::delete_definition </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the form definition and all the associated data. </p>
<dl class="section see"><dt>See also</dt><dd>delete_plugin_definition() </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a24fc708524ee53caa678717ff945cffe" name="a24fc708524ee53caa678717ff945cffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24fc708524ee53caa678717ff945cffe">&#9670;&#160;</a></span>delete_plugin_definition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::delete_plugin_definition </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes all plugin data associated with the given form definiton. </p>
<dl class="section see"><dt>See also</dt><dd>delete_definition() </dd></dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#a6d2a9adb9e6b9e4b4735bd97ababfd23">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a50a486aded0b0f0a8c9743e43d8fa9cd">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="a1c2744fe474a9f536df6d54aac086e07" name="a1c2744fe474a9f536df6d54aac086e07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c2744fe474a9f536df6d54aac086e07">&#9670;&#160;</a></span>extend_navigation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::extend_navigation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/de0/classglobal__navigation.html">global_navigation</a></td>          <td class="paramname"><span class="paramname"><em>$navigation</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/de3/classnavigation__node.html">navigation_node</a></td>          <td class="paramname"><span class="paramname"><em>$node</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extends the module navigation. </p>
<p>This function is called when the context for the page is an activity module with the FEATURE_ADVANCED_GRADING and there is an area with the active grading method set to the given plugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d9/de0/classglobal__navigation.html" title="The global navigation class used for... the global navigation.">global_navigation</a></td><td class="paramname">$navigation</td><td><a class="el" href="../../d9/de0/classglobal__navigation.html">global_navigation</a> </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dd/de3/classnavigation__node.html" title="This class is used to represent a node in a navigation tree.">navigation_node</a></td><td class="paramname">$node</td><td><a class="el" href="../../dd/de3/classnavigation__node.html">navigation_node</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#a8df40d9b8f69ced0934b718eeb74742e">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#ab718732470cd4e63c3314de7259ca2b5">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="a501044c8570a3c6f0c6fe8091e05a57f" name="a501044c8570a3c6f0c6fe8091e05a57f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a501044c8570a3c6f0c6fe8091e05a57f">&#9670;&#160;</a></span>extend_settings_navigation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::extend_settings_navigation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dca/classsettings__navigation.html">settings_navigation</a></td>          <td class="paramname"><span class="paramname"><em>$settingsnav</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/de3/classnavigation__node.html">navigation_node</a></td>          <td class="paramname"><span class="paramname"><em>$node</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extends the module settings navigation. </p>
<p>This function is called when the context for the page is an activity module with the FEATURE_ADVANCED_GRADING, the user has the permission moodle/grade:managegradingforms and there is an area with the active grading method set to the given plugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/dca/classsettings__navigation.html" title="Class used to manage the settings option for the current page.">settings_navigation</a></td><td class="paramname">$settingsnav</td><td><a class="el" href="../../d8/dca/classsettings__navigation.html">settings_navigation</a> </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dd/de3/classnavigation__node.html" title="This class is used to represent a node in a navigation tree.">navigation_node</a></td><td class="paramname">$node</td><td><a class="el" href="../../dd/de3/classnavigation__node.html">navigation_node</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#ac67dc7592fe6923c4fec342695699b56">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a593aec6304d39d29de25a1f97c4cd1f7">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="a053684c4e7bc6b1c9c57df454754d5d5" name="a053684c4e7bc6b1c9c57df454754d5d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a053684c4e7bc6b1c9c57df454754d5d5">&#9670;&#160;</a></span>fetch_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::fetch_instance </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$raterid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?int</td>          <td class="paramname"><span class="paramname"><em>$instanceid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If an instanceid is specified and grading instance exists and it is created by this rater for this item, then the instance is returned. </p>
<p>If instanceid is not known, then null can be passed to fetch the current instance matchign the specified raterid and itemid.</p>
<p>If the instanceid is falsey, or no instance was found, then create a new instance for the specified rater and item.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$raterid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$instanceid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d63/classgradingform__instance.html" title="Class to manage one gradingform instance.">gradingform_instance</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf44945252f2b25beee10a7e5abbc2bb" name="aaf44945252f2b25beee10a7e5abbc2bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf44945252f2b25beee10a7e5abbc2bb">&#9670;&#160;</a></span>form_unavailable_notification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::form_unavailable_notification </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a message why this form is unavailable. </p>
<p>Maybe overriden by plugins to give more details. </p><dl class="section see"><dt>See also</dt><dd>is_form_available()</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa89c4c5c3df0255f7d5b7b26f8cef530" name="aa89c4c5c3df0255f7d5b7b26f8cef530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa89c4c5c3df0255f7d5b7b26f8cef530">&#9670;&#160;</a></span>get_active_instances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_active_instances </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns list of ACTIVE instances for the specified $itemid (intentionally does not return instances with status NEEDUPDATE) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of <a class="el" href="../../dc/d63/classgradingform__instance.html" title="Class to manage one gradingform instance.">gradingform_instance</a> objects </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff126ed50094d59e6ad0dd8eb2ac134a" name="aff126ed50094d59e6ad0dd8eb2ac134a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff126ed50094d59e6ad0dd8eb2ac134a">&#9670;&#160;</a></span>get_all_active_instances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_all_active_instances </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$since</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an array of all active instances for this definition. </p>
<p>(intentionally does not return instances with status NEEDUPDATE)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>since only return instances with timemodified &gt;= since </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of <a class="el" href="../../dc/d63/classgradingform__instance.html" title="Class to manage one gradingform instance.">gradingform_instance</a> objects </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8277d64bef631f63e7de672aefcf3137" name="a8277d64bef631f63e7de672aefcf3137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8277d64bef631f63e7de672aefcf3137">&#9670;&#160;</a></span>get_allow_grade_decimals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_allow_grade_decimals </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if decimal values are allowed as grades. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae8fedfa0a38cdbc54297de04fbe10f25" name="ae8fedfa0a38cdbc54297de04fbe10f25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8fedfa0a38cdbc54297de04fbe10f25">&#9670;&#160;</a></span>get_area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_area </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns gradable area name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>gradable area name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c35437a101806292dc9368c20b9032a" name="a9c35437a101806292dc9368c20b9032a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c35437a101806292dc9368c20b9032a">&#9670;&#160;</a></span>get_areaid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_areaid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns gradable area id. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>gradable area id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab9bfde590c093d72bb3521dcb8667e05" name="ab9bfde590c093d72bb3521dcb8667e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9bfde590c093d72bb3521dcb8667e05">&#9670;&#160;</a></span>get_component()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_component </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns gradable component name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>gradable component name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a972776b683db5a69ad3e225fcb62c2bb" name="a972776b683db5a69ad3e225fcb62c2bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a972776b683db5a69ad3e225fcb62c2bb">&#9670;&#160;</a></span>get_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_context </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns controller context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>controller context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a90784bfcc5638b7f148638c13b15a745" name="a90784bfcc5638b7f148638c13b15a745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90784bfcc5638b7f148638c13b15a745">&#9670;&#160;</a></span>get_current_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_current_instance </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$raterid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idonly</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current instance (either with status ACTIVE or NEEDUPDATE) for this definition for the specified $raterid and $itemid (if multiple raters are allowed, or only for $itemid otherwise). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$raterid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td></td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$idonly</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>if $idonly=true returns id of the found instance, otherwise returns the instance object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afd1fb40cd6a7ec8ece2b9b2f4ac73333" name="afd1fb40cd6a7ec8ece2b9b2f4ac73333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd1fb40cd6a7ec8ece2b9b2f4ac73333">&#9670;&#160;</a></span>get_definition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_definition </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$force</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the grading form definition structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$force</td><td>whether to force loading from <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> even if it was already loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|false</td><td>definition data or false if the form is not defined yet </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a41daf0cc260e309fe01aacc9ceff9a86" name="a41daf0cc260e309fe01aacc9ceff9a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41daf0cc260e309fe01aacc9ceff9a86">&#9670;&#160;</a></span>get_definition_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_definition_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d31/classgradingform__controller.html">gradingform_controller</a></td>          <td class="paramname"><span class="paramname"><em>$target</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the form definition suitable for cloning into another area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d5/d31/classgradingform__controller.html" title="Class represents a grading form definition used in a particular area.">gradingform_controller</a></td><td class="paramname">$target</td><td>the controller of the new copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>definition structure to pass to the target's <a class="el" href="">update_definition()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#af5bff2844038cafa40687d67157bfb9f">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a28b6083aa9523a61745b974f00cad2ae">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="a82032e5f10bb3be21af0e9d5dbe07ff6" name="a82032e5f10bb3be21af0e9d5dbe07ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82032e5f10bb3be21af0e9d5dbe07ff6">&#9670;&#160;</a></span>get_editor_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_editor_url </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a></td>          <td class="paramname"><span class="paramname"><em>$returnurl</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns URL of a page where the grading form can be defined and edited. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td class="paramname">$returnurl</td><td>optional URL of a page where the user should be sent once they are finished with editing </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac63ea6fbb80af20bf044e1fd252f9256" name="ac63ea6fbb80af20bf044e1fd252f9256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac63ea6fbb80af20bf044e1fd252f9256">&#9670;&#160;</a></span>get_external_definition_details()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gradingform_controller::get_external_definition_details </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden by sub classes that wish to make definition details available to web services. </p>
<p>When not overridden, only definition data common to all grading methods is made available. When overriding, the return value should be an array containing one or more key/value pairs. These key/value pairs should match the definition returned by the get_definition() function. For examples, look at: $gradingform_rubric_controller-&gt;get_external_definition_details() $gradingform_guide_controller-&gt;get_external_definition_details() </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of one or more key/value pairs containing the external_multiple_structure/s corresponding to the definition returned by $controller-&gt;get_definition() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.5 </dd></dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#a260d1f90a420af898109c3cfbde0fce4">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a6ecd2f5992d15e8bc9bea286da9e296d">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="affd23903b4cae9ed61061729fe046e16" name="affd23903b4cae9ed61061729fe046e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affd23903b4cae9ed61061729fe046e16">&#9670;&#160;</a></span>get_external_instance_filling_details()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gradingform_controller::get_external_instance_filling_details </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden by sub classes that wish to make instance filling details available to web services. </p>
<p>When not overridden, only instance filling data common to all grading methods is made available. When overriding, the return value should be an array containing one or more key/value pairs. These key/value pairs should match the filling data returned by the get_&lt;method&gt;_filling() function in the <a class="el" href="../../dc/d63/classgradingform__instance.html" title="Class to manage one gradingform instance.">gradingform_instance</a> subclass. For examples, look at: $gradingform_rubric_controller-&gt;get_external_instance_filling_details() $gradingform_guide_controller-&gt;get_external_instance_filling_details()</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of one or more key/value pairs containing the external_multiple_structure/s corresponding to the definition returned by $gradingform_&lt;method&gt;<em>instance-&gt;get</em>&lt;method&gt;_filling() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.6 </dd></dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#a4a36be805fda3e482fcd2ae8a2d34b94">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#aa6492af405f93fd2c02c7aa583dcb956">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="ae9dc91d1bd0e2a0610233785575a3c69" name="ae9dc91d1bd0e2a0610233785575a3c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9dc91d1bd0e2a0610233785575a3c69">&#9670;&#160;</a></span>get_formatted_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_formatted_description </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Formats the definition description for display on page. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#ab5109b27f445930d63784a3af3eece2c">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a9485d35c44c4223fdc1a8252de7f026a">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="aa1a1ae80b45ec8cc00b6ee578da2f87a" name="aa1a1ae80b45ec8cc00b6ee578da2f87a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a1ae80b45ec8cc00b6ee578da2f87a">&#9670;&#160;</a></span>get_grade_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_grade_range </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the range of grades used in this area. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca28566bf4094d396047ea0d9103b85c" name="aca28566bf4094d396047ea0d9103b85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca28566bf4094d396047ea0d9103b85c">&#9670;&#160;</a></span>get_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_instance </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$instance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the object of type gradingform_XXX_instance (where XXX is the plugin method name) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$instance</td><td>id or row from grading_isntances table </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d63/classgradingform__instance.html" title="Class to manage one gradingform instance.">gradingform_instance</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a47affc8d8a89b6c9fb67f329cea4af39" name="a47affc8d8a89b6c9fb67f329cea4af39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47affc8d8a89b6c9fb67f329cea4af39">&#9670;&#160;</a></span>get_method_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_method_name </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the grading method plugin, eg 'rubric'. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the name of the grading method plugin, eg 'rubric' </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/de1/group__core.html#ga5ad5ae124a17e6210fdc06e04bec05b1" title="PARAM_PLUGIN is used for plugin names such as &#39;forum&#39;, &#39;glossary&#39;, &#39;ldap&#39;, &#39;paypal&#39;,...">PARAM_PLUGIN</a> </dd></dl>

</div>
</div>
<a id="a1ea8bc27594428de649c41eedc9f991c" name="a1ea8bc27594428de649c41eedc9f991c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea8bc27594428de649c41eedc9f991c">&#9670;&#160;</a></span>get_or_create_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::get_or_create_instance </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$instanceid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$raterid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If instanceid is specified and grading instance exists and it is created by this rater for this item, this instance is returned. </p>
<p>Otherwise new instance is created for the specified rater and itemid</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$instanceid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$raterid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d63/classgradingform__instance.html" title="Class to manage one gradingform instance.">gradingform_instance</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#a376d7eb5c8a1b5fdfc5a662e8ff45592">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#afb0e50d27fa1d58ffa279f635b3384c9">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="a6b68ce07d95120be267c30dcbd9f3f9b" name="a6b68ce07d95120be267c30dcbd9f3f9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b68ce07d95120be267c30dcbd9f3f9b">&#9670;&#160;</a></span>has_active_instances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::has_active_instances </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if there are already people who has been graded on this definition. </p>
<p>In this case plugins may restrict changes of the grading definition</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab2453c1d71f5811ce3a998f3ef62d618" name="ab2453c1d71f5811ce3a998f3ef62d618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2453c1d71f5811ce3a998f3ef62d618">&#9670;&#160;</a></span>is_form_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::is_form_available </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the grading form defined and ready for usage? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b42c28e2232a5965a2b4d69390275d9" name="a3b42c28e2232a5965a2b4d69390275d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b42c28e2232a5965a2b4d69390275d9">&#9670;&#160;</a></span>is_form_defined()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::is_form_defined </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the form definition record available? </p>
<p>Note that this actually checks whether the process of defining the form ever started and not whether the form definition should be considered as final.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ff3c573e869d354b82012ecfdd64738" name="a8ff3c573e869d354b82012ecfdd64738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff3c573e869d354b82012ecfdd64738">&#9670;&#160;</a></span>is_own_form()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::is_own_form </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the grading form owned by the given user? </p>
<p>The form owner is the user who created this instance of the form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the user id to check, defaults to the current user </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean|null</td><td>null if the form not defined yet, boolean otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c350bce6d60df7287bacb0f50dafec5" name="a8c350bce6d60df7287bacb0f50dafec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c350bce6d60df7287bacb0f50dafec5">&#9670;&#160;</a></span>is_shared_template()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::is_shared_template </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the grading form saved as a shared public template? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c61dd9a025c1c2651d6b65652a5f4c1" name="a0c61dd9a025c1c2651d6b65652a5f4c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c61dd9a025c1c2651d6b65652a5f4c1">&#9670;&#160;</a></span>load_definition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::load_definition </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the form definition if it exists. </p>
<p>The default implementation just tries to load the record from the {grading_definitions} table. The plugins are likely to override this with a more complex query that loads all required data at once. </p>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#afed7a7f46250bce6b59b123c16b99238">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a35b4a556bdcf6ea8cbe575c6f4c5eb82">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="a4b8354338499573885caada479d74b98" name="a4b8354338499573885caada479d74b98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b8354338499573885caada479d74b98">&#9670;&#160;</a></span>render_grade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::render_grade </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$gradinginfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$defaultcontent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$cangrade</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns html code to be included in student's feedback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a></td><td class="paramname">$page</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$gradinginfo</td><td>result of function grade_get_grades if plugin want to use some of their info </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$defaultcontent</td><td>default string to be returned if no active grading is found or for some reason can not be shown to a user </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$cangrade</td><td>whether current user has capability to grade in this context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#a8df84858c6cf76275e925888b12b5d70">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a3e59b68ba76760770b059f0ee3e0a14b">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="a67bdf62b123d5660729ea4b74aaf373c" name="a67bdf62b123d5660729ea4b74aaf373c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bdf62b123d5660729ea4b74aaf373c">&#9670;&#160;</a></span>render_preview()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::render_preview </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a></td>          <td class="paramname"><span class="paramname"><em>$page</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the HTML code displaying the preview of the grading form. </p>
<p>Plugins are forced to override this. Ideally they should delegate the task to their own renderer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a></td><td class="paramname">$page</td><td>the target page </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#ae1fce6c7d12275947d343ba956d9b99f">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a1181d40c216de4d9617d7539ef7a3dfb">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="ab4d343f29e8f530d7a9b6ccd546568bf" name="ab4d343f29e8f530d7a9b6ccd546568bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d343f29e8f530d7a9b6ccd546568bf">&#9670;&#160;</a></span>set_grade_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::set_grade_range </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$graderange</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$allowgradedecimals</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the range of grades used in this area. </p>
<p>This is usually either range like 0-100 or the scale where keys start from 1.</p>
<p>Typically modules will call it: $controller-&gt;set_grade_range(make_grades_menu($gradingtype), $gradingtype &gt; 0); Negative $gradingtype means that scale is used and the grade must be rounded to the nearest int. Positive $gradingtype means that range 0..$gradingtype is used for the grades and in this case grade does not have to be rounded.</p>
<p>Sometimes modules always expect grade to be rounded (like <a class="el" href="../../d9/dda/namespacemod__assign.html" title="&#160;">mod_assign</a> does).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$graderange</td><td>array where first <em>key</em> is the minimum grade and the last key is the maximum grade. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$allowgradedecimals</td><td>if decimal values are allowed as grades. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2daebb572e50cac4719d47e5e46316c0" name="a2daebb572e50cac4719d47e5e46316c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2daebb572e50cac4719d47e5e46316c0">&#9670;&#160;</a></span>sql_search_from_tables()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gradingform_controller::sql_search_from_tables </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$gdid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare the part of the search query to append to the FROM statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$gdid</td><td>the alias of grading_definitions.id column used by the caller </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#a218469b40136637f2dbb8d3ce1398a4c">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a76c08899015a9e96d91308c2b3d61f3b">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="ad8aa99efe74014196f6e92c104a81837" name="ad8aa99efe74014196f6e92c104a81837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8aa99efe74014196f6e92c104a81837">&#9670;&#160;</a></span>sql_search_where()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gradingform_controller::sql_search_where </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$token</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare the parts of the SQL WHERE statement to search for the given token. </p>
<p>The returned array cosists of the list of SQL comparions and the list of respective parameters for the comparisons. The returned chunks will be joined with other conditions using the OR operator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#adb8cc2bec94283e36474e76c2d5d1f9f">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#a34708b60ed44f35cf8577be90c4b65e8">gradingform_rubric_controller</a>.</p>

</div>
</div>
<a id="abe284556012593386ef976785b4db837" name="abe284556012593386ef976785b4db837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe284556012593386ef976785b4db837">&#9670;&#160;</a></span>update_definition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradingform_controller::update_definition </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$definition</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$usermodified</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the defintion data into the database. </p>
<p>The implementation in this base class stores the common data into the record into the {grading_definition} table. The plugins are likely to extend this and save their data into own tables, too.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$definition</td><td>data containing values for the {grading_definition} table </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$usermodified</td><td>optional userid of the author of the definition, defaults to the current user </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../db/d9e/classgradingform__guide__controller.html#a3a64604e415544ae57f0935e951c23b1">gradingform_guide_controller</a>, and <a class="el" href="../../dc/d1b/classgradingform__rubric__controller.html#aa38757016357e1b21bd4dda1ff46be73">gradingform_rubric_controller</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>grade/grading/form/<b>lib.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 02:40:21 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
