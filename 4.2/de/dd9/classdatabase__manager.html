<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: database_manager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.2</span>
   </div>
   <div id="projectbrief">Moodle 4.2.7+ (Build: 20240510) (95b5ca87ebb)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../df/dcd/classdatabase__manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">database_manager Class Reference<div class="ingroups"><a class="el" href="../../dc/d10/group__core__ddl.html">core_ddl</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Database manager instance is responsible for all database structure modifications.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab146334fb1bd6b616ea0e6d35ce04809" id="r_ab146334fb1bd6b616ea0e6d35ce04809"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab146334fb1bd6b616ea0e6d35ce04809">__construct</a> ($mdb, $generator)</td></tr>
<tr class="memdesc:ab146334fb1bd6b616ea0e6d35ce04809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new database manager instance.  <br /></td></tr>
<tr class="separator:ab146334fb1bd6b616ea0e6d35ce04809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84ccdefe9f3df951ecaa5c4172c35ebd" id="r_a84ccdefe9f3df951ecaa5c4172c35ebd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84ccdefe9f3df951ecaa5c4172c35ebd">add_field</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> $<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>)</td></tr>
<tr class="memdesc:a84ccdefe9f3df951ecaa5c4172c35ebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will add the field to the table passed as arguments.  <br /></td></tr>
<tr class="separator:a84ccdefe9f3df951ecaa5c4172c35ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2c374f08101ac75161ebb1ea7cc2b0" id="r_abb2c374f08101ac75161ebb1ea7cc2b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb2c374f08101ac75161ebb1ea7cc2b0">add_index</a> ($<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, $xmldb_intex)</td></tr>
<tr class="memdesc:abb2c374f08101ac75161ebb1ea7cc2b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will create the index in the table passed as arguments Before creating the index, the function will check it doesn't exists.  <br /></td></tr>
<tr class="separator:abb2c374f08101ac75161ebb1ea7cc2b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ecca787ed7d5d006541a5dc4ec4296" id="r_a11ecca787ed7d5d006541a5dc4ec4296"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11ecca787ed7d5d006541a5dc4ec4296">add_key</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a> $<a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a>)</td></tr>
<tr class="memdesc:a11ecca787ed7d5d006541a5dc4ec4296"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will create the key in the table passed as arguments.  <br /></td></tr>
<tr class="separator:a11ecca787ed7d5d006541a5dc4ec4296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0eecd795f87461a8ae82d274319683" id="r_a8a0eecd795f87461a8ae82d274319683"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a0eecd795f87461a8ae82d274319683">change_field_default</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> $<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>)</td></tr>
<tr class="memdesc:a8a0eecd795f87461a8ae82d274319683"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will change the default of the field in the table passed as arguments One null value in the default field means delete the default.  <br /></td></tr>
<tr class="separator:a8a0eecd795f87461a8ae82d274319683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae647429f0170b7eb83d7c90bc56e888b" id="r_ae647429f0170b7eb83d7c90bc56e888b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae647429f0170b7eb83d7c90bc56e888b">change_field_notnull</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> $<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>)</td></tr>
<tr class="memdesc:ae647429f0170b7eb83d7c90bc56e888b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will change the nullability of the field in the table passed as arguments.  <br /></td></tr>
<tr class="separator:ae647429f0170b7eb83d7c90bc56e888b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f78fa3a07094e6134fe5656a080fcc4" id="r_a9f78fa3a07094e6134fe5656a080fcc4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f78fa3a07094e6134fe5656a080fcc4">change_field_precision</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> $<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>)</td></tr>
<tr class="memdesc:a9f78fa3a07094e6134fe5656a080fcc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will change the precision of the field in the table passed as arguments.  <br /></td></tr>
<tr class="separator:a9f78fa3a07094e6134fe5656a080fcc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e06b43d5701c1a0212fe66e7398f369" id="r_a9e06b43d5701c1a0212fe66e7398f369"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e06b43d5701c1a0212fe66e7398f369">change_field_type</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> $<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>)</td></tr>
<tr class="memdesc:a9e06b43d5701c1a0212fe66e7398f369"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will change the type of the field in the table passed as arguments.  <br /></td></tr>
<tr class="separator:a9e06b43d5701c1a0212fe66e7398f369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a931066591181d9d42ed727271f84f1f3" id="r_a931066591181d9d42ed727271f84f1f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a931066591181d9d42ed727271f84f1f3">change_field_unsigned</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> $<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>)</td></tr>
<tr class="memdesc:a931066591181d9d42ed727271f84f1f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will change the unsigned/signed of the field in the table passed as arguments.  <br /></td></tr>
<tr class="separator:a931066591181d9d42ed727271f84f1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64487109692b81785bc17ce5dd206c4f" id="r_a64487109692b81785bc17ce5dd206c4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64487109692b81785bc17ce5dd206c4f">check_database_schema</a> (<a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a> $schema, array $options=null)</td></tr>
<tr class="memdesc:a64487109692b81785bc17ce5dd206c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the database schema against a schema specified by an <a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a> object.  <br /></td></tr>
<tr class="separator:a64487109692b81785bc17ce5dd206c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97d5d72075d648ac0e891b4c2a24e26c" id="r_a97d5d72075d648ac0e891b4c2a24e26c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97d5d72075d648ac0e891b4c2a24e26c">create_table</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>)</td></tr>
<tr class="memdesc:a97d5d72075d648ac0e891b4c2a24e26c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will create the table passed as argument with all its fields/keys/indexes/sequences, everything based in the XMLDB object.  <br /></td></tr>
<tr class="separator:a97d5d72075d648ac0e891b4c2a24e26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2eee1fa0d9154a8b80abfa2ddda7737" id="r_ae2eee1fa0d9154a8b80abfa2ddda7737"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2eee1fa0d9154a8b80abfa2ddda7737">create_temp_table</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>)</td></tr>
<tr class="memdesc:ae2eee1fa0d9154a8b80abfa2ddda7737"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will create the temporary table passed as argument with all its fields/keys/indexes/sequences, everything based in the XMLDB object.  <br /></td></tr>
<tr class="separator:ae2eee1fa0d9154a8b80abfa2ddda7737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e5ade8771e295074b42f05aa6fb44e" id="r_a35e5ade8771e295074b42f05aa6fb44e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35e5ade8771e295074b42f05aa6fb44e">delete_tables_from_xmldb_file</a> ($file)</td></tr>
<tr class="memdesc:a35e5ade8771e295074b42f05aa6fb44e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will delete all tables found in XMLDB file from db.  <br /></td></tr>
<tr class="separator:a35e5ade8771e295074b42f05aa6fb44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f67aa1aec5b850bfb27e5b6bc8d2daa" id="r_a5f67aa1aec5b850bfb27e5b6bc8d2daa"><td class="memItemLeft" align="right" valign="top"><a id="a5f67aa1aec5b850bfb27e5b6bc8d2daa" name="a5f67aa1aec5b850bfb27e5b6bc8d2daa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>dispose</b> ()</td></tr>
<tr class="memdesc:a5f67aa1aec5b850bfb27e5b6bc8d2daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases all resources. <br /></td></tr>
<tr class="separator:a5f67aa1aec5b850bfb27e5b6bc8d2daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2bdc5e865066a1b6fde6165d8840f7" id="r_aaf2bdc5e865066a1b6fde6165d8840f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf2bdc5e865066a1b6fde6165d8840f7">drop_field</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> $<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>)</td></tr>
<tr class="memdesc:aaf2bdc5e865066a1b6fde6165d8840f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will drop the field from the table passed as arguments.  <br /></td></tr>
<tr class="separator:aaf2bdc5e865066a1b6fde6165d8840f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2e113f510c8f8f11e4b601fd3618ff" id="r_acf2e113f510c8f8f11e4b601fd3618ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf2e113f510c8f8f11e4b601fd3618ff">drop_index</a> ($<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, $xmldb_intex)</td></tr>
<tr class="memdesc:acf2e113f510c8f8f11e4b601fd3618ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will drop the index in the table passed as arguments Before dropping the index, the function will check it exists.  <br /></td></tr>
<tr class="separator:acf2e113f510c8f8f11e4b601fd3618ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2ace40395071e7a1b70cede37d0d7b" id="r_a3e2ace40395071e7a1b70cede37d0d7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e2ace40395071e7a1b70cede37d0d7b">drop_key</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a> $<a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a>)</td></tr>
<tr class="memdesc:a3e2ace40395071e7a1b70cede37d0d7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will drop the key in the table passed as arguments.  <br /></td></tr>
<tr class="separator:a3e2ace40395071e7a1b70cede37d0d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacd1c4c1dc72d7e31f6a7d1f1a9b28d2" id="r_aacd1c4c1dc72d7e31f6a7d1f1a9b28d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aacd1c4c1dc72d7e31f6a7d1f1a9b28d2">drop_table</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>)</td></tr>
<tr class="memdesc:aacd1c4c1dc72d7e31f6a7d1f1a9b28d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will drop the table passed as argument and all the associated objects (keys, indexes, constraints, sequences, triggers) will be dropped too.  <br /></td></tr>
<tr class="separator:aacd1c4c1dc72d7e31f6a7d1f1a9b28d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ebb071dceee4c6d1eb219f4feaffb0" id="r_ad9ebb071dceee4c6d1eb219f4feaffb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9ebb071dceee4c6d1eb219f4feaffb0">drop_temp_table</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>)</td></tr>
<tr class="memdesc:ad9ebb071dceee4c6d1eb219f4feaffb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will drop the temporary table passed as argument with all its fields/keys/indexes/sequences, everything based in the XMLDB object.  <br /></td></tr>
<tr class="separator:ad9ebb071dceee4c6d1eb219f4feaffb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2cbf1eb86c9bae52294356d76d98979" id="r_ab2cbf1eb86c9bae52294356d76d98979"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2cbf1eb86c9bae52294356d76d98979">field_exists</a> ($table, $field)</td></tr>
<tr class="memdesc:ab2cbf1eb86c9bae52294356d76d98979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given one <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>, check if it exists in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> (true/false).  <br /></td></tr>
<tr class="separator:ab2cbf1eb86c9bae52294356d76d98979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb04fae672edb6930df5ac6fca067d8" id="r_a9eb04fae672edb6930df5ac6fca067d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9eb04fae672edb6930df5ac6fca067d8">find_index_name</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a> $<a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a>, $returnall=false)</td></tr>
<tr class="memdesc:a9eb04fae672edb6930df5ac6fca067d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given one <a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a>, the function returns the name of the index in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> of false if it doesn't exist.  <br /></td></tr>
<tr class="separator:a9eb04fae672edb6930df5ac6fca067d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ecdefb23b0aa2df7738ff7ae6bacd77" id="r_a4ecdefb23b0aa2df7738ff7ae6bacd77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ecdefb23b0aa2df7738ff7ae6bacd77">find_key_name</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a> $<a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a>)</td></tr>
<tr class="memdesc:a4ecdefb23b0aa2df7738ff7ae6bacd77"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function IS NOT IMPLEMENTED.  <br /></td></tr>
<tr class="separator:a4ecdefb23b0aa2df7738ff7ae6bacd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1dea532baf431b0bd9392cc7194591e" id="r_af1dea532baf431b0bd9392cc7194591e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1dea532baf431b0bd9392cc7194591e">get_install_xml_files</a> ()</td></tr>
<tr class="memdesc:af1dea532baf431b0bd9392cc7194591e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of install.xml files.  <br /></td></tr>
<tr class="separator:af1dea532baf431b0bd9392cc7194591e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83decec0b0fc31b1b88da76326a8a64e" id="r_a83decec0b0fc31b1b88da76326a8a64e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83decec0b0fc31b1b88da76326a8a64e">get_install_xml_schema</a> ()</td></tr>
<tr class="memdesc:a83decec0b0fc31b1b88da76326a8a64e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the install.xml files for <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> core and modules and returns an array of <a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a> object with <a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> from these files.  <br /></td></tr>
<tr class="separator:a83decec0b0fc31b1b88da76326a8a64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79df7d9c03715e858fad03905cc46e93" id="r_a79df7d9c03715e858fad03905cc46e93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79df7d9c03715e858fad03905cc46e93">index_exists</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a> $<a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a>)</td></tr>
<tr class="memdesc:a79df7d9c03715e858fad03905cc46e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given one <a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a>, check if it exists in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> (true/false).  <br /></td></tr>
<tr class="separator:a79df7d9c03715e858fad03905cc46e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9bbdbd60a141b43fa3c1e7de0cdcd9" id="r_a2e9bbdbd60a141b43fa3c1e7de0cdcd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e9bbdbd60a141b43fa3c1e7de0cdcd9">install_from_xmldb_file</a> ($file)</td></tr>
<tr class="memdesc:a2e9bbdbd60a141b43fa3c1e7de0cdcd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will load one entire XMLDB file and call install_from_xmldb_structure.  <br /></td></tr>
<tr class="separator:a2e9bbdbd60a141b43fa3c1e7de0cdcd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbd3920be57e0791a7be26265ccf507" id="r_acfbd3920be57e0791a7be26265ccf507"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfbd3920be57e0791a7be26265ccf507">install_from_xmldb_structure</a> ($<a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a>)</td></tr>
<tr class="memdesc:acfbd3920be57e0791a7be26265ccf507"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will generate all the needed SQL statements, specific for each RDBMS type and, finally, it will execute all those statements against the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>.  <br /></td></tr>
<tr class="separator:acfbd3920be57e0791a7be26265ccf507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6d7db48274c111aed6de15a1aca26a" id="r_a3f6d7db48274c111aed6de15a1aca26a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f6d7db48274c111aed6de15a1aca26a">install_one_table_from_xmldb_file</a> ($file, $tablename, $cachestructures=false)</td></tr>
<tr class="memdesc:a3f6d7db48274c111aed6de15a1aca26a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will load one entire XMLDB file and call install_from_xmldb_structure.  <br /></td></tr>
<tr class="separator:a3f6d7db48274c111aed6de15a1aca26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749f9898aa551bf1fb5e39ce4cbf0c4b" id="r_a749f9898aa551bf1fb5e39ce4cbf0c4b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a749f9898aa551bf1fb5e39ce4cbf0c4b">rename_field</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> $<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>, $newname)</td></tr>
<tr class="memdesc:a749f9898aa551bf1fb5e39ce4cbf0c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will rename the field in the table passed as arguments Before renaming the field, the function will check it exists.  <br /></td></tr>
<tr class="separator:a749f9898aa551bf1fb5e39ce4cbf0c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8b23ec18f30c1538c9b541169ec317" id="r_acf8b23ec18f30c1538c9b541169ec317"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf8b23ec18f30c1538c9b541169ec317">rename_index</a> ($<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, $xmldb_intex, $newname)</td></tr>
<tr class="memdesc:acf8b23ec18f30c1538c9b541169ec317"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will rename the index in the table passed as arguments Before renaming the index, the function will check it exists Experimental.  <br /></td></tr>
<tr class="separator:acf8b23ec18f30c1538c9b541169ec317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec973b0d121f271cc3371b80725b2198" id="r_aec973b0d121f271cc3371b80725b2198"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec973b0d121f271cc3371b80725b2198">rename_key</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, <a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a> $<a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a>, $newname)</td></tr>
<tr class="memdesc:aec973b0d121f271cc3371b80725b2198"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will rename the key in the table passed as arguments Experimental.  <br /></td></tr>
<tr class="separator:aec973b0d121f271cc3371b80725b2198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26356d5f98ef2a94b371cde54acaa2c4" id="r_a26356d5f98ef2a94b371cde54acaa2c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26356d5f98ef2a94b371cde54acaa2c4">rename_table</a> (<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> $<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, $newname)</td></tr>
<tr class="memdesc:a26356d5f98ef2a94b371cde54acaa2c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will rename the table passed as argument Before renaming the index, the function will check it exists.  <br /></td></tr>
<tr class="separator:a26356d5f98ef2a94b371cde54acaa2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f9922aa49c84601252942e4309450a" id="r_a89f9922aa49c84601252942e4309450a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89f9922aa49c84601252942e4309450a">reset_sequence</a> ($table)</td></tr>
<tr class="memdesc:a89f9922aa49c84601252942e4309450a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset a sequence to the id field of a table.  <br /></td></tr>
<tr class="separator:a89f9922aa49c84601252942e4309450a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add252457f722b4213e296f66db756903" id="r_add252457f722b4213e296f66db756903"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add252457f722b4213e296f66db756903">table_exists</a> ($table)</td></tr>
<tr class="memdesc:add252457f722b4213e296f66db756903"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given one <a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, check if it exists in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> (true/false).  <br /></td></tr>
<tr class="separator:add252457f722b4213e296f66db756903"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8ff0965f41507c25bd4289f63d046875" id="r_a8ff0965f41507c25bd4289f63d046875"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dc5/classsql__generator.html">sql_generator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ff0965f41507c25bd4289f63d046875">$generator</a></td></tr>
<tr class="memdesc:a8ff0965f41507c25bd4289f63d046875"><td class="mdescLeft">&#160;</td><td class="mdescRight">A driver specific SQL generator instance.  <br /></td></tr>
<tr class="separator:a8ff0965f41507c25bd4289f63d046875"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a79dd894355daa50ff254d0951fc888e8" id="r_a79dd894355daa50ff254d0951fc888e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79dd894355daa50ff254d0951fc888e8">execute_sql</a> ($sql)</td></tr>
<tr class="memdesc:a79dd894355daa50ff254d0951fc888e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a given sql command string.  <br /></td></tr>
<tr class="separator:a79dd894355daa50ff254d0951fc888e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058a4ad66f92848b898abd379f9d9963" id="r_a058a4ad66f92848b898abd379f9d9963"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a058a4ad66f92848b898abd379f9d9963">execute_sql_arr</a> (array $sqlarr, $tablenames=null)</td></tr>
<tr class="memdesc:a058a4ad66f92848b898abd379f9d9963"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will execute an array of SQL commands.  <br /></td></tr>
<tr class="separator:a058a4ad66f92848b898abd379f9d9963"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a83fd3bf026b71b37e06629b202578799" id="r_a83fd3bf026b71b37e06629b202578799"><td class="memItemLeft" align="right" valign="top"><a id="a83fd3bf026b71b37e06629b202578799" name="a83fd3bf026b71b37e06629b202578799"></a>
<a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$mdb</b></td></tr>
<tr class="memdesc:a83fd3bf026b71b37e06629b202578799"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="../../d3/d6e/classmoodle__database.html" title="Abstract class representing moodle database interface.">moodle_database</a> driver specific instance. <br /></td></tr>
<tr class="separator:a83fd3bf026b71b37e06629b202578799"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Database manager instance is responsible for all database structure modifications. </p>
<p>It is using db specific generators to find out the correct SQL syntax to do that.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>1999 onwards Martin Dougiamas <a href="http://dougiamas.com">http://dougiamas.com</a> 2001-3001 Eloy Lafuente (stronk7) <a href="http://contiento.com">http://contiento.com</a> 2008 Petr Skoda <a href="http://skodak.org">http://skodak.org</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab146334fb1bd6b616ea0e6d35ce04809" name="ab146334fb1bd6b616ea0e6d35ce04809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab146334fb1bd6b616ea0e6d35ce04809">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::__construct </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mdb</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$generator</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new database manager instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d6e/classmoodle__database.html" title="Abstract class representing moodle database interface.">moodle_database</a></td><td class="paramname">$mdb</td><td>A <a class="el" href="../../d3/d6e/classmoodle__database.html" title="Abstract class representing moodle database interface.">moodle_database</a> driver specific instance. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../df/dc5/classsql__generator.html" title="Abstract sql generator class, base for all db specific implementations.">sql_generator</a></td><td class="paramname">$generator</td><td>A driver specific SQL generator instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a84ccdefe9f3df951ecaa5c4172c35ebd" name="a84ccdefe9f3df951ecaa5c4172c35ebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84ccdefe9f3df951ecaa5c4172c35ebd">&#9670;&#160;</a></span>add_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::add_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will add the field to the table passed as arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$xmldb_field</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb2c374f08101ac75161ebb1ea7cc2b0" name="abb2c374f08101ac75161ebb1ea7cc2b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb2c374f08101ac75161ebb1ea7cc2b0">&#9670;&#160;</a></span>add_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::add_index </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xmldb_intex</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will create the index in the table passed as arguments Before creating the index, the function will check it doesn't exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a></td><td class="paramname">$xmldb_intex</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a11ecca787ed7d5d006541a5dc4ec4296" name="a11ecca787ed7d5d006541a5dc4ec4296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ecca787ed7d5d006541a5dc4ec4296">&#9670;&#160;</a></span>add_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::add_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_key</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will create the key in the table passed as arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a></td><td class="paramname">$xmldb_key</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8a0eecd795f87461a8ae82d274319683" name="a8a0eecd795f87461a8ae82d274319683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a0eecd795f87461a8ae82d274319683">&#9670;&#160;</a></span>change_field_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::change_field_default </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will change the default of the field in the table passed as arguments One null value in the default field means delete the default. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$xmldb_field</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae647429f0170b7eb83d7c90bc56e888b" name="ae647429f0170b7eb83d7c90bc56e888b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae647429f0170b7eb83d7c90bc56e888b">&#9670;&#160;</a></span>change_field_notnull()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::change_field_notnull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will change the nullability of the field in the table passed as arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$xmldb_field</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9f78fa3a07094e6134fe5656a080fcc4" name="a9f78fa3a07094e6134fe5656a080fcc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f78fa3a07094e6134fe5656a080fcc4">&#9670;&#160;</a></span>change_field_precision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::change_field_precision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will change the precision of the field in the table passed as arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$xmldb_field</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e06b43d5701c1a0212fe66e7398f369" name="a9e06b43d5701c1a0212fe66e7398f369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e06b43d5701c1a0212fe66e7398f369">&#9670;&#160;</a></span>change_field_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::change_field_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will change the type of the field in the table passed as arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$xmldb_field</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a931066591181d9d42ed727271f84f1f3" name="a931066591181d9d42ed727271f84f1f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a931066591181d9d42ed727271f84f1f3">&#9670;&#160;</a></span>change_field_unsigned()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::change_field_unsigned </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will change the unsigned/signed of the field in the table passed as arguments. </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000233">Deprecated</a></b></dt><dd>since 2.3, only singed numbers are allowed now, migration is automatic </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$xmldb_field</td><td>Field object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64487109692b81785bc17ce5dd206c4f" name="a64487109692b81785bc17ce5dd206c4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64487109692b81785bc17ce5dd206c4f">&#9670;&#160;</a></span>check_database_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::check_database_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a></td>          <td class="paramname"><span class="paramname"><em>$schema</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$options</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the database schema against a schema specified by an <a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a></td><td class="paramname">$schema</td><td>export schema describing all known tables </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>keyed by table name with array of difference messages as values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97d5d72075d648ac0e891b4c2a24e26c" name="a97d5d72075d648ac0e891b4c2a24e26c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d5d72075d648ac0e891b4c2a24e26c">&#9670;&#160;</a></span>create_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::create_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will create the table passed as argument with all its fields/keys/indexes/sequences, everything based in the XMLDB object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2eee1fa0d9154a8b80abfa2ddda7737" name="ae2eee1fa0d9154a8b80abfa2ddda7737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2eee1fa0d9154a8b80abfa2ddda7737">&#9670;&#160;</a></span>create_temp_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::create_temp_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will create the temporary table passed as argument with all its fields/keys/indexes/sequences, everything based in the XMLDB object. </p>
<p>If table already exists <a class="el" href="../../df/ddc/classddl__exception.html" title="DDL exception class, use instead of throw new moodle_exception() and &quot;return false;&quot; in ddl code.">ddl_exception</a> will be thrown, please make sure the table name does not collide with existing normal table!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a35e5ade8771e295074b42f05aa6fb44e" name="a35e5ade8771e295074b42f05aa6fb44e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e5ade8771e295074b42f05aa6fb44e">&#9670;&#160;</a></span>delete_tables_from_xmldb_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::delete_tables_from_xmldb_file </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will delete all tables found in XMLDB file from db. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>Full path to the XML file to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf2bdc5e865066a1b6fde6165d8840f7" name="aaf2bdc5e865066a1b6fde6165d8840f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf2bdc5e865066a1b6fde6165d8840f7">&#9670;&#160;</a></span>drop_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::drop_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will drop the field from the table passed as arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$xmldb_field</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf2e113f510c8f8f11e4b601fd3618ff" name="acf2e113f510c8f8f11e4b601fd3618ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf2e113f510c8f8f11e4b601fd3618ff">&#9670;&#160;</a></span>drop_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::drop_index </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xmldb_intex</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will drop the index in the table passed as arguments Before dropping the index, the function will check it exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a></td><td class="paramname">$xmldb_intex</td><td>Index object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e2ace40395071e7a1b70cede37d0d7b" name="a3e2ace40395071e7a1b70cede37d0d7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2ace40395071e7a1b70cede37d0d7b">&#9670;&#160;</a></span>drop_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::drop_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_key</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will drop the key in the table passed as arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a></td><td class="paramname">$xmldb_key</td><td>Key object (full specs are required). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aacd1c4c1dc72d7e31f6a7d1f1a9b28d2" name="aacd1c4c1dc72d7e31f6a7d1f1a9b28d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacd1c4c1dc72d7e31f6a7d1f1a9b28d2">&#9670;&#160;</a></span>drop_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::drop_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will drop the table passed as argument and all the associated objects (keys, indexes, constraints, sequences, triggers) will be dropped too. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9ebb071dceee4c6d1eb219f4feaffb0" name="ad9ebb071dceee4c6d1eb219f4feaffb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ebb071dceee4c6d1eb219f4feaffb0">&#9670;&#160;</a></span>drop_temp_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::drop_temp_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will drop the temporary table passed as argument with all its fields/keys/indexes/sequences, everything based in the XMLDB object. </p>
<p>It is recommended to drop temp table when not used anymore.</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000232">Deprecated</a></b></dt><dd>since 2.3, use <a class="el" href="#aacd1c4c1dc72d7e31f6a7d1f1a9b28d2" title="This function will drop the table passed as argument and all the associated objects (keys,...">drop_table()</a> for all table types </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a79dd894355daa50ff254d0951fc888e8" name="a79dd894355daa50ff254d0951fc888e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79dd894355daa50ff254d0951fc888e8">&#9670;&#160;</a></span>execute_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::execute_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a given sql command string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The sql string you wish to be executed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/df8/classddl__change__structure__exception.html" title="Error during changing db structure.">ddl_change_structure_exception</a></td><td>This exception is thrown if any error is found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a058a4ad66f92848b898abd379f9d9963" name="a058a4ad66f92848b898abd379f9d9963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a058a4ad66f92848b898abd379f9d9963">&#9670;&#160;</a></span>execute_sql_arr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::execute_sql_arr </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$sqlarr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablenames</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function will execute an array of SQL commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string[]</td><td class="paramname">$sqlarr</td><td>Array of sql statements to execute. </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$tablenames</td><td>an array of xmldb table names affected by this request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/df8/classddl__change__structure__exception.html" title="Error during changing db structure.">ddl_change_structure_exception</a></td><td>This exception is thrown if any error is found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab2cbf1eb86c9bae52294356d76d98979" name="ab2cbf1eb86c9bae52294356d76d98979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2cbf1eb86c9bae52294356d76d98979">&#9670;&#160;</a></span>field_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::field_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given one <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a>, check if it exists in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> (true/false). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$table</td><td>The table to be searched (string name or <a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> instance). </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;<a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$field</td><td>The field to be searched for (string name or <a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a> instance). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>true is exists false otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../dc/d2b/classddl__table__missing__exception.html" title="Table does not exist problem exception.">ddl_table_missing_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9eb04fae672edb6930df5ac6fca067d8" name="a9eb04fae672edb6930df5ac6fca067d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb04fae672edb6930df5ac6fca067d8">&#9670;&#160;</a></span>find_index_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::find_index_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$returnall</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given one <a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a>, the function returns the name of the index in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> of false if it doesn't exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>table to be searched </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a></td><td class="paramname">$xmldb_index</td><td>the index to be searched </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnall</td><td>true means return array of all indexes, false means first index only as string </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|string|bool</td><td>Index name, array of index names or false if no indexes are found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../dc/d2b/classddl__table__missing__exception.html" title="Table does not exist problem exception.">ddl_table_missing_exception</a></td><td>Thrown when table is not found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ecdefb23b0aa2df7738ff7ae6bacd77" name="a4ecdefb23b0aa2df7738ff7ae6bacd77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ecdefb23b0aa2df7738ff7ae6bacd77">&#9670;&#160;</a></span>find_key_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::find_key_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_key</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function IS NOT IMPLEMENTED. </p>
<p>ONCE WE'LL BE USING RELATIONAL INTEGRITY IT WILL BECOME MORE USEFUL. FOR NOW, JUST CALCULATE "OFFICIAL" KEY NAMES WITHOUT ACCESSING TO <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> AT ALL. Given one <a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a>, the function returns the name of the key in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> (if exists) of false if it doesn't exist</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>The table to be searched. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a></td><td class="paramname">$xmldb_key</td><td>The key to be searched. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>key name if found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af1dea532baf431b0bd9392cc7194591e" name="af1dea532baf431b0bd9392cc7194591e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1dea532baf431b0bd9392cc7194591e">&#9670;&#160;</a></span>get_install_xml_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::get_install_xml_files </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of install.xml files. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a83decec0b0fc31b1b88da76326a8a64e" name="a83decec0b0fc31b1b88da76326a8a64e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83decec0b0fc31b1b88da76326a8a64e">&#9670;&#160;</a></span>get_install_xml_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::get_install_xml_schema </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the install.xml files for <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> core and modules and returns an array of <a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a> object with <a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> from these files. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a></td><td>schema from install.xml files </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a79df7d9c03715e858fad03905cc46e93" name="a79df7d9c03715e858fad03905cc46e93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79df7d9c03715e858fad03905cc46e93">&#9670;&#160;</a></span>index_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::index_exists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given one <a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a>, check if it exists in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> (true/false). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>The table to be searched. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a></td><td class="paramname">$xmldb_index</td><td>The index to be searched for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>true id index exists, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2e9bbdbd60a141b43fa3c1e7de0cdcd9" name="a2e9bbdbd60a141b43fa3c1e7de0cdcd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9bbdbd60a141b43fa3c1e7de0cdcd9">&#9670;&#160;</a></span>install_from_xmldb_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::install_from_xmldb_file </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will load one entire XMLDB file and call install_from_xmldb_structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>full path to the XML file to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acfbd3920be57e0791a7be26265ccf507" name="acfbd3920be57e0791a7be26265ccf507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfbd3920be57e0791a7be26265ccf507">&#9670;&#160;</a></span>install_from_xmldb_structure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::install_from_xmldb_structure </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xmldb_structure</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will generate all the needed SQL statements, specific for each RDBMS type and, finally, it will execute all those statements against the <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$xmldb_structure</td><td><a class="el" href="../../d2/dc9/classxmldb__structure.html">xmldb_structure</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f6d7db48274c111aed6de15a1aca26a" name="a3f6d7db48274c111aed6de15a1aca26a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f6d7db48274c111aed6de15a1aca26a">&#9670;&#160;</a></span>install_one_table_from_xmldb_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::install_one_table_from_xmldb_file </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$cachestructures</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will load one entire XMLDB file and call install_from_xmldb_structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>full path to the XML file to be used </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>the name of the table. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$cachestructures</td><td>boolean to decide if loaded xmldb structures can be safely cached useful for testunits loading the enormous main xml file hundred of times (100x) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a749f9898aa551bf1fb5e39ce4cbf0c4b" name="a749f9898aa551bf1fb5e39ce4cbf0c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749f9898aa551bf1fb5e39ce4cbf0c4b">&#9670;&#160;</a></span>rename_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::rename_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_field</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will rename the field in the table passed as arguments Before renaming the field, the function will check it exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d2/d26/classxmldb__field.html">xmldb_field</a></td><td class="paramname">$xmldb_field</td><td>Index object (full specs are required). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newname</td><td>New name of the field. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf8b23ec18f30c1538c9b541169ec317" name="acf8b23ec18f30c1538c9b541169ec317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8b23ec18f30c1538c9b541169ec317">&#9670;&#160;</a></span>rename_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::rename_index </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xmldb_intex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will rename the index in the table passed as arguments Before renaming the index, the function will check it exists Experimental. </p>
<p>Shouldn't be used at all!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d7/d1d/classxmldb__index.html">xmldb_index</a></td><td class="paramname">$xmldb_intex</td><td>Index object (full specs are required). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newname</td><td>New name of the index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aec973b0d121f271cc3371b80725b2198" name="aec973b0d121f271cc3371b80725b2198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec973b0d121f271cc3371b80725b2198">&#9670;&#160;</a></span>rename_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::rename_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_key</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will rename the key in the table passed as arguments Experimental. </p>
<p>Shouldn't be used at all in normal installation/upgrade!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d9/df3/classxmldb__key.html">xmldb_key</a></td><td class="paramname">$xmldb_key</td><td>key object (full specs are required). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newname</td><td>New name of the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26356d5f98ef2a94b371cde54acaa2c4" name="a26356d5f98ef2a94b371cde54acaa2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26356d5f98ef2a94b371cde54acaa2c4">&#9670;&#160;</a></span>rename_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::rename_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td>          <td class="paramname"><span class="paramname"><em>$xmldb_table</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will rename the table passed as argument Before renaming the index, the function will check it exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$xmldb_table</td><td>Table object (just the name is mandatory). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newname</td><td>New name of the index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89f9922aa49c84601252942e4309450a" name="a89f9922aa49c84601252942e4309450a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89f9922aa49c84601252942e4309450a">&#9670;&#160;</a></span>reset_sequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::reset_sequence </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset a sequence to the id field of a table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$table</td><td>Name of table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../df/ddc/classddl__exception.html" title="DDL exception class, use instead of throw new moodle_exception() and &quot;return false;&quot; in ddl code.">ddl_exception</a></td><td>thrown upon reset errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add252457f722b4213e296f66db756903" name="add252457f722b4213e296f66db756903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add252457f722b4213e296f66db756903">&#9670;&#160;</a></span>table_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">database_manager::table_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given one <a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a>, check if it exists in <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> (true/false). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;<a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a></td><td class="paramname">$table</td><td>The table to be searched (string name or <a class="el" href="../../d4/d45/classxmldb__table.html">xmldb_table</a> instance). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True is a table exists, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8ff0965f41507c25bd4289f63d046875" name="a8ff0965f41507c25bd4289f63d046875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff0965f41507c25bd4289f63d046875">&#9670;&#160;</a></span>$generator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc5/classsql__generator.html">sql_generator</a> database_manager::$generator</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A driver specific SQL generator instance. </p>
<p>Public because XMLDB editor needs to access it. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/ddl/<b>database_manager.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 12 2024 02:40:42 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
