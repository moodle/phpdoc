<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: gradeimport_csv_load_data Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.5</span>
   </div>
   <div id="projectbrief">Moodle 4.5dev (Build: 20240422) (7b9a4eeca51)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d7/d65/classgradeimport__csv__load__data-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gradeimport_csv_load_data Class Reference<div class="ingroups"><a class="el" href="../../d7/def/group__gradeimport__csv.html">gradeimport_csv</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>A class for loading and preparing grade data from import.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a87cec9f9d3f3f87c27c2cee9302d0ed9" id="r_a87cec9f9d3f3f87c27c2cee9302d0ed9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87cec9f9d3f3f87c27c2cee9302d0ed9">get_error</a> ()</td></tr>
<tr class="memdesc:a87cec9f9d3f3f87c27c2cee9302d0ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the error parameter for this class.  <br /></td></tr>
<tr class="separator:a87cec9f9d3f3f87c27c2cee9302d0ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f044a7fc8885592250900706ae6b2da" id="r_a1f044a7fc8885592250900706ae6b2da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f044a7fc8885592250900706ae6b2da">get_gradebookerrors</a> ()</td></tr>
<tr class="memdesc:a1f044a7fc8885592250900706ae6b2da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the gradebookerrors parameter for this class.  <br /></td></tr>
<tr class="separator:a1f044a7fc8885592250900706ae6b2da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa455004dec996e55b966f4b82fe6d816" id="r_aa455004dec996e55b966f4b82fe6d816"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa455004dec996e55b966f4b82fe6d816">get_headers</a> ()</td></tr>
<tr class="memdesc:aa455004dec996e55b966f4b82fe6d816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the headers parameter for this class.  <br /></td></tr>
<tr class="separator:aa455004dec996e55b966f4b82fe6d816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c568e8bc15e81bcf214373d73a594e" id="r_a17c568e8bc15e81bcf214373d73a594e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17c568e8bc15e81bcf214373d73a594e">get_iid</a> ()</td></tr>
<tr class="memdesc:a17c568e8bc15e81bcf214373d73a594e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the iid parameter for this class.  <br /></td></tr>
<tr class="separator:a17c568e8bc15e81bcf214373d73a594e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166364a245cfc94ae30a9c11892498fa" id="r_a166364a245cfc94ae30a9c11892498fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a166364a245cfc94ae30a9c11892498fa">get_previewdata</a> ()</td></tr>
<tr class="memdesc:a166364a245cfc94ae30a9c11892498fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the preview_data parameter for this class.  <br /></td></tr>
<tr class="separator:a166364a245cfc94ae30a9c11892498fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79070f4c8a8919618d53b2ba74208e0" id="r_af79070f4c8a8919618d53b2ba74208e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af79070f4c8a8919618d53b2ba74208e0">load_csv_content</a> ($text, $encoding, $separator, $previewrows)</td></tr>
<tr class="memdesc:af79070f4c8a8919618d53b2ba74208e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load CSV content for previewing.  <br /></td></tr>
<tr class="separator:af79070f4c8a8919618d53b2ba74208e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab383ae1f3c54edb107164d4f8461d25c" id="r_ab383ae1f3c54edb107164d4f8461d25c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab383ae1f3c54edb107164d4f8461d25c">prepare_import_grade_data</a> ($header, $formdata, $csvimport, $courseid, $separatemode, $currentgroup, $verbosescales)</td></tr>
<tr class="memdesc:ab383ae1f3c54edb107164d4f8461d25c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks and prepares grade data for inserting into the gradebook.  <br /></td></tr>
<tr class="separator:ab383ae1f3c54edb107164d4f8461d25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a97f9d9f94d07b8ef0d0737128ea812d7" id="r_a97f9d9f94d07b8ef0d0737128ea812d7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97f9d9f94d07b8ef0d0737128ea812d7">fetch_grade_items</a> ($courseid)</td></tr>
<tr class="memdesc:a97f9d9f94d07b8ef0d0737128ea812d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the grade items in this course.  <br /></td></tr>
<tr class="separator:a97f9d9f94d07b8ef0d0737128ea812d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1f87a9af84fb208ddc3d7ff3bdcf1559" id="r_a1f87a9af84fb208ddc3d7ff3bdcf1559"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f87a9af84fb208ddc3d7ff3bdcf1559">check_user_exists</a> ($value, $userfields)</td></tr>
<tr class="memdesc:a1f87a9af84fb208ddc3d7ff3bdcf1559"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the user is in the system.  <br /></td></tr>
<tr class="separator:a1f87a9af84fb208ddc3d7ff3bdcf1559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df5d120c7eef69bc3b513408674aca5" id="r_a4df5d120c7eef69bc3b513408674aca5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4df5d120c7eef69bc3b513408674aca5">cleanup_import</a> ($notification)</td></tr>
<tr class="memdesc:a4df5d120c7eef69bc3b513408674aca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up failed CSV grade import.  <br /></td></tr>
<tr class="separator:a4df5d120c7eef69bc3b513408674aca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22f355434ffbd3a8d71ef9d2a6f6ced" id="r_aa22f355434ffbd3a8d71ef9d2a6f6ced"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa22f355434ffbd3a8d71ef9d2a6f6ced">create_feedback</a> ($courseid, $itemid, $value)</td></tr>
<tr class="memdesc:aa22f355434ffbd3a8d71ef9d2a6f6ced"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if the feedback matches a grade item.  <br /></td></tr>
<tr class="separator:aa22f355434ffbd3a8d71ef9d2a6f6ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d5b24a264bb6d66c6df23132e07c35" id="r_a30d5b24a264bb6d66c6df23132e07c35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30d5b24a264bb6d66c6df23132e07c35">import_new_grade_item</a> ($header, $key, $value)</td></tr>
<tr class="memdesc:a30d5b24a264bb6d66c6df23132e07c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert the new grade into the grade item buffer table.  <br /></td></tr>
<tr class="separator:a30d5b24a264bb6d66c6df23132e07c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9826f6b23a342efb8ad64cc52c2e5ab2" id="r_a9826f6b23a342efb8ad64cc52c2e5ab2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9826f6b23a342efb8ad64cc52c2e5ab2">insert_grade_record</a> (stdClass $record, int $studentid, <a class="el" href="../../d0/d8b/classgrade__item.html">grade_item</a> $gradeitem)</td></tr>
<tr class="memdesc:a9826f6b23a342efb8ad64cc52c2e5ab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts a record into the grade_import_values table.  <br /></td></tr>
<tr class="separator:a9826f6b23a342efb8ad64cc52c2e5ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f66f83e8c03541194d70c2e54edd95" id="r_a91f66f83e8c03541194d70c2e54edd95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91f66f83e8c03541194d70c2e54edd95">map_user_data_with_value</a> ($mappingidentifier, $value, $header, $map, $key, $courseid, $feedbackgradeid, $verbosescales)</td></tr>
<tr class="memdesc:a91f66f83e8c03541194d70c2e54edd95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check user mapping.  <br /></td></tr>
<tr class="separator:a91f66f83e8c03541194d70c2e54edd95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27cda01e387721f42109a07e1178ed3" id="r_ae27cda01e387721f42109a07e1178ed3"><td class="memItemLeft" align="right" valign="top"><a id="ae27cda01e387721f42109a07e1178ed3" name="ae27cda01e387721f42109a07e1178ed3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>raise_limits</b> ()</td></tr>
<tr class="memdesc:ae27cda01e387721f42109a07e1178ed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raises the php execution time and memory limits for importing the CSV file. <br /></td></tr>
<tr class="separator:ae27cda01e387721f42109a07e1178ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459c20fd72edaca92bdc05ea16b58fdd" id="r_a459c20fd72edaca92bdc05ea16b58fdd"><td class="memItemLeft" align="right" valign="top"><a id="a459c20fd72edaca92bdc05ea16b58fdd" name="a459c20fd72edaca92bdc05ea16b58fdd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>trim_headers</b> ()</td></tr>
<tr class="memdesc:a459c20fd72edaca92bdc05ea16b58fdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans the column headers from the CSV file. <br /></td></tr>
<tr class="separator:a459c20fd72edaca92bdc05ea16b58fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947d4b3039784007b2666c2a3eda7ecd" id="r_a947d4b3039784007b2666c2a3eda7ecd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a947d4b3039784007b2666c2a3eda7ecd">update_grade_item</a> ($courseid, $map, $key, $verbosescales, $value)</td></tr>
<tr class="memdesc:a947d4b3039784007b2666c2a3eda7ecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This updates existing grade items.  <br /></td></tr>
<tr class="separator:a947d4b3039784007b2666c2a3eda7ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1840981bf96885fa65518d73ab8779af" id="r_a1840981bf96885fa65518d73ab8779af"><td class="memItemLeft" align="right" valign="top"><a id="a1840981bf96885fa65518d73ab8779af" name="a1840981bf96885fa65518d73ab8779af"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$error</b></td></tr>
<tr class="memdesc:a1840981bf96885fa65518d73ab8779af"><td class="mdescLeft">&#160;</td><td class="mdescRight">$error csv import error. <br /></td></tr>
<tr class="separator:a1840981bf96885fa65518d73ab8779af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1e317a0c5fcc90c1b15b08fe3dcb55" id="r_a1e1e317a0c5fcc90c1b15b08fe3dcb55"><td class="memItemLeft" align="right" valign="top"><a id="a1e1e317a0c5fcc90c1b15b08fe3dcb55" name="a1e1e317a0c5fcc90c1b15b08fe3dcb55"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$gradebookerrors</b></td></tr>
<tr class="memdesc:a1e1e317a0c5fcc90c1b15b08fe3dcb55"><td class="mdescLeft">&#160;</td><td class="mdescRight">$gradebookerrors An array of errors from trying to import into the gradebook. <br /></td></tr>
<tr class="separator:a1e1e317a0c5fcc90c1b15b08fe3dcb55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a300a5e08136f97fae17721125e1ab443" id="r_a300a5e08136f97fae17721125e1ab443"><td class="memItemLeft" align="right" valign="top"><a id="a300a5e08136f97fae17721125e1ab443" name="a300a5e08136f97fae17721125e1ab443"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$headers</b></td></tr>
<tr class="memdesc:a300a5e08136f97fae17721125e1ab443"><td class="mdescLeft">&#160;</td><td class="mdescRight">$headers Column names for the data. <br /></td></tr>
<tr class="separator:a300a5e08136f97fae17721125e1ab443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a360321ac6185d55da3227ddff2d4a" id="r_a41a360321ac6185d55da3227ddff2d4a"><td class="memItemLeft" align="right" valign="top"><a id="a41a360321ac6185d55da3227ddff2d4a" name="a41a360321ac6185d55da3227ddff2d4a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$iid</b></td></tr>
<tr class="memdesc:a41a360321ac6185d55da3227ddff2d4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">$iid Unique identifier for these csv records. <br /></td></tr>
<tr class="separator:a41a360321ac6185d55da3227ddff2d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2adf800dd561cdc6e4a01cddbdacf24b" id="r_a2adf800dd561cdc6e4a01cddbdacf24b"><td class="memItemLeft" align="right" valign="top"><a id="a2adf800dd561cdc6e4a01cddbdacf24b" name="a2adf800dd561cdc6e4a01cddbdacf24b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$importcode</b></td></tr>
<tr class="memdesc:a2adf800dd561cdc6e4a01cddbdacf24b"><td class="mdescLeft">&#160;</td><td class="mdescRight">$importcode The code for this batch insert. <br /></td></tr>
<tr class="separator:a2adf800dd561cdc6e4a01cddbdacf24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a709ff16703aeab782bdc7dc5cadf3b58" id="r_a709ff16703aeab782bdc7dc5cadf3b58"><td class="memItemLeft" align="right" valign="top"><a id="a709ff16703aeab782bdc7dc5cadf3b58" name="a709ff16703aeab782bdc7dc5cadf3b58"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$newfeedbacks</b></td></tr>
<tr class="memdesc:a709ff16703aeab782bdc7dc5cadf3b58"><td class="mdescLeft">&#160;</td><td class="mdescRight">$newfeedbacks Feedback to be inserted into the gradebook. <br /></td></tr>
<tr class="separator:a709ff16703aeab782bdc7dc5cadf3b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfb1b7b05cc9b79620d767f300fd257" id="r_a5bfb1b7b05cc9b79620d767f300fd257"><td class="memItemLeft" align="right" valign="top"><a id="a5bfb1b7b05cc9b79620d767f300fd257" name="a5bfb1b7b05cc9b79620d767f300fd257"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$newgradeitems</b></td></tr>
<tr class="memdesc:a5bfb1b7b05cc9b79620d767f300fd257"><td class="mdescLeft">&#160;</td><td class="mdescRight">$newgradeitems An array of new grade items to be inserted into the gradebook. <br /></td></tr>
<tr class="separator:a5bfb1b7b05cc9b79620d767f300fd257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8eecc13bd67be60cd4440b6caa89a7" id="r_aeb8eecc13bd67be60cd4440b6caa89a7"><td class="memItemLeft" align="right" valign="top"><a id="aeb8eecc13bd67be60cd4440b6caa89a7" name="aeb8eecc13bd67be60cd4440b6caa89a7"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$newgrades</b></td></tr>
<tr class="memdesc:aeb8eecc13bd67be60cd4440b6caa89a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">$newgrades Grades to be inserted into the gradebook. <br /></td></tr>
<tr class="separator:aeb8eecc13bd67be60cd4440b6caa89a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c11b0d3b8e551ec1c688f7fa19394b5" id="r_a2c11b0d3b8e551ec1c688f7fa19394b5"><td class="memItemLeft" align="right" valign="top"><a id="a2c11b0d3b8e551ec1c688f7fa19394b5" name="a2c11b0d3b8e551ec1c688f7fa19394b5"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$previewdata</b></td></tr>
<tr class="memdesc:a2c11b0d3b8e551ec1c688f7fa19394b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">$previewdata A subsection of the csv imported data. <br /></td></tr>
<tr class="separator:a2c11b0d3b8e551ec1c688f7fa19394b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77c97a2286b6cf1333e836adfff1b1c" id="r_ad77c97a2286b6cf1333e836adfff1b1c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad77c97a2286b6cf1333e836adfff1b1c">$status</a></td></tr>
<tr class="memdesc:ad77c97a2286b6cf1333e836adfff1b1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">$status The current status of the import.  <br /></td></tr>
<tr class="separator:ad77c97a2286b6cf1333e836adfff1b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba1305f780f55cb3883a1f3c969d1be" id="r_a8ba1305f780f55cb3883a1f3c969d1be"><td class="memItemLeft" align="right" valign="top"><a id="a8ba1305f780f55cb3883a1f3c969d1be" name="a8ba1305f780f55cb3883a1f3c969d1be"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$studentid</b></td></tr>
<tr class="memdesc:a8ba1305f780f55cb3883a1f3c969d1be"><td class="mdescLeft">&#160;</td><td class="mdescRight">$studentid Student ID <br /></td></tr>
<tr class="separator:a8ba1305f780f55cb3883a1f3c969d1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class for loading and preparing grade data from import. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2014 Adrian Greeve <a href="#" onclick="location.href='mai'+'lto:'+'adr'+'ia'+'n@m'+'oo'+'dle'+'.c'+'om'; return false;">adria<span class="obfuscator">.nosp@m.</span>n@mo<span class="obfuscator">.nosp@m.</span>odle.<span class="obfuscator">.nosp@m.</span>com</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1f87a9af84fb208ddc3d7ff3bdcf1559" name="a1f87a9af84fb208ddc3d7ff3bdcf1559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f87a9af84fb208ddc3d7ff3bdcf1559">&#9670;&#160;</a></span>check_user_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::check_user_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userfields</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that the user is in the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The value, from the csv file, being mapped to identify the user. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$userfields</td><td>Contains the field and label being mapped from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Returns the user ID if it exists, otherwise null. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4df5d120c7eef69bc3b513408674aca5" name="a4df5d120c7eef69bc3b513408674aca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df5d120c7eef69bc3b513408674aca5">&#9670;&#160;</a></span>cleanup_import()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::cleanup_import </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$notification</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clean up failed CSV grade import. </p>
<p>Clears the temp table for inserting grades.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$notification</td><td>The error message to display from the unsuccessful grade import. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa22f355434ffbd3a8d71ef9d2a6f6ced" name="aa22f355434ffbd3a8d71ef9d2a6f6ced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa22f355434ffbd3a8d71ef9d2a6f6ced">&#9670;&#160;</a></span>create_feedback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::create_feedback </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$courseid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check to see if the feedback matches a grade item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>The course ID. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>The ID of the grade item that the feedback relates to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The actual feedback being imported. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">object</td><td>Creates a feedback object with the item ID and the feedback value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97f9d9f94d07b8ef0d0737128ea812d7" name="a97f9d9f94d07b8ef0d0737128ea812d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f9d9f94d07b8ef0d0737128ea812d7">&#9670;&#160;</a></span>fetch_grade_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gradeimport_csv_load_data::fetch_grade_items </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$courseid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets all of the grade items in this course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>Course id; </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of grade items for the course. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a87cec9f9d3f3f87c27c2cee9302d0ed9" name="a87cec9f9d3f3f87c27c2cee9302d0ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87cec9f9d3f3f87c27c2cee9302d0ed9">&#9670;&#160;</a></span>get_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::get_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the error parameter for this class. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>returns error parameter for this class. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f044a7fc8885592250900706ae6b2da" name="a1f044a7fc8885592250900706ae6b2da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f044a7fc8885592250900706ae6b2da">&#9670;&#160;</a></span>get_gradebookerrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::get_gradebookerrors </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the gradebookerrors parameter for this class. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>returns gradebookerrors parameter for this class. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa455004dec996e55b966f4b82fe6d816" name="aa455004dec996e55b966f4b82fe6d816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa455004dec996e55b966f4b82fe6d816">&#9670;&#160;</a></span>get_headers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::get_headers </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the headers parameter for this class. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>returns headers parameter for this class. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17c568e8bc15e81bcf214373d73a594e" name="a17c568e8bc15e81bcf214373d73a594e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17c568e8bc15e81bcf214373d73a594e">&#9670;&#160;</a></span>get_iid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::get_iid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the iid parameter for this class. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>returns iid parameter for this class. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a166364a245cfc94ae30a9c11892498fa" name="a166364a245cfc94ae30a9c11892498fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a166364a245cfc94ae30a9c11892498fa">&#9670;&#160;</a></span>get_previewdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::get_previewdata </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the preview_data parameter for this class. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>returns previewdata parameter for this class. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a30d5b24a264bb6d66c6df23132e07c35" name="a30d5b24a264bb6d66c6df23132e07c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d5b24a264bb6d66c6df23132e07c35">&#9670;&#160;</a></span>import_new_grade_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::import_new_grade_item </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$header</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert the new grade into the grade item buffer table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$header</td><td>The column headers from the CSV file. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$key</td><td>Current row identifier. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The value for this row (final grade). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>new grade that is ready for commiting to the gradebook. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9826f6b23a342efb8ad64cc52c2e5ab2" name="a9826f6b23a342efb8ad64cc52c2e5ab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9826f6b23a342efb8ad64cc52c2e5ab2">&#9670;&#160;</a></span>insert_grade_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::insert_grade_record </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$record</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$studentid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d8b/classgrade__item.html">grade_item</a></td>          <td class="paramname"><span class="paramname"><em>$gradeitem</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts a record into the grade_import_values table. </p>
<p>This also adds common record information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td>The grade record being inserted into the database. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$studentid</td><td>The student ID. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d0/d8b/classgrade__item.html">grade_item</a></td><td class="paramname">$gradeitem</td><td>Grade item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>true or insert id on success. Null if the grade value is too high or too low or grade item not exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af79070f4c8a8919618d53b2ba74208e0" name="af79070f4c8a8919618d53b2ba74208e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79070f4c8a8919618d53b2ba74208e0">&#9670;&#160;</a></span>load_csv_content()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::load_csv_content </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$encoding</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$separator</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$previewrows</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load CSV content for previewing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>The grade data being imported. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$encoding</td><td>The type of encoding the file uses. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$separator</td><td>The separator being used to define each field. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$previewrows</td><td>How many rows are being previewed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a91f66f83e8c03541194d70c2e54edd95" name="a91f66f83e8c03541194d70c2e54edd95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91f66f83e8c03541194d70c2e54edd95">&#9670;&#160;</a></span>map_user_data_with_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::map_user_data_with_value </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mappingidentifier</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$header</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$map</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$courseid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$feedbackgradeid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$verbosescales</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check user mapping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$mappingidentifier</td><td>The user field that we are matching together. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The value we are checking / importing. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$header</td><td>The column headers of the csv file. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$map</td><td>Mapping information provided by the user. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$key</td><td>Current row identifier. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>The course ID. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$feedbackgradeid</td><td>The ID of the grade item that the feedback relates to. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$verbosescales</td><td>Form setting for grading with scales. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab383ae1f3c54edb107164d4f8461d25c" name="ab383ae1f3c54edb107164d4f8461d25c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab383ae1f3c54edb107164d4f8461d25c">&#9670;&#160;</a></span>prepare_import_grade_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::prepare_import_grade_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$header</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$formdata</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$csvimport</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$courseid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$separatemode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$currentgroup</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$verbosescales</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks and prepares grade data for inserting into the gradebook. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$header</td><td>Column headers of the CSV file. </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$formdata</td><td>Mapping information from the preview page. </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$csvimport</td><td>csv import reader object for iterating over the imported CSV file. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>The course ID. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$separatemode</td><td>If we have groups are they separate? </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$currentgroup</td><td>current group information. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$verbosescales</td><td>Form setting for grading with scales. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the status for importing is okay, false if there are errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a947d4b3039784007b2666c2a3eda7ecd" name="a947d4b3039784007b2666c2a3eda7ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a947d4b3039784007b2666c2a3eda7ecd">&#9670;&#160;</a></span>update_grade_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gradeimport_csv_load_data::update_grade_item </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$courseid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$map</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$verbosescales</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This updates existing grade items. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>The course ID. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$map</td><td>Mapping information provided by the user. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$key</td><td>The line that we are currently working on. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$verbosescales</td><td>Form setting for grading with scales. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The grade value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>grades to be updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad77c97a2286b6cf1333e836adfff1b1c" name="ad77c97a2286b6cf1333e836adfff1b1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad77c97a2286b6cf1333e836adfff1b1c">&#9670;&#160;</a></span>$status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool gradeimport_csv_load_data::$status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>$status The current status of the import. </p>
<p>True = okay, False = errors. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>grade/import/csv/classes/<b>load_data.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 21 2024 02:39:44 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
