<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: search_simpledb\engine Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.5</span>
   </div>
   <div id="projectbrief">Moodle 4.5dev (Build: 20240524) (d32844ce296)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d0/dbb/namespacesearch__simpledb.html">search_simpledb</a></li><li class="navelem"><a class="el" href="../../da/d4e/classsearch__simpledb_1_1engine.html">engine</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../de/d5d/classsearch__simpledb_1_1engine-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">search_simpledb\engine Class Reference<div class="ingroups"><a class="el" href="../../d7/dc4/group__search__simpledb.html">search_simpledb</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Simple moodle database engine.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for search_simpledb\engine:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../da/d4e/classsearch__simpledb_1_1engine.png" usemap="#search_5Fsimpledb_5Cengine_map" alt=""/>
  <map id="search_5Fsimpledb_5Cengine_map" name="search_5Fsimpledb_5Cengine_map">
<area href="../../d0/d66/classcore__search_1_1engine.html" title="Base class for search engines." alt="core_search\engine" shape="rect" coords="0,0,149,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac1be7ebf7e09e9dfb047aa6e6db3f648" id="r_ac1be7ebf7e09e9dfb047aa6e6db3f648"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1be7ebf7e09e9dfb047aa6e6db3f648">add_document</a> ($document, $fileindexing=false)</td></tr>
<tr class="memdesc:ac1be7ebf7e09e9dfb047aa6e6db3f648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a document to the search engine.  <br /></td></tr>
<tr class="separator:ac1be7ebf7e09e9dfb047aa6e6db3f648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f0c030c34167bb2dc43aa4ffdf6a6d" id="r_a78f0c030c34167bb2dc43aa4ffdf6a6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a78f0c030c34167bb2dc43aa4ffdf6a6d">add_document_batch</a> (array $documents, bool $fileindexing=false)</td></tr>
<tr class="memdesc:a78f0c030c34167bb2dc43aa4ffdf6a6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds multiple documents to the search engine.  <br /></td></tr>
<tr class="separator:a78f0c030c34167bb2dc43aa4ffdf6a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234db07a50e7da10783e683220444c2d" id="r_a234db07a50e7da10783e683220444c2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a234db07a50e7da10783e683220444c2d">add_documents</a> ($iterator, $searcharea, $options)</td></tr>
<tr class="memdesc:a234db07a50e7da10783e683220444c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop through given iterator of search documents and and have the search engine back end add them to the index.  <br /></td></tr>
<tr class="separator:a234db07a50e7da10783e683220444c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d34aa912ba5ad3b9aa8d4482c98f64b" id="r_a9d34aa912ba5ad3b9aa8d4482c98f64b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a9d34aa912ba5ad3b9aa8d4482c98f64b">area_index_complete</a> ($searcharea, $numdocs=0, $fullindex=false)</td></tr>
<tr class="memdesc:a9d34aa912ba5ad3b9aa8d4482c98f64b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do any area cleanup needed, and do anything to confirm contents.  <br /></td></tr>
<tr class="separator:a9d34aa912ba5ad3b9aa8d4482c98f64b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe9b3a2ce39293f4652eaa82ce11e9df" id="r_abe9b3a2ce39293f4652eaa82ce11e9df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#abe9b3a2ce39293f4652eaa82ce11e9df">area_index_starting</a> ($searcharea, $fullindex=false)</td></tr>
<tr class="memdesc:abe9b3a2ce39293f4652eaa82ce11e9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do anything that may need to be done before an area is indexed.  <br /></td></tr>
<tr class="separator:abe9b3a2ce39293f4652eaa82ce11e9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6a38b3536041fb87941a25a7858746" id="r_a5b6a38b3536041fb87941a25a7858746"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a5b6a38b3536041fb87941a25a7858746">check_latest_schema</a> ()</td></tr>
<tr class="memdesc:a5b6a38b3536041fb87941a25a7858746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the schema is the latest version.  <br /></td></tr>
<tr class="separator:a5b6a38b3536041fb87941a25a7858746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81657a35775d45e16949e1f85d5ace4f" id="r_a81657a35775d45e16949e1f85d5ace4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a81657a35775d45e16949e1f85d5ace4f">clear_query_error</a> ()</td></tr>
<tr class="memdesc:a81657a35775d45e16949e1f85d5ace4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the current query error value.  <br /></td></tr>
<tr class="separator:a81657a35775d45e16949e1f85d5ace4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006dcb800f0cf4cdb4c455ecb88a15e5" id="r_a006dcb800f0cf4cdb4c455ecb88a15e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a006dcb800f0cf4cdb4c455ecb88a15e5">delete</a> ($areaid=null)</td></tr>
<tr class="memdesc:a006dcb800f0cf4cdb4c455ecb88a15e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all area's documents.  <br /></td></tr>
<tr class="separator:a006dcb800f0cf4cdb4c455ecb88a15e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2fd678c1ab9773530be1ec0b907ca77" id="r_ad2fd678c1ab9773530be1ec0b907ca77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2fd678c1ab9773530be1ec0b907ca77">delete_by_id</a> ($id)</td></tr>
<tr class="memdesc:ad2fd678c1ab9773530be1ec0b907ca77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the specified document.  <br /></td></tr>
<tr class="separator:ad2fd678c1ab9773530be1ec0b907ca77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981fe1e97a69028b36d83876f0793b84" id="r_a981fe1e97a69028b36d83876f0793b84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a981fe1e97a69028b36d83876f0793b84">delete_index_for_context</a> (int $oldcontextid)</td></tr>
<tr class="memdesc:a981fe1e97a69028b36d83876f0793b84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simpledb supports deleting the index for a context.  <br /></td></tr>
<tr class="separator:a981fe1e97a69028b36d83876f0793b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314905c24f071524cc9e1684bf2cda7f" id="r_a314905c24f071524cc9e1684bf2cda7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a314905c24f071524cc9e1684bf2cda7f">delete_index_for_course</a> (int $oldcourseid)</td></tr>
<tr class="memdesc:a314905c24f071524cc9e1684bf2cda7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simpledb supports deleting the index for a course.  <br /></td></tr>
<tr class="separator:a314905c24f071524cc9e1684bf2cda7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbac484adb1ff81f7ee2acf5998c6ed3" id="r_acbac484adb1ff81f7ee2acf5998c6ed3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbac484adb1ff81f7ee2acf5998c6ed3">execute_query</a> ($filters, $usercontexts, $limit=0)</td></tr>
<tr class="memdesc:acbac484adb1ff81f7ee2acf5998c6ed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a SQL query, applies filters and executes it returning its results.  <br /></td></tr>
<tr class="separator:acbac484adb1ff81f7ee2acf5998c6ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d49d307340048f074ff55178d906552" id="r_a1d49d307340048f074ff55178d906552"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a1d49d307340048f074ff55178d906552">file_indexing_enabled</a> ()</td></tr>
<tr class="memdesc:a1d49d307340048f074ff55178d906552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if file indexing is supported and enabled.  <br /></td></tr>
<tr class="separator:a1d49d307340048f074ff55178d906552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3932e237dccb830eac3a1e1cccc49ca7" id="r_a3932e237dccb830eac3a1e1cccc49ca7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a3932e237dccb830eac3a1e1cccc49ca7">get_batch_max_content</a> ()</td></tr>
<tr class="memdesc:a3932e237dccb830eac3a1e1cccc49ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum size of document content to be included in a shared batch (if the document is bigger then it will be sent on its own; batching does not provide a performance improvement for big documents anyway).  <br /></td></tr>
<tr class="separator:a3932e237dccb830eac3a1e1cccc49ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff89dd3c8494e413d74d8da936eed21c" id="r_aff89dd3c8494e413d74d8da936eed21c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#aff89dd3c8494e413d74d8da936eed21c">get_batch_max_documents</a> ()</td></tr>
<tr class="memdesc:aff89dd3c8494e413d74d8da936eed21c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum number of documents to send together in batch mode.  <br /></td></tr>
<tr class="separator:aff89dd3c8494e413d74d8da936eed21c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab995efd89c51efb67d5c17f7ade17187" id="r_ab995efd89c51efb67d5c17f7ade17187"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab995efd89c51efb67d5c17f7ade17187">get_document_classname</a> ()</td></tr>
<tr class="memdesc:ab995efd89c51efb67d5c17f7ade17187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the document class used by this search engine.  <br /></td></tr>
<tr class="separator:ab995efd89c51efb67d5c17f7ade17187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec19dd01edb078cebbf42a097d582bf" id="r_a4ec19dd01edb078cebbf42a097d582bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a4ec19dd01edb078cebbf42a097d582bf">get_plugin_name</a> ()</td></tr>
<tr class="memdesc:a4ec19dd01edb078cebbf42a097d582bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the plugin name.  <br /></td></tr>
<tr class="separator:a4ec19dd01edb078cebbf42a097d582bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e4d6f34a47050e6245415986ae6979" id="r_a10e4d6f34a47050e6245415986ae6979"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a10e4d6f34a47050e6245415986ae6979">get_query_error</a> ()</td></tr>
<tr class="memdesc:a10e4d6f34a47050e6245415986ae6979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns any error reported by the search engine when executing the provided query.  <br /></td></tr>
<tr class="separator:a10e4d6f34a47050e6245415986ae6979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637e31c5a125dbdcc92893bdcaad9ece" id="r_a637e31c5a125dbdcc92893bdcaad9ece"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a637e31c5a125dbdcc92893bdcaad9ece">get_query_total_count</a> ()</td></tr>
<tr class="memdesc:a637e31c5a125dbdcc92893bdcaad9ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total results.  <br /></td></tr>
<tr class="separator:a637e31c5a125dbdcc92893bdcaad9ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e70e3bed784dfee17400bd293f8ba85" id="r_a2e70e3bed784dfee17400bd293f8ba85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2e70e3bed784dfee17400bd293f8ba85">get_supported_orders</a> (\context $context)</td></tr>
<tr class="memdesc:a2e70e3bed784dfee17400bd293f8ba85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a list of results orders (and names for them) that are supported by this search engine in the given context.  <br /></td></tr>
<tr class="separator:a2e70e3bed784dfee17400bd293f8ba85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9f7c412fbde2b64845db4d59049758" id="r_a2d9f7c412fbde2b64845db4d59049758"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2d9f7c412fbde2b64845db4d59049758">get_user</a> ($userid)</td></tr>
<tr class="memdesc:a2d9f7c412fbde2b64845db4d59049758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns user data checking the internal static cache.  <br /></td></tr>
<tr class="separator:a2d9f7c412fbde2b64845db4d59049758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d9d6f4f08c9ce30afd39f5e31cc19b" id="r_a14d9d6f4f08c9ce30afd39f5e31cc19b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a14d9d6f4f08c9ce30afd39f5e31cc19b">has_alternate_configuration</a> ()</td></tr>
<tr class="memdesc:a14d9d6f4f08c9ce30afd39f5e31cc19b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the search engine has an alternate configuration.  <br /></td></tr>
<tr class="separator:a14d9d6f4f08c9ce30afd39f5e31cc19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff048de31fb192865e6609f65493c214" id="r_aff048de31fb192865e6609f65493c214"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#aff048de31fb192865e6609f65493c214">index_complete</a> ($numdocs=0, $fullindex=false)</td></tr>
<tr class="memdesc:aff048de31fb192865e6609f65493c214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run any post indexing operations.  <br /></td></tr>
<tr class="separator:aff048de31fb192865e6609f65493c214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d90b2511e1fa69b4cb7ed20a833c3d8" id="r_a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a9d90b2511e1fa69b4cb7ed20a833c3d8">index_starting</a> ($fullindex=false)</td></tr>
<tr class="memdesc:a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run any pre-indexing operations.  <br /></td></tr>
<tr class="separator:a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86508ef93e9ccd3cfcefc123972f5455" id="r_a86508ef93e9ccd3cfcefc123972f5455"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86508ef93e9ccd3cfcefc123972f5455">is_installed</a> ()</td></tr>
<tr class="memdesc:a86508ef93e9ccd3cfcefc123972f5455"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is always installed.  <br /></td></tr>
<tr class="separator:a86508ef93e9ccd3cfcefc123972f5455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09398630fede64d2d13d746c575545e6" id="r_a09398630fede64d2d13d746c575545e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09398630fede64d2d13d746c575545e6">is_server_ready</a> ()</td></tr>
<tr class="memdesc:a09398630fede64d2d13d746c575545e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the required table was installed.  <br /></td></tr>
<tr class="separator:a09398630fede64d2d13d746c575545e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35d1ce15ed20d37cb761a18b279f5f1" id="r_ad35d1ce15ed20d37cb761a18b279f5f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ad35d1ce15ed20d37cb761a18b279f5f1">optimize</a> ()</td></tr>
<tr class="memdesc:ad35d1ce15ed20d37cb761a18b279f5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optimizes the search engine.  <br /></td></tr>
<tr class="separator:ad35d1ce15ed20d37cb761a18b279f5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe1f56b0ab42852fe5916a15b78cdff" id="r_abfe1f56b0ab42852fe5916a15b78cdff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#abfe1f56b0ab42852fe5916a15b78cdff">record_applied_schema_version</a> ($version)</td></tr>
<tr class="memdesc:abfe1f56b0ab42852fe5916a15b78cdff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Usually called by the engine; marks that the schema has been updated.  <br /></td></tr>
<tr class="separator:abfe1f56b0ab42852fe5916a15b78cdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07744a383f58ece1317bb140954f03a6" id="r_a07744a383f58ece1317bb140954f03a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a07744a383f58ece1317bb140954f03a6">skip_schema_check</a> ($skip=true)</td></tr>
<tr class="memdesc:a07744a383f58ece1317bb140954f03a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the search engine to skip any time-consuming checks that it might do as part of the is_server_ready function, and only carry out a basic check that it can contact the server.  <br /></td></tr>
<tr class="separator:a07744a383f58ece1317bb140954f03a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7eb7d21cb9242750ca91b8e04d66cca" id="r_ae7eb7d21cb9242750ca91b8e04d66cca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ae7eb7d21cb9242750ca91b8e04d66cca">supports_add_document_batch</a> ()</td></tr>
<tr class="memdesc:ae7eb7d21cb9242750ca91b8e04d66cca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the search engine supports adding documents in a batch.  <br /></td></tr>
<tr class="separator:ae7eb7d21cb9242750ca91b8e04d66cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfcac166f5550dff691c721415d83816" id="r_adfcac166f5550dff691c721415d83816"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#adfcac166f5550dff691c721415d83816">supports_group_filtering</a> ()</td></tr>
<tr class="memdesc:adfcac166f5550dff691c721415d83816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if this search engine supports groups.  <br /></td></tr>
<tr class="separator:adfcac166f5550dff691c721415d83816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc7b72413ebe511fdc2463aa99b57de" id="r_afbc7b72413ebe511fdc2463aa99b57de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#afbc7b72413ebe511fdc2463aa99b57de">supports_users</a> ()</td></tr>
<tr class="memdesc:afbc7b72413ebe511fdc2463aa99b57de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the search engine supports searching by user.  <br /></td></tr>
<tr class="separator:afbc7b72413ebe511fdc2463aa99b57de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4f1b50cf10755a1acf9131022a73a906" id="r_a4f1b50cf10755a1acf9131022a73a906"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a4f1b50cf10755a1acf9131022a73a906">clear_users_cache</a> ()</td></tr>
<tr class="memdesc:a4f1b50cf10755a1acf9131022a73a906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the users cache.  <br /></td></tr>
<tr class="separator:a4f1b50cf10755a1acf9131022a73a906"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2af2b3cc9b49757ff11604ca2f0788c6" id="r_a2af2b3cc9b49757ff11604ca2f0788c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2af2b3cc9b49757ff11604ca2f0788c6">get_course</a> ($courseid)</td></tr>
<tr class="memdesc:a2af2b3cc9b49757ff11604ca2f0788c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a course instance checking internal caching.  <br /></td></tr>
<tr class="separator:a2af2b3cc9b49757ff11604ca2f0788c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516c8cab72324476170ec6274eca2b99" id="r_a516c8cab72324476170ec6274eca2b99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a516c8cab72324476170ec6274eca2b99">get_search_area</a> ($areaid)</td></tr>
<tr class="memdesc:a516c8cab72324476170ec6274eca2b99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a search instance of the specified area checking internal caching.  <br /></td></tr>
<tr class="separator:a516c8cab72324476170ec6274eca2b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e65450ab61f1d4806c8a209cea1b2e" id="r_ae1e65450ab61f1d4806c8a209cea1b2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1e65450ab61f1d4806c8a209cea1b2e">get_simple_query</a> ($q)</td></tr>
<tr class="memdesc:ae1e65450ab61f1d4806c8a209cea1b2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default query for db engines.  <br /></td></tr>
<tr class="separator:ae1e65450ab61f1d4806c8a209cea1b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7e47c8581d7b3acd802cb8336e679e" id="r_a3d7e47c8581d7b3acd802cb8336e679e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a3d7e47c8581d7b3acd802cb8336e679e">should_skip_schema_check</a> ()</td></tr>
<tr class="memdesc:a3d7e47c8581d7b3acd802cb8336e679e"><td class="mdescLeft">&#160;</td><td class="mdescRight">For use by subclasses.  <br /></td></tr>
<tr class="separator:a3d7e47c8581d7b3acd802cb8336e679e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3241b8695ba90ee12900369e9a4c6a1" id="r_ad3241b8695ba90ee12900369e9a4c6a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ad3241b8695ba90ee12900369e9a4c6a1">to_document</a> (\<a class="el" href="../../d4/dd1/classcore__search_1_1base.html">core_search\base</a> $searcharea, $docdata)</td></tr>
<tr class="memdesc:ad3241b8695ba90ee12900369e9a4c6a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a document instance prepared to be rendered.  <br /></td></tr>
<tr class="separator:ad3241b8695ba90ee12900369e9a4c6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4feaed0a38c119d739d35589ddda2a6" id="r_ab4feaed0a38c119d739d35589ddda2a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab4feaed0a38c119d739d35589ddda2a6">update_schema</a> ($oldversion, $newversion)</td></tr>
<tr class="memdesc:ab4feaed0a38c119d739d35589ddda2a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the search engine to upgrade the schema.  <br /></td></tr>
<tr class="separator:ab4feaed0a38c119d739d35589ddda2a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6d79528042f979f7d5d01c49a81d575e" id="r_a6d79528042f979f7d5d01c49a81d575e"><td class="memItemLeft" align="right" valign="top"><a id="a6d79528042f979f7d5d01c49a81d575e" name="a6d79528042f979f7d5d01c49a81d575e"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$cachedareas</b> = array()</td></tr>
<tr class="memdesc:a6d79528042f979f7d5d01c49a81d575e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal cache. <br /></td></tr>
<tr class="separator:a6d79528042f979f7d5d01c49a81d575e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544e966f5122250e05afebe26b47d927" id="r_a544e966f5122250e05afebe26b47d927"><td class="memItemLeft" align="right" valign="top"><a id="a544e966f5122250e05afebe26b47d927" name="a544e966f5122250e05afebe26b47d927"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$cachedcourses</b> = array()</td></tr>
<tr class="memdesc:a544e966f5122250e05afebe26b47d927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal cache. <br /></td></tr>
<tr class="separator:a544e966f5122250e05afebe26b47d927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe27c421db29f8a710dbfcc05c95bf2f" id="r_afe27c421db29f8a710dbfcc05c95bf2f"><td class="memItemLeft" align="right" valign="top"><a id="afe27c421db29f8a710dbfcc05c95bf2f" name="afe27c421db29f8a710dbfcc05c95bf2f"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>$config</b> = null</td></tr>
<tr class="memdesc:afe27c421db29f8a710dbfcc05c95bf2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The search engine configuration. <br /></td></tr>
<tr class="separator:afe27c421db29f8a710dbfcc05c95bf2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca210dfdf972c1e742100fb768127479" id="r_aca210dfdf972c1e742100fb768127479"><td class="memItemLeft" align="right" valign="top"><a id="aca210dfdf972c1e742100fb768127479" name="aca210dfdf972c1e742100fb768127479"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$pluginname</b> = null</td></tr>
<tr class="memdesc:aca210dfdf972c1e742100fb768127479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frankenstyle plugin name. <br /></td></tr>
<tr class="separator:aca210dfdf972c1e742100fb768127479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fef94c1f9ad55b064836ead156ef19" id="r_a50fef94c1f9ad55b064836ead156ef19"><td class="memItemLeft" align="right" valign="top"><a id="a50fef94c1f9ad55b064836ead156ef19" name="a50fef94c1f9ad55b064836ead156ef19"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$queryerror</b> = null</td></tr>
<tr class="memdesc:a50fef94c1f9ad55b064836ead156ef19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last executed query error, if there was any. <br /></td></tr>
<tr class="separator:a50fef94c1f9ad55b064836ead156ef19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa20d5dc09d6ab752c1939aa070f92a35" id="r_aa20d5dc09d6ab752c1939aa070f92a35"><td class="memItemLeft" align="right" valign="top"><a id="aa20d5dc09d6ab752c1939aa070f92a35" name="aa20d5dc09d6ab752c1939aa070f92a35"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$skipschemacheck</b> = false</td></tr>
<tr class="memdesc:aa20d5dc09d6ab752c1939aa070f92a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, should skip schema validity check when checking the search engine is ready. <br /></td></tr>
<tr class="separator:aa20d5dc09d6ab752c1939aa070f92a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219fe922b9e1afeb2335ba5861431e67" id="r_a219fe922b9e1afeb2335ba5861431e67"><td class="memItemLeft" align="right" valign="top"><a id="a219fe922b9e1afeb2335ba5861431e67" name="a219fe922b9e1afeb2335ba5861431e67"></a>
null int&#160;</td><td class="memItemRight" valign="bottom"><b>$totalresults</b> = null</td></tr>
<tr class="memdesc:a219fe922b9e1afeb2335ba5861431e67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of available results. <br /></td></tr>
<tr class="separator:a219fe922b9e1afeb2335ba5861431e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ab71dd596ba238da41beb9468c9167187" id="r_ab71dd596ba238da41beb9468c9167187"><td class="memItemLeft" align="right" valign="top">static stdClass[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab71dd596ba238da41beb9468c9167187">$cachedusers</a> = array()</td></tr>
<tr class="memdesc:ab71dd596ba238da41beb9468c9167187"><td class="mdescLeft">&#160;</td><td class="mdescRight">User data required to show their fullnames.  <br /></td></tr>
<tr class="separator:ab71dd596ba238da41beb9468c9167187"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple moodle database engine. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2016 David Monllao <a href="http://www.davidmonllao.com" class="el externalurl"></a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac1be7ebf7e09e9dfb047aa6e6db3f648" name="ac1be7ebf7e09e9dfb047aa6e6db3f648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1be7ebf7e09e9dfb047aa6e6db3f648">&#9670;&#160;</a></span>add_document()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::add_document </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$document</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fileindexing</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a document to the search engine. </p>
<p>This does not commit to the search engine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search\document</a></td><td class="paramname">$document</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fileindexing</td><td>True if file indexing is to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>False if the file was skipped or failed, true on success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#adb39369ed3a8e2be2fc85548cddecd64">core_search\engine</a>.</p>

</div>
</div>
<a id="a78f0c030c34167bb2dc43aa4ffdf6a6d" name="a78f0c030c34167bb2dc43aa4ffdf6a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f0c030c34167bb2dc43aa4ffdf6a6d">&#9670;&#160;</a></span>add_document_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::add_document_batch </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$documents</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$fileindexing</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds multiple documents to the search engine. </p>
<p>It should return the number successfully processed, and the number of batches they were processed in (for example if you add 100 documents and there is an error processing one of those documents, and it took 4 batches, it would return [99, 1, 4]).</p>
<p>If the engine implements this, it should return true to {</p><dl class="section see"><dt>See also</dt><dd>supports_add_document_batch}.</dd></dl>
<p>The system will only call this function with up to {</p><dl class="section see"><dt>See also</dt><dd>get_batch_max_documents} documents, and each document in the batch will have content no larger than specified by {</dd>
<dd>
get_batch_max_content}.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">document[]</td><td class="paramname">$documents</td><td>Documents to add </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fileindexing</td><td>True if file indexing is to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int[]</td><td>Array of three elements, successfully processed, failed processed, batch count </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af983cd7a298f8efbce46994fce2c9d61">search_solr\engine</a>.</p>

</div>
</div>
<a id="a234db07a50e7da10783e683220444c2d" name="a234db07a50e7da10783e683220444c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234db07a50e7da10783e683220444c2d">&#9670;&#160;</a></span>add_documents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::add_documents </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$iterator</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$searcharea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loop through given iterator of search documents and and have the search engine back end add them to the index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">iterator</td><td class="paramname">$iterator</td><td>the iterator of documents to index </td></tr>
    <tr><td class="paramtype">base</td><td class="paramname">$searcharea</td><td>the area for the documents to index </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>document indexing options </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Processed document counts </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d34aa912ba5ad3b9aa8d4482c98f64b" name="a9d34aa912ba5ad3b9aa8d4482c98f64b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d34aa912ba5ad3b9aa8d4482c98f64b">&#9670;&#160;</a></span>area_index_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::area_index_complete </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$searcharea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numdocs</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fullindex</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do any area cleanup needed, and do anything to confirm contents. </p>
<p>Return false to prevent the search area completed time and stats from being updated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search\base</a></td><td class="paramname">$searcharea</td><td>The search area that was complete </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$numdocs</td><td>The number of documents that were added to the index </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index is being performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True means that data is considered indexed </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af2756126f73806a75d5c8cec8ac266c1">search_solr\engine</a>.</p>

</div>
</div>
<a id="abe9b3a2ce39293f4652eaa82ce11e9df" name="abe9b3a2ce39293f4652eaa82ce11e9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe9b3a2ce39293f4652eaa82ce11e9df">&#9670;&#160;</a></span>area_index_starting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::area_index_starting </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$searcharea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fullindex</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do anything that may need to be done before an area is indexed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search\base</a></td><td class="paramname">$searcharea</td><td>The search area that was complete </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index is being performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b6a38b3536041fb87941a25a7858746" name="a5b6a38b3536041fb87941a25a7858746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b6a38b3536041fb87941a25a7858746">&#9670;&#160;</a></span>check_latest_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::check_latest_schema </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks that the schema is the latest version. </p>
<p>If the version stored in config does not match the current, this function will attempt to upgrade the schema.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|string</td><td>True if schema is OK, a string if user needs to take action </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81657a35775d45e16949e1f85d5ace4f" name="a81657a35775d45e16949e1f85d5ace4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81657a35775d45e16949e1f85d5ace4f">&#9670;&#160;</a></span>clear_query_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::clear_query_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the current query error value. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f1b50cf10755a1acf9131022a73a906" name="a4f1b50cf10755a1acf9131022a73a906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1b50cf10755a1acf9131022a73a906">&#9670;&#160;</a></span>clear_users_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\engine::clear_users_cache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the users cache. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a006dcb800f0cf4cdb4c455ecb88a15e5" name="a006dcb800f0cf4cdb4c455ecb88a15e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006dcb800f0cf4cdb4c455ecb88a15e5">&#9670;&#160;</a></span>delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::delete </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete all area's documents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a55cd0c711f640fdf047c9baa5e73e400">core_search\engine</a>.</p>

</div>
</div>
<a id="ad2fd678c1ab9773530be1ec0b907ca77" name="ad2fd678c1ab9773530be1ec0b907ca77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2fd678c1ab9773530be1ec0b907ca77">&#9670;&#160;</a></span>delete_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::delete_by_id </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the specified document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>The document id to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a981fe1e97a69028b36d83876f0793b84" name="a981fe1e97a69028b36d83876f0793b84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981fe1e97a69028b36d83876f0793b84">&#9670;&#160;</a></span>delete_index_for_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::delete_index_for_context </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$oldcontextid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simpledb supports deleting the index for a context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldcontextid</td><td>Context that has been deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True to indicate that any data was actually deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search\engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a306444949f7163a54f597ca1238af97c">core_search\engine</a>.</p>

</div>
</div>
<a id="a314905c24f071524cc9e1684bf2cda7f" name="a314905c24f071524cc9e1684bf2cda7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314905c24f071524cc9e1684bf2cda7f">&#9670;&#160;</a></span>delete_index_for_course()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::delete_index_for_course </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$oldcourseid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simpledb supports deleting the index for a course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldcourseid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True to indicate that any data was actually deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search\engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a938b221714b16fb9cd166436129a765e">core_search\engine</a>.</p>

</div>
</div>
<a id="acbac484adb1ff81f7ee2acf5998c6ed3" name="acbac484adb1ff81f7ee2acf5998c6ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbac484adb1ff81f7ee2acf5998c6ed3">&#9670;&#160;</a></span>execute_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::execute_query </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filters</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$usercontexts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares a SQL query, applies filters and executes it returning its results. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search\engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$filters</td><td>Containing query and filters. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$usercontexts</td><td>Contexts where the user has access. True if the user can access all contexts. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>The maximum number of results to return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search\document[]</td><td>Results or false if no results </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ac5f9e282c3d7b475a6ab16d03e45b3c4">core_search\engine</a>.</p>

</div>
</div>
<a id="a1d49d307340048f074ff55178d906552" name="a1d49d307340048f074ff55178d906552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d49d307340048f074ff55178d906552">&#9670;&#160;</a></span>file_indexing_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::file_indexing_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if file indexing is supported and enabled. </p>
<p>False otherwise.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a962168017ede23d047a7503946bf11d1">search_solr\engine</a>.</p>

</div>
</div>
<a id="a3932e237dccb830eac3a1e1cccc49ca7" name="a3932e237dccb830eac3a1e1cccc49ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3932e237dccb830eac3a1e1cccc49ca7">&#9670;&#160;</a></span>get_batch_max_content()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_batch_max_content </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the maximum size of document content to be included in a shared batch (if the document is bigger then it will be sent on its own; batching does not provide a performance improvement for big documents anyway). </p>
<p>Only relevant if the engine returns true to {</p><dl class="section see"><dt>See also</dt><dd>supports_add_document_batch}.</dd></dl>
<p>Can be overridden by search engine if required.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Max size in bytes, default 1MB </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff89dd3c8494e413d74d8da936eed21c" name="aff89dd3c8494e413d74d8da936eed21c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff89dd3c8494e413d74d8da936eed21c">&#9670;&#160;</a></span>get_batch_max_documents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core_search\engine::get_batch_max_documents </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the maximum number of documents to send together in batch mode. </p>
<p>Only relevant if the engine returns true to {</p><dl class="section see"><dt>See also</dt><dd>supports_add_document_batch}.</dd></dl>
<p>Can be overridden by search engine if required.</p>
<p>Number of documents to send together in batch mode, default 100. </p>

</div>
</div>
<a id="a2af2b3cc9b49757ff11604ca2f0788c6" name="a2af2b3cc9b49757ff11604ca2f0788c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af2b3cc9b49757ff11604ca2f0788c6">&#9670;&#160;</a></span>get_course()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_course </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$courseid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a course instance checking internal caching. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab995efd89c51efb67d5c17f7ade17187" name="ab995efd89c51efb67d5c17f7ade17187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab995efd89c51efb67d5c17f7ade17187">&#9670;&#160;</a></span>get_document_classname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_document_classname </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the document class used by this search engine. </p>
<p>Search engines can overwrite <a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search\document</a> with search_ENGINENAME\document class.</p>
<p>Looks for a document class in the current search engine namespace, falling back to <a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search\document</a>.</p>
<p>Publicly available because search areas do not have access to the engine details, <a class="el" href="../../df/d6b/classcore__search_1_1document__factory.html" title="Search document factory.">core_search\document_factory</a> accesses this function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ec19dd01edb078cebbf42a097d582bf" name="a4ec19dd01edb078cebbf42a097d582bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec19dd01edb078cebbf42a097d582bf">&#9670;&#160;</a></span>get_plugin_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_plugin_name </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the plugin name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>Frankenstyle plugin name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10e4d6f34a47050e6245415986ae6979" name="a10e4d6f34a47050e6245415986ae6979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e4d6f34a47050e6245415986ae6979">&#9670;&#160;</a></span>get_query_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_query_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns any error reported by the search engine when executing the provided query. </p>
<p>It should be called from static\execute_query when an exception is triggered.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a637e31c5a125dbdcc92893bdcaad9ece" name="a637e31c5a125dbdcc92893bdcaad9ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a637e31c5a125dbdcc92893bdcaad9ece">&#9670;&#160;</a></span>get_query_total_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::get_query_total_count </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total results. </p>
<p>Including skipped results.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ac47247dd80bec3472c820d8887b77c40">core_search\engine</a>.</p>

</div>
</div>
<a id="a516c8cab72324476170ec6274eca2b99" name="a516c8cab72324476170ec6274eca2b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a516c8cab72324476170ec6274eca2b99">&#9670;&#160;</a></span>get_search_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_search_area </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a search instance of the specified area checking internal caching. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td>Area id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search\base</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae1e65450ab61f1d4806c8a209cea1b2e" name="ae1e65450ab61f1d4806c8a209cea1b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e65450ab61f1d4806c8a209cea1b2e">&#9670;&#160;</a></span>get_simple_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::get_simple_query </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$q</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the default query for db engines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$q</td><td>The query string </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>SQL string and params list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2e70e3bed784dfee17400bd293f8ba85" name="a2e70e3bed784dfee17400bd293f8ba85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e70e3bed784dfee17400bd293f8ba85">&#9670;&#160;</a></span>get_supported_orders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_supported_orders </td>
          <td>(</td>
          <td class="paramtype">\context</td>          <td class="paramname"><span class="paramname"><em>$context</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain a list of results orders (and names for them) that are supported by this search engine in the given context. </p>
<p>By default, engines sort by relevance only.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>Context that the user requested search from </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array from order name =&gt; display text </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#aef0779367fc84782c36ea69bf0c53188">search_solr\engine</a>.</p>

</div>
</div>
<a id="a2d9f7c412fbde2b64845db4d59049758" name="a2d9f7c412fbde2b64845db4d59049758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9f7c412fbde2b64845db4d59049758">&#9670;&#160;</a></span>get_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns user data checking the internal static cache. </p>
<p>Including here the minimum required user information as this may grow big.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a14d9d6f4f08c9ce30afd39f5e31cc19b" name="a14d9d6f4f08c9ce30afd39f5e31cc19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d9d6f4f08c9ce30afd39f5e31cc19b">&#9670;&#160;</a></span>has_alternate_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::has_alternate_configuration </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the search engine has an alternate configuration. </p>
<p>This is used where the same search engine class supports two different configurations, which are both shown on the settings screen. The alternate configuration is selected by passing 'true' parameter to the constructor.</p>
<p>The feature is used when a different connection is in use for indexing vs. querying the search engine.</p>
<p>This function should only return true if the engine supports an alternate configuration and the user has filled in the settings. (We do not need to test they are valid, that will happen as normal.)</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if an alternate configuration is defined </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a2c8610cd246bb29db622ddb930cd7de9">search_solr\engine</a>.</p>

</div>
</div>
<a id="aff048de31fb192865e6609f65493c214" name="aff048de31fb192865e6609f65493c214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff048de31fb192865e6609f65493c214">&#9670;&#160;</a></span>index_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::index_complete </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numdocs</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fullindex</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run any post indexing operations. </p>
<p>Should be overwritten if the search engine needs to do any post index cleanup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$numdocs</td><td>The number of documents that were added to the index </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index was performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d90b2511e1fa69b4cb7ed20a833c3d8" name="a9d90b2511e1fa69b4cb7ed20a833c3d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d90b2511e1fa69b4cb7ed20a833c3d8">&#9670;&#160;</a></span>index_starting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::index_starting </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fullindex</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run any pre-indexing operations. </p>
<p>Should be overwritten if the search engine needs to do any pre index preparation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index will be performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a86508ef93e9ccd3cfcefc123972f5455" name="a86508ef93e9ccd3cfcefc123972f5455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86508ef93e9ccd3cfcefc123972f5455">&#9670;&#160;</a></span>is_installed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::is_installed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It is always installed. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#afe026f1679e656208d6a2842cb802e20">core_search\engine</a>.</p>

</div>
</div>
<a id="a09398630fede64d2d13d746c575545e6" name="a09398630fede64d2d13d746c575545e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09398630fede64d2d13d746c575545e6">&#9670;&#160;</a></span>is_server_ready()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_simpledb\engine::is_server_ready </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks that the required table was installed. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true|string</td><td>Returns true if all good or an error string. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a6e1d119c0b55f696a5cb9091e3a7b8d2">core_search\engine</a>.</p>

</div>
</div>
<a id="ad35d1ce15ed20d37cb761a18b279f5f1" name="ad35d1ce15ed20d37cb761a18b279f5f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35d1ce15ed20d37cb761a18b279f5f1">&#9670;&#160;</a></span>optimize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::optimize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Optimizes the search engine. </p>
<p>Should be overwritten if the search engine can optimize its contents.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abfe1f56b0ab42852fe5916a15b78cdff" name="abfe1f56b0ab42852fe5916a15b78cdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe1f56b0ab42852fe5916a15b78cdff">&#9670;&#160;</a></span>record_applied_schema_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::record_applied_schema_version </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$version</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Usually called by the engine; marks that the schema has been updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$version</td><td>Records the schema version now applied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3d7e47c8581d7b3acd802cb8336e679e" name="a3d7e47c8581d7b3acd802cb8336e679e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7e47c8581d7b3acd802cb8336e679e">&#9670;&#160;</a></span>should_skip_schema_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::should_skip_schema_check </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For use by subclasses. </p>
<p>The engine can call this inside is_server_ready to check whether it should skip time-consuming schema checks.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.5 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if schema checks should be skipped </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07744a383f58ece1317bb140954f03a6" name="a07744a383f58ece1317bb140954f03a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07744a383f58ece1317bb140954f03a6">&#9670;&#160;</a></span>skip_schema_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::skip_schema_check </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$skip</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the search engine to skip any time-consuming checks that it might do as part of the is_server_ready function, and only carry out a basic check that it can contact the server. </p>
<p>This setting is not remembered and applies only to the current request.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.5 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$skip</td><td>True to skip the checks, false to start checking again </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae7eb7d21cb9242750ca91b8e04d66cca" name="ae7eb7d21cb9242750ca91b8e04d66cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7eb7d21cb9242750ca91b8e04d66cca">&#9670;&#160;</a></span>supports_add_document_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::supports_add_document_batch </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the search engine supports adding documents in a batch. </p>
<p>If it returns true to this function, the search engine must implement the add_document_batch function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the search engine supports adding documents in a batch </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a4f1a310260f1ede742618134d2d61da0">search_solr\engine</a>.</p>

</div>
</div>
<a id="adfcac166f5550dff691c721415d83816" name="adfcac166f5550dff691c721415d83816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfcac166f5550dff691c721415d83816">&#9670;&#160;</a></span>supports_group_filtering()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::supports_group_filtering </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if this search engine supports groups. </p>
<p>Note that returning true to this function causes the parameters to execute_query to be passed differently!</p>
<p>In order to implement groups and return true to this function, the search engine should:</p>
<ol type="1">
<li>Handle the fields -&gt;separategroupscontexts and -&gt;usergroups in the $accessinfo parameter to execute_query (ideally, using these to automatically restrict search results).</li>
<li>Support the optional groupids parameter in the $filter parameter for execute_query to restrict results to only those where the stored groupid matches the given value.</li>
</ol>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if this engine supports searching by group id field </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a88091f39bdee636ff709b343617071f4">search_solr\engine</a>.</p>

</div>
</div>
<a id="afbc7b72413ebe511fdc2463aa99b57de" name="afbc7b72413ebe511fdc2463aa99b57de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc7b72413ebe511fdc2463aa99b57de">&#9670;&#160;</a></span>supports_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::supports_users </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the search engine supports searching by user. </p>
<p>If it returns true to this function, the search engine should support the 'userids' option in the $filters value passed to execute_query(), returning only items where the userid in the search document matches one of those user ids.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the search engine supports searching by user </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#ada534d6db690e2764886b7c13ee64cd0">search_solr\engine</a>.</p>

</div>
</div>
<a id="ad3241b8695ba90ee12900369e9a4c6a1" name="ad3241b8695ba90ee12900369e9a4c6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3241b8695ba90ee12900369e9a4c6a1">&#9670;&#160;</a></span>to_document()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::to_document </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../d4/dd1/classcore__search_1_1base.html">core_search\base</a></td>          <td class="paramname"><span class="paramname"><em>$searcharea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$docdata</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a document instance prepared to be rendered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search\base</a></td><td class="paramname">$searcharea</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$docdata</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search\document</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4feaed0a38c119d739d35589ddda2a6" name="ab4feaed0a38c119d739d35589ddda2a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4feaed0a38c119d739d35589ddda2a6">&#9670;&#160;</a></span>update_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::update_schema </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$oldversion</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newversion</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests the search engine to upgrade the schema. </p>
<p>The engine should update the schema if possible/necessary, and should ensure that record_applied_schema_version is called as a result.</p>
<p>If it is not possible to upgrade the schema at the moment, it can do nothing and return; the function will be called again next time search is initialised.</p>
<p>The default implementation just returns, with a DEBUG_DEVELOPER warning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldversion</td><td>Old schema version </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$newversion</td><td>New schema version </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|string</td><td>True if schema is updated successfully, a string if it needs updating manually </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a12c3ace29c6207d4a53e55e2f71f4775">search_solr\engine</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab71dd596ba238da41beb9468c9167187" name="ab71dd596ba238da41beb9468c9167187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71dd596ba238da41beb9468c9167187">&#9670;&#160;</a></span>$cachedusers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdClass [] core_search\engine::$cachedusers = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User data required to show their fullnames. </p>
<p>Indexed by userid. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>search/engine/simpledb/classes/<b>engine.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 26 2024 02:52:06 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
