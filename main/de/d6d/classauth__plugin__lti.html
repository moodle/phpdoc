<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: auth_plugin_lti Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.5</span>
   </div>
   <div id="projectbrief">Moodle 4.5dev (Build: 20240524) (d32844ce296)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../db/de4/classauth__plugin__lti-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">auth_plugin_lti Class Reference<div class="ingroups"><a class="el" href="../../d2/def/group__auth__lti.html">auth_lti</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for auth_plugin_lti:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../de/d6d/classauth__plugin__lti.png" usemap="#auth_5Fplugin_5Flti_map" alt=""/>
  <map id="auth_5Fplugin_5Flti_map" name="auth_5Fplugin_5Flti_map">
<area href="../../da/d7a/classauth__plugin__base.html" title="Abstract authentication plugin." alt="auth_plugin_base" shape="rect" coords="0,0,111,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab713b0ee5db7c429a9dbce2e9206e0d2" id="r_ab713b0ee5db7c429a9dbce2e9206e0d2"><td class="memItemLeft" align="right" valign="top"><a id="ab713b0ee5db7c429a9dbce2e9206e0d2" name="ab713b0ee5db7c429a9dbce2e9206e0d2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__construct</b> ()</td></tr>
<tr class="memdesc:ab713b0ee5db7c429a9dbce2e9206e0d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br /></td></tr>
<tr class="separator:ab713b0ee5db7c429a9dbce2e9206e0d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac585c783ac815fe76affc377a1085942" id="r_ac585c783ac815fe76affc377a1085942"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ac585c783ac815fe76affc377a1085942">can_be_manually_set</a> ()</td></tr>
<tr class="memdesc:ac585c783ac815fe76affc377a1085942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not this authentication plugin can be manually set for users, for example, when bulk uploading users.  <br /></td></tr>
<tr class="separator:ac585c783ac815fe76affc377a1085942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accac09bd5ca0353b2fddb1245c1884bb" id="r_accac09bd5ca0353b2fddb1245c1884bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#accac09bd5ca0353b2fddb1245c1884bb">can_change_password</a> ()</td></tr>
<tr class="memdesc:accac09bd5ca0353b2fddb1245c1884bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin can change the users' password.  <br /></td></tr>
<tr class="separator:accac09bd5ca0353b2fddb1245c1884bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4acb0dd80f85a76cce65c030c2a4c4ab" id="r_a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a4acb0dd80f85a76cce65c030c2a4c4ab">can_confirm</a> ()</td></tr>
<tr class="memdesc:a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows confirming of new users.  <br /></td></tr>
<tr class="separator:a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c5b62ba41a673ed3150871fd2e6502" id="r_a35c5b62ba41a673ed3150871fd2e6502"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a35c5b62ba41a673ed3150871fd2e6502">can_edit_profile</a> ()</td></tr>
<tr class="memdesc:a35c5b62ba41a673ed3150871fd2e6502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin can edit the users' profile.  <br /></td></tr>
<tr class="separator:a35c5b62ba41a673ed3150871fd2e6502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6315b78e1ae3e7bc53595bb323e70c97" id="r_a6315b78e1ae3e7bc53595bb323e70c97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a6315b78e1ae3e7bc53595bb323e70c97">can_reset_password</a> ()</td></tr>
<tr class="memdesc:a6315b78e1ae3e7bc53595bb323e70c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows resetting of internal password.  <br /></td></tr>
<tr class="separator:a6315b78e1ae3e7bc53595bb323e70c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b46763556093098c7249c6a37d3e701" id="r_a8b46763556093098c7249c6a37d3e701"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a8b46763556093098c7249c6a37d3e701">can_signup</a> ()</td></tr>
<tr class="memdesc:a8b46763556093098c7249c6a37d3e701"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows resetting of internal password.  <br /></td></tr>
<tr class="separator:a8b46763556093098c7249c6a37d3e701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35518ee2fa3510b2361235c04fc40d24" id="r_a35518ee2fa3510b2361235c04fc40d24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a35518ee2fa3510b2361235c04fc40d24">change_password_url</a> ()</td></tr>
<tr class="memdesc:a35518ee2fa3510b2361235c04fc40d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the URL for changing the users' passwords, or empty if the default URL can be used.  <br /></td></tr>
<tr class="separator:a35518ee2fa3510b2361235c04fc40d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07377a81db32dfaae4128e69ca215c88" id="r_a07377a81db32dfaae4128e69ca215c88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07377a81db32dfaae4128e69ca215c88">complete_login</a> (array $launchdata, <a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a> $returnurl, int $provisioningmode, array $legacyconsumersecrets=[])</td></tr>
<tr class="memdesc:a07377a81db32dfaae4128e69ca215c88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authenticate the user based on the unique {iss, sub} tuple present in the OIDC <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a>.  <br /></td></tr>
<tr class="separator:a07377a81db32dfaae4128e69ca215c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c4d919a83ab4be998397c1d2cc88b4" id="r_a63c4d919a83ab4be998397c1d2cc88b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a63c4d919a83ab4be998397c1d2cc88b4">config_form</a> ($config, $err, $user_fields)</td></tr>
<tr class="memdesc:a63c4d919a83ab4be998397c1d2cc88b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a form for configuring this authentication plugin.  <br /></td></tr>
<tr class="separator:a63c4d919a83ab4be998397c1d2cc88b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314b28ce3f21853dbda3d7137cd07358" id="r_a314b28ce3f21853dbda3d7137cd07358"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a314b28ce3f21853dbda3d7137cd07358">create_user_binding</a> (string $iss, string $sub, int $userid)</td></tr>
<tr class="memdesc:a314b28ce3f21853dbda3d7137cd07358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a binding between the LTI user, as identified by {iss, sub} tuple and the user id.  <br /></td></tr>
<tr class="separator:a314b28ce3f21853dbda3d7137cd07358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa004b95d95943e16ee51d40129235a01" id="r_aa004b95d95943e16ee51d40129235a01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa004b95d95943e16ee51d40129235a01">edit_profile_url</a> ()</td></tr>
<tr class="memdesc:aa004b95d95943e16ee51d40129235a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the URL for editing the users' profile, or empty if the default URL can be used.  <br /></td></tr>
<tr class="separator:aa004b95d95943e16ee51d40129235a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1294510991f058bd253afb3e7f9aa161" id="r_a1294510991f058bd253afb3e7f9aa161"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1294510991f058bd253afb3e7f9aa161">find_cli_user</a> ()</td></tr>
<tr class="memdesc:a1294510991f058bd253afb3e7f9aa161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identify a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> account on the CLI.  <br /></td></tr>
<tr class="separator:a1294510991f058bd253afb3e7f9aa161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae6108bd0446cc563b4e3ae6e89882b5" id="r_aae6108bd0446cc563b4e3ae6e89882b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae6108bd0446cc563b4e3ae6e89882b5">find_or_create_user_from_launch</a> (array $launchdata, array $legacyconsumersecrets=[])</td></tr>
<tr class="memdesc:aae6108bd0446cc563b4e3ae6e89882b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account for the LTI user corresponding to the user defined in a link launch.  <br /></td></tr>
<tr class="separator:aae6108bd0446cc563b4e3ae6e89882b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a12f126292940c27c0361b70881745" id="r_a91a12f126292940c27c0361b70881745"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91a12f126292940c27c0361b70881745">find_or_create_user_from_membership</a> (array $member, string $iss, string $legacyconsumerkey='')</td></tr>
<tr class="memdesc:a91a12f126292940c27c0361b70881745"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account for the LTI user based on the user details returned by a NRPS 2 membership call.  <br /></td></tr>
<tr class="separator:a91a12f126292940c27c0361b70881745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c40b2093ad0bf42b6639510bae58ac" id="r_a10c40b2093ad0bf42b6639510bae58ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a10c40b2093ad0bf42b6639510bae58ac">get_custom_user_profile_fields</a> ()</td></tr>
<tr class="memdesc:a10c40b2093ad0bf42b6639510bae58ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return custom user profile fields.  <br /></td></tr>
<tr class="separator:a10c40b2093ad0bf42b6639510bae58ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9ec5061a1210cd8ba4c12396c170a7" id="r_abc9ec5061a1210cd8ba4c12396c170a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#abc9ec5061a1210cd8ba4c12396c170a7">get_description</a> ()</td></tr>
<tr class="memdesc:abc9ec5061a1210cd8ba4c12396c170a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the auth description (from core or own auth lang files)  <br /></td></tr>
<tr class="separator:abc9ec5061a1210cd8ba4c12396c170a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a32620a1d5b5fa9125a959c1bf47f7" id="r_a34a32620a1d5b5fa9125a959c1bf47f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a34a32620a1d5b5fa9125a959c1bf47f7">get_extrauserinfo</a> ()</td></tr>
<tr class="memdesc:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns extra user information.  <br /></td></tr>
<tr class="separator:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c1c61db8de15e6b054abff97cc8087" id="r_a64c1c61db8de15e6b054abff97cc8087"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a64c1c61db8de15e6b054abff97cc8087">get_password_change_info</a> (stdClass $user)</td></tr>
<tr class="memdesc:a64c1c61db8de15e6b054abff97cc8087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information on how the specified user can change their password.  <br /></td></tr>
<tr class="separator:a64c1c61db8de15e6b054abff97cc8087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ea9b70395087455ef92c9a494b5dea" id="r_ad9ea9b70395087455ef92c9a494b5dea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ad9ea9b70395087455ef92c9a494b5dea">get_title</a> ()</td></tr>
<tr class="memdesc:ad9ea9b70395087455ef92c9a494b5dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the properly translated human-friendly title of this auth plugin.  <br /></td></tr>
<tr class="separator:ad9ea9b70395087455ef92c9a494b5dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adced9476543a6701712bca829486e4f2" id="r_adced9476543a6701712bca829486e4f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adced9476543a6701712bca829486e4f2">get_user_binding</a> (string $issuer, string $sub)</td></tr>
<tr class="memdesc:adced9476543a6701712bca829486e4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the id of the linked <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account for an LTI user, or null if not found.  <br /></td></tr>
<tr class="separator:adced9476543a6701712bca829486e4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1cc19d3ba1c5a112165f9e9d9bbdc46" id="r_ae1cc19d3ba1c5a112165f9e9d9bbdc46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46">get_userinfo</a> ($username)</td></tr>
<tr class="memdesc:ae1cc19d3ba1c5a112165f9e9d9bbdc46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read user information from external database and returns it as array().  <br /></td></tr>
<tr class="separator:ae1cc19d3ba1c5a112165f9e9d9bbdc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4993714130776c297a1edfcadb97ac50" id="r_a4993714130776c297a1edfcadb97ac50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a4993714130776c297a1edfcadb97ac50">ignore_timeout_hook</a> ($user, $sid, $timecreated, $timemodified)</td></tr>
<tr class="memdesc:a4993714130776c297a1edfcadb97ac50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook called before timing out of database session.  <br /></td></tr>
<tr class="separator:a4993714130776c297a1edfcadb97ac50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000cf01b1b7cb58bf8e6838e50d9224d" id="r_a000cf01b1b7cb58bf8e6838e50d9224d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a000cf01b1b7cb58bf8e6838e50d9224d">is_captcha_enabled</a> ()</td></tr>
<tr class="memdesc:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not the captcha element is enabled.  <br /></td></tr>
<tr class="separator:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784738df78d605fcc572aaa92a7305c7" id="r_a784738df78d605fcc572aaa92a7305c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a784738df78d605fcc572aaa92a7305c7">is_configured</a> ()</td></tr>
<tr class="memdesc:a784738df78d605fcc572aaa92a7305c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns false if this plugin is enabled but not configured.  <br /></td></tr>
<tr class="separator:a784738df78d605fcc572aaa92a7305c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd33f08da51b61b3d8ab9310f24de64" id="r_a0dd33f08da51b61b3d8ab9310f24de64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a0dd33f08da51b61b3d8ab9310f24de64">is_internal</a> ()</td></tr>
<tr class="memdesc:a0dd33f08da51b61b3d8ab9310f24de64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin is "internal".  <br /></td></tr>
<tr class="separator:a0dd33f08da51b61b3d8ab9310f24de64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ad6ffe25b6c9035ca36b0fdf755918" id="r_a77ad6ffe25b6c9035ca36b0fdf755918"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a77ad6ffe25b6c9035ca36b0fdf755918">is_synchronised_with_external</a> ()</td></tr>
<tr class="memdesc:a77ad6ffe25b6c9035ca36b0fdf755918"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if moodle should automatically update internal user records with data from external sources using the information from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46" title="Read user information from external database and returns it as array().">get_userinfo()</a> method.  <br /></td></tr>
<tr class="separator:a77ad6ffe25b6c9035ca36b0fdf755918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590266d46d9dd8a153de4f5c9de48966" id="r_a590266d46d9dd8a153de4f5c9de48966"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a590266d46d9dd8a153de4f5c9de48966">loginpage_hook</a> ()</td></tr>
<tr class="memdesc:a590266d46d9dd8a153de4f5c9de48966"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour of login page.  <br /></td></tr>
<tr class="separator:a590266d46d9dd8a153de4f5c9de48966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12f9d89c198f34eb6a440a02c81a873" id="r_ae12f9d89c198f34eb6a440a02c81a873"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ae12f9d89c198f34eb6a440a02c81a873">loginpage_idp_list</a> ($wantsurl)</td></tr>
<tr class="memdesc:ae12f9d89c198f34eb6a440a02c81a873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of potential IdPs that this authentication plugin supports.  <br /></td></tr>
<tr class="separator:ae12f9d89c198f34eb6a440a02c81a873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a083093742678c20450020780c9078fd9" id="r_a083093742678c20450020780c9078fd9"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a083093742678c20450020780c9078fd9">logoutpage_hook</a> ()</td></tr>
<tr class="memdesc:a083093742678c20450020780c9078fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour of logout page.  <br /></td></tr>
<tr class="separator:a083093742678c20450020780c9078fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d165eca39aaeb1e0d8c7f960423d18" id="r_a86d165eca39aaeb1e0d8c7f960423d18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a86d165eca39aaeb1e0d8c7f960423d18">password_expire</a> ($username)</td></tr>
<tr class="memdesc:a86d165eca39aaeb1e0d8c7f960423d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">return number of days to user password expires  <br /></td></tr>
<tr class="separator:a86d165eca39aaeb1e0d8c7f960423d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161b8e58713047dc1afb76f972afb6b0" id="r_a161b8e58713047dc1afb76f972afb6b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a161b8e58713047dc1afb76f972afb6b0">postlogout_hook</a> ($user)</td></tr>
<tr class="memdesc:a161b8e58713047dc1afb76f972afb6b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post logout hook.  <br /></td></tr>
<tr class="separator:a161b8e58713047dc1afb76f972afb6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d1997a51da39f2eefc7fc7b2da1075" id="r_a71d1997a51da39f2eefc7fc7b2da1075"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a71d1997a51da39f2eefc7fc7b2da1075">pre_loginpage_hook</a> ()</td></tr>
<tr class="memdesc:a71d1997a51da39f2eefc7fc7b2da1075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour before going to the login page.  <br /></td></tr>
<tr class="separator:a71d1997a51da39f2eefc7fc7b2da1075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1020896f222cdab32fa490baaa17c1b9" id="r_a1020896f222cdab32fa490baaa17c1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1020896f222cdab32fa490baaa17c1b9">pre_user_login_hook</a> (&amp;$user)</td></tr>
<tr class="memdesc:a1020896f222cdab32fa490baaa17c1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre user_login hook.  <br /></td></tr>
<tr class="separator:a1020896f222cdab32fa490baaa17c1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ec655c395f6ecbd884e99a47cf26f7" id="r_aa1ec655c395f6ecbd884e99a47cf26f7"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa1ec655c395f6ecbd884e99a47cf26f7">prelogout_hook</a> ()</td></tr>
<tr class="memdesc:aa1ec655c395f6ecbd884e99a47cf26f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre logout hook.  <br /></td></tr>
<tr class="separator:aa1ec655c395f6ecbd884e99a47cf26f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261ade2764b3aeb66582c5b8c889aee3" id="r_a261ade2764b3aeb66582c5b8c889aee3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a261ade2764b3aeb66582c5b8c889aee3">prevent_local_passwords</a> ()</td></tr>
<tr class="memdesc:a261ade2764b3aeb66582c5b8c889aee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if password hashes should be stored in local moodle database.  <br /></td></tr>
<tr class="separator:a261ade2764b3aeb66582c5b8c889aee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84c2e2ebb28ea283742d45f9b5f1732" id="r_aa84c2e2ebb28ea283742d45f9b5f1732"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa84c2e2ebb28ea283742d45f9b5f1732">process_config</a> ($config)</td></tr>
<tr class="memdesc:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes and stores configuration data for this authentication plugin.  <br /></td></tr>
<tr class="separator:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662d92911f5207d0ab679491dcfb99ec" id="r_a662d92911f5207d0ab679491dcfb99ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a662d92911f5207d0ab679491dcfb99ec">set_extrauserinfo</a> (array $values)</td></tr>
<tr class="memdesc:a662d92911f5207d0ab679491dcfb99ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set extra user information.  <br /></td></tr>
<tr class="separator:a662d92911f5207d0ab679491dcfb99ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77f69d053c0a800f8c6929212ecfcf9" id="r_af77f69d053c0a800f8c6929212ecfcf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#af77f69d053c0a800f8c6929212ecfcf9">signup_form</a> ()</td></tr>
<tr class="memdesc:af77f69d053c0a800f8c6929212ecfcf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a form to capture user details for account creation.  <br /></td></tr>
<tr class="separator:af77f69d053c0a800f8c6929212ecfcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff25d207596f3e682e2d152eb5cbf6e" id="r_a6ff25d207596f3e682e2d152eb5cbf6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a6ff25d207596f3e682e2d152eb5cbf6e">sync_roles</a> ($user)</td></tr>
<tr class="memdesc:a6ff25d207596f3e682e2d152eb5cbf6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync roles for this user - usually creator.  <br /></td></tr>
<tr class="separator:a6ff25d207596f3e682e2d152eb5cbf6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b75a2df4fc2bb6689a488bfe43bb3c5" id="r_a8b75a2df4fc2bb6689a488bfe43bb3c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b75a2df4fc2bb6689a488bfe43bb3c5">update_user_account</a> (stdClass $user, array $userdata, string $iss)</td></tr>
<tr class="memdesc:a8b75a2df4fc2bb6689a488bfe43bb3c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the personal fields of the user account, based on data present in either a launch of member sync call.  <br /></td></tr>
<tr class="separator:a8b75a2df4fc2bb6689a488bfe43bb3c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f41448612b93e326f25264a8a197e39" id="r_a0f41448612b93e326f25264a8a197e39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a0f41448612b93e326f25264a8a197e39">user_authenticated_hook</a> (&amp;$user, $username, $password)</td></tr>
<tr class="memdesc:a0f41448612b93e326f25264a8a197e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post authentication hook.  <br /></td></tr>
<tr class="separator:a0f41448612b93e326f25264a8a197e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c859c2ce584ade45e98a11683647ae1" id="r_a5c859c2ce584ade45e98a11683647ae1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a5c859c2ce584ade45e98a11683647ae1">user_confirm</a> ($username, $confirmsecret)</td></tr>
<tr class="memdesc:a5c859c2ce584ade45e98a11683647ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm the new user as registered.  <br /></td></tr>
<tr class="separator:a5c859c2ce584ade45e98a11683647ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62731aff3764f0bfde3cbcadf47e8208" id="r_a62731aff3764f0bfde3cbcadf47e8208"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a62731aff3764f0bfde3cbcadf47e8208">user_delete</a> ($olduser)</td></tr>
<tr class="memdesc:a62731aff3764f0bfde3cbcadf47e8208"><td class="mdescLeft">&#160;</td><td class="mdescRight">User delete requested - internal user record is mared as deleted already, username not present anymore.  <br /></td></tr>
<tr class="separator:a62731aff3764f0bfde3cbcadf47e8208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bb0b4120624dc594e5fe5e29e003b6" id="r_ad7bb0b4120624dc594e5fe5e29e003b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ad7bb0b4120624dc594e5fe5e29e003b6">user_exists</a> ($username)</td></tr>
<tr class="memdesc:ad7bb0b4120624dc594e5fe5e29e003b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if user exists in external db.  <br /></td></tr>
<tr class="separator:ad7bb0b4120624dc594e5fe5e29e003b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b903e606b85459780790736dad38d93" id="r_a9b903e606b85459780790736dad38d93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b903e606b85459780790736dad38d93">user_login</a> ($username, $password)</td></tr>
<tr class="memdesc:a9b903e606b85459780790736dad38d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Users can not log in via the traditional login form.  <br /></td></tr>
<tr class="separator:a9b903e606b85459780790736dad38d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47840a5fd43ae4bae4c0b562f0a0ff94" id="r_a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a47840a5fd43ae4bae4c0b562f0a0ff94">user_signup</a> ($user, $<a class="el" href="../../d0/de1/group__core.html#gadd8686b50f3ac89a272ca980452d10cc">notify</a>=true)</td></tr>
<tr class="memdesc:a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sign up a new user ready for confirmation.  <br /></td></tr>
<tr class="separator:a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c6287e69024da1720e15027c3a347d" id="r_aa7c6287e69024da1720e15027c3a347d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa7c6287e69024da1720e15027c3a347d">user_update</a> ($olduser, $newuser)</td></tr>
<tr class="memdesc:aa7c6287e69024da1720e15027c3a347d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the user record is updated.  <br /></td></tr>
<tr class="separator:aa7c6287e69024da1720e15027c3a347d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6360533b7796dfc382899ba361021ec4" id="r_a6360533b7796dfc382899ba361021ec4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a6360533b7796dfc382899ba361021ec4">user_update_password</a> ($user, $newpassword)</td></tr>
<tr class="memdesc:a6360533b7796dfc382899ba361021ec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the user's password.  <br /></td></tr>
<tr class="separator:a6360533b7796dfc382899ba361021ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa597d2387e70cb903c8a5c64e72c1a0" id="r_afa597d2387e70cb903c8a5c64e72c1a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#afa597d2387e70cb903c8a5c64e72c1a0">validate_form</a> ($form, &amp;$err)</td></tr>
<tr class="memdesc:afa597d2387e70cb903c8a5c64e72c1a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A chance to validate form data, and last chance to do stuff before it is inserted in config_plugin.  <br /></td></tr>
<tr class="separator:afa597d2387e70cb903c8a5c64e72c1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a180bf553436cc13699fdc243a956b4cb" id="r_a180bf553436cc13699fdc243a956b4cb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a180bf553436cc13699fdc243a956b4cb">find_cli_admin_user</a> ()</td></tr>
<tr class="memdesc:a180bf553436cc13699fdc243a956b4cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find an OS level admin <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account.  <br /></td></tr>
<tr class="separator:a180bf553436cc13699fdc243a956b4cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefdf13f3c2ca7d18f3284b43cd45a484" id="r_aefdf13f3c2ca7d18f3284b43cd45a484"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aefdf13f3c2ca7d18f3284b43cd45a484">get_enabled_auth_plugin_classes</a> ()</td></tr>
<tr class="memdesc:aefdf13f3c2ca7d18f3284b43cd45a484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the enabled auth plugins.  <br /></td></tr>
<tr class="separator:aefdf13f3c2ca7d18f3284b43cd45a484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e03ec9caaba0ea64e6aa62040a2be20" id="r_a1e03ec9caaba0ea64e6aa62040a2be20"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1e03ec9caaba0ea64e6aa62040a2be20">get_identity_providers</a> ($authsequence)</td></tr>
<tr class="memdesc:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the list of enabled identity providers.  <br /></td></tr>
<tr class="separator:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d217ae9107559898dfa8b5b151a700c" id="r_a2d217ae9107559898dfa8b5b151a700c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a2d217ae9107559898dfa8b5b151a700c">login_cli_admin_user</a> ()</td></tr>
<tr class="memdesc:a2d217ae9107559898dfa8b5b151a700c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find and login as an OS level admin <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account.  <br /></td></tr>
<tr class="separator:a2d217ae9107559898dfa8b5b151a700c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924e24173d42049499bef18dc4ec9898" id="r_a924e24173d42049499bef18dc4ec9898"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a924e24173d42049499bef18dc4ec9898">prepare_identity_providers_for_output</a> ($identityproviders, <a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a> $output)</td></tr>
<tr class="memdesc:a924e24173d42049499bef18dc4ec9898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a list of identity providers for output.  <br /></td></tr>
<tr class="separator:a924e24173d42049499bef18dc4ec9898"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8ddf152b48963e38db55fb5b6ce0f74b" id="r_a8ddf152b48963e38db55fb5b6ce0f74b"><td class="memItemLeft" align="right" valign="top"><a id="a8ddf152b48963e38db55fb5b6ce0f74b" name="a8ddf152b48963e38db55fb5b6ce0f74b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$authtype</b></td></tr>
<tr class="memdesc:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authentication plugin type - the same as db field. <br /></td></tr>
<tr class="separator:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a250f49853b26416e956538ed16a74d" id="r_a5a250f49853b26416e956538ed16a74d"><td class="memItemLeft" align="right" valign="top"><a id="a5a250f49853b26416e956538ed16a74d" name="a5a250f49853b26416e956538ed16a74d"></a>
object&#160;</td><td class="memItemRight" valign="bottom"><b>$config</b></td></tr>
<tr class="memdesc:a5a250f49853b26416e956538ed16a74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The configuration details for the plugin. <br /></td></tr>
<tr class="separator:a5a250f49853b26416e956538ed16a74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827d7be85f7daf2354d7bd14f44877cc" id="r_a827d7be85f7daf2354d7bd14f44877cc"><td class="memItemLeft" align="right" valign="top"><a id="a827d7be85f7daf2354d7bd14f44877cc" name="a827d7be85f7daf2354d7bd14f44877cc"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$userfields</b> = core_user::AUTHSYNCFIELDS</td></tr>
<tr class="separator:a827d7be85f7daf2354d7bd14f44877cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed42511492c551ae856deee530a0ac07" id="r_aed42511492c551ae856deee530a0ac07"><td class="memItemLeft" align="right" valign="top">int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed42511492c551ae856deee530a0ac07">PROVISIONING_MODE_AUTO_ONLY</a> = 1</td></tr>
<tr class="memdesc:aed42511492c551ae856deee530a0ac07"><td class="mdescLeft">&#160;</td><td class="mdescRight">constant representing the automatic account provisioning mode.  <br /></td></tr>
<tr class="separator:aed42511492c551ae856deee530a0ac07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57e70a8f0b1314edd728886ce4c5c08" id="r_af57e70a8f0b1314edd728886ce4c5c08"><td class="memItemLeft" align="right" valign="top">int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af57e70a8f0b1314edd728886ce4c5c08">PROVISIONING_MODE_PROMPT_EXISTING_ONLY</a> = 3</td></tr>
<tr class="memdesc:af57e70a8f0b1314edd728886ce4c5c08"><td class="mdescLeft">&#160;</td><td class="mdescRight">constant representing the prompt for existing only provisioning mode.  <br /></td></tr>
<tr class="separator:af57e70a8f0b1314edd728886ce4c5c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af347f33f0792e9efd63d2ecfbbe28ce9" id="r_af347f33f0792e9efd63d2ecfbbe28ce9"><td class="memItemLeft" align="right" valign="top">int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af347f33f0792e9efd63d2ecfbbe28ce9">PROVISIONING_MODE_PROMPT_NEW_EXISTING</a> = 2</td></tr>
<tr class="memdesc:af347f33f0792e9efd63d2ecfbbe28ce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">constant representing the prompt for new or existing provisioning mode.  <br /></td></tr>
<tr class="separator:af347f33f0792e9efd63d2ecfbbe28ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab13ba2ae4b250d00cbf1b7d7981d4258" id="r_ab13ba2ae4b250d00cbf1b7d7981d4258"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab13ba2ae4b250d00cbf1b7d7981d4258">create_new_account</a> (array $userdata, string $iss)</td></tr>
<tr class="memdesc:ab13ba2ae4b250d00cbf1b7d7981d4258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new user account based on the user data either in the launch <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a> or from a membership call.  <br /></td></tr>
<tr class="separator:ab13ba2ae4b250d00cbf1b7d7981d4258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb746b947dcef5683f98ce64c36edb63" id="r_acb746b947dcef5683f98ce64c36edb63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb746b947dcef5683f98ce64c36edb63">empty_session</a> ()</td></tr>
<tr class="memdesc:acb746b947dcef5683f98ce64c36edb63"><td class="mdescLeft">&#160;</td><td class="mdescRight">If there's an existing session, inits an empty session.  <br /></td></tr>
<tr class="separator:acb746b947dcef5683f98ce64c36edb63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1dffca18aa79c096403093197d6d14" id="r_a1b1dffca18aa79c096403093197d6d14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b1dffca18aa79c096403093197d6d14">is_valid_provisioning_mode</a> (int $mode)</td></tr>
<tr class="memdesc:a1b1dffca18aa79c096403093197d6d14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a provisioning mode is valid or not.  <br /></td></tr>
<tr class="separator:a1b1dffca18aa79c096403093197d6d14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c26f96388a2da0fdc87c4ab3d80c40c" id="r_a3c26f96388a2da0fdc87c4ab3d80c40c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c26f96388a2da0fdc87c4ab3d80c40c">update_user_picture</a> (int $userid, string $url)</td></tr>
<tr class="memdesc:a3c26f96388a2da0fdc87c4ab3d80c40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the user's picture with the image stored at $url.  <br /></td></tr>
<tr class="separator:a3c26f96388a2da0fdc87c4ab3d80c40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cddbf9e25745e24af8155b9c66caa55" id="r_a7cddbf9e25745e24af8155b9c66caa55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a7cddbf9e25745e24af8155b9c66caa55">update_user_record</a> ($username, $updatekeys=false, $triggerevent=false, $suspenduser=false)</td></tr>
<tr class="memdesc:a7cddbf9e25745e24af8155b9c66caa55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a local user record from an external source.  <br /></td></tr>
<tr class="separator:a7cddbf9e25745e24af8155b9c66caa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac560e8ce95e5d461b5426a5d5ba9cde8" id="r_ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="memItemLeft" align="right" valign="top"><a id="ac560e8ce95e5d461b5426a5d5ba9cde8" name="ac560e8ce95e5d461b5426a5d5ba9cde8"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$errorlogtag</b> = ''</td></tr>
<tr class="memdesc:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tag we want to prepend to any error log messages. <br /></td></tr>
<tr class="separator:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952cfbe040f1b09ce155484a79f3fc9a" id="r_a952cfbe040f1b09ce155484a79f3fc9a"><td class="memItemLeft" align="right" valign="top"><a id="a952cfbe040f1b09ce155484a79f3fc9a" name="a952cfbe040f1b09ce155484a79f3fc9a"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$extrauserinfo</b> = []</td></tr>
<tr class="memdesc:a952cfbe040f1b09ce155484a79f3fc9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores extra information available to the logged in event. <br /></td></tr>
<tr class="separator:a952cfbe040f1b09ce155484a79f3fc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac585c783ac815fe76affc377a1085942" name="ac585c783ac815fe76affc377a1085942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac585c783ac815fe76affc377a1085942">&#9670;&#160;</a></span>can_be_manually_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_be_manually_set </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether or not this authentication plugin can be manually set for users, for example, when bulk uploading users. </p>
<p>This should be overriden by authentication plugins where setting the authentication method manually is allowed.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.6 </dd></dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#ab347eaa527265c95d88d3313ff2f362a">auth_oauth2\auth</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#a7c003dd24f5c12718a0536f26b073e70">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ab2ebf5100cc16641401a346704b280fe">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#ab4b8c8029a5a180f7eb780f81b0d1428">auth_plugin_manual</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#ac7783787ce45b4408d7eaf5ab8bb5adc">auth_plugin_nologin</a>, and <a class="el" href="../../d6/d50/classauth__plugin__none.html#a126b158246883d6034802fca262d4c5a">auth_plugin_none</a>.</p>

</div>
</div>
<a id="accac09bd5ca0353b2fddb1245c1884bb" name="accac09bd5ca0353b2fddb1245c1884bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accac09bd5ca0353b2fddb1245c1884bb">&#9670;&#160;</a></span>can_change_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_change_password </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin can change the users' password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a62b591734f14dbd029d08e92b6102e3e">auth_oauth2\auth</a>, <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a255e763893dea410b4967c4368b96c11">auth_plugin_cas</a>, <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a517e9c553adbc5978193c55c92f267d9">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#aac60119f0268c5eb1a8d83e2e8268c4f">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a2a9058013598a2b18a5882c2a02fb4f1">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a9215d62525cb6ccee2bd6d435f9720ca">auth_plugin_manual</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a91ac26a1a40bd1dec5b8dcf617461226">auth_plugin_mnet</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#afa216e37b3b65bc1e08eebd2e15e8081">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#a0767a8eaaf796ce069b8ff38063e42cc">auth_plugin_none</a>, <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#aea819f55d46268b508e0f30c4ad03c42">auth_plugin_shibboleth</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#ad846aa063fbc5ca1d19c10858b352a4c">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="a4acb0dd80f85a76cce65c030c2a4c4ab" name="a4acb0dd80f85a76cce65c030c2a4c4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4acb0dd80f85a76cce65c030c2a4c4ab">&#9670;&#160;</a></span>can_confirm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_confirm </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows confirming of new users. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a3153b4eb1cdcd360bcb21cb142e481a7">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a85b6d711ccf4da0a0c2f80d655cf5715">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a35c5b62ba41a673ed3150871fd2e6502" name="a35c5b62ba41a673ed3150871fd2e6502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c5b62ba41a673ed3150871fd2e6502">&#9670;&#160;</a></span>can_edit_profile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_edit_profile </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin can edit the users' profile. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6315b78e1ae3e7bc53595bb323e70c97" name="a6315b78e1ae3e7bc53595bb323e70c97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6315b78e1ae3e7bc53595bb323e70c97">&#9670;&#160;</a></span>can_reset_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_reset_password </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows resetting of internal password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a305811f33b3434e0f6f2147644ba6fb2">auth_oauth2\auth</a>, <a class="el" href="../../d7/d1d/classauth__plugin__db.html#aa01f9f5eeae6a5ac0c31a30437220a4f">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#a8f612491bf8302c6ba1dd650c8c52ff6">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ae0eb21b7f860f3df11e64e66664f41b8">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a1506aad743c4aab8579af6cbaa5cb461">auth_plugin_manual</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#ab1a5ccba4a3edd705ee12a7da44e32c0">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#a31be2900b39d757e0ddd44e0619a074f">auth_plugin_none</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#abf55b68f41bf285d29e56269932b0048">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="a8b46763556093098c7249c6a37d3e701" name="a8b46763556093098c7249c6a37d3e701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b46763556093098c7249c6a37d3e701">&#9670;&#160;</a></span>can_signup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_signup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows resetting of internal password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a32c604fa9a3bc983336e4747f6e7b58f">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a2c66d0a4548c41aebb20daa148c38507">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a35518ee2fa3510b2361235c04fc40d24" name="a35518ee2fa3510b2361235c04fc40d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35518ee2fa3510b2361235c04fc40d24">&#9670;&#160;</a></span>change_password_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::change_password_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the URL for changing the users' passwords, or empty if the default URL can be used. </p>
<p>This method is used if <a class="el" href="../../da/d7a/classauth__plugin__base.html#accac09bd5ca0353b2fddb1245c1884bb" title="Returns true if this authentication plugin can change the users&#39; password.">can_change_password()</a> returns true. This method is called only when user is logged in, it may use global $USER. If you are using a plugin config variable in this method, please make sure it is set before using it, as this method can be called even if the plugin is disabled, in which case the config values won't be set.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">?moodle_url</td><td>url of the profile page or null if standard used </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a5338477ee95d4ca29237a01c44ae3948">auth_oauth2\auth</a>, <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a3ef73e314f469c18d88bf5a6695ba7e1">auth_plugin_cas</a>, <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a788a536ede4f1a36eae6b1881a6dc63a">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#aa3ad68f2965baa8c51f0c3069668b922">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a13931200ea2414a304d1d3ea4add8f22">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a0e0d79fc1f3b81077627709a8a1f90aa">auth_plugin_manual</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#aba50e3ff5cd84e4ffc4f2308f1573949">auth_plugin_mnet</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#a068998a05111f3ab85bb38b04d79e2d8">auth_plugin_none</a>, <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#a28aebc3cfd0d28e24598a0db8a0da5f8">auth_plugin_shibboleth</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#afbac387023b0db574bd65af4910447fa">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="a07377a81db32dfaae4128e69ca215c88" name="a07377a81db32dfaae4128e69ca215c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07377a81db32dfaae4128e69ca215c88">&#9670;&#160;</a></span>complete_login()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::complete_login </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$launchdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a></td>          <td class="paramname"><span class="paramname"><em>$returnurl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$provisioningmode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$legacyconsumersecrets</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Authenticate the user based on the unique {iss, sub} tuple present in the OIDC <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a>. </p>
<p>This method ensures a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account has been found or is created, that the user is linked to the relevant LTI Advantage credentials (iss, sub) and that the user account is logged in.</p>
<p>Launch code can therefore rely on this method to get a session before doing things like calling <a class="el" href="../../da/d16/group__core__access.html#gaea381c851e9920d9091f5955b0914ac8" title="This function checks that the current user is logged in and has the required privileges.">require_login()</a>.</p>
<p>This method supports two workflows:</p><ol type="1">
<li>Automatic account provisioning - where the <a class="el" href="#a07377a81db32dfaae4128e69ca215c88" title="Authenticate the user based on the unique {iss, sub} tuple present in the OIDC JWT.">complete_login()</a> call will ALWAYS create/find a user and return to calling code directly. No user interaction is required.</li>
<li>Manual account provisioning - where the <a class="el" href="#a07377a81db32dfaae4128e69ca215c88" title="Authenticate the user based on the unique {iss, sub} tuple present in the OIDC JWT.">complete_login()</a> call will redirect ONLY ONCE to a login page, where the user can decide whether to use an automatically provisioned account, or bind an existing user account. When the decision has been made, the relevant account is bound and the user is redirected back to $returnurl. Once an account has been bound via this selection process, subsequent calls to <a class="el" href="#a07377a81db32dfaae4128e69ca215c88" title="Authenticate the user based on the unique {iss, sub} tuple present in the OIDC JWT.">complete_login()</a> will return to calling code directly. Any calling code must provide its $returnurl to support the return from the account selection process and must also take care to cache any <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a> data appropriately, since the return will not inlude that information.</li>
</ol>
<p>Which workflow is chosen depends on the roles present in the <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a>. For teachers/admins, manual provisioning will take place. These user type are likely to have existing accounts. For learners, automatic provisioning will take place.</p>
<p>Migration of legacy users is supported, however, only for the Learner role (automatic provisioning). Admins and teachers are likely to have existing accounts and we want them to be able to select and bind these, rather than binding an automatically provisioned legacy account which doesn't represent their real user account.</p>
<p>The <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a> data must be verified elsewhere. The code here assumes its integrity/authenticity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$launchdata</td><td>the <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a> data provided in the link launch. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td class="paramname">$returnurl</td><td>the local URL to return to if authentication workflows are required. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$provisioningmode</td><td>the desired account provisioning mode, which controls the auth flow for unbound users. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$legacyconsumersecrets</td><td>an array of secrets used by the legacy consumer if a migration claim exists. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td>if the specified provisioning mode is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63c4d919a83ab4be998397c1d2cc88b4" name="a63c4d919a83ab4be998397c1d2cc88b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c4d919a83ab4be998397c1d2cc88b4">&#9670;&#160;</a></span>config_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::config_form </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$err</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user_fields</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints a form for configuring this authentication plugin. </p>
<p>This function is called from admin/auth.php, and outputs a full page with a form for configuring this plugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$config</td><td></td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$err</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$user_fields</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000211">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<a id="ab13ba2ae4b250d00cbf1b7d7981d4258" name="ab13ba2ae4b250d00cbf1b7d7981d4258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab13ba2ae4b250d00cbf1b7d7981d4258">&#9670;&#160;</a></span>create_new_account()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::create_new_account </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$userdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$iss</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new user account based on the user data either in the launch <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a> or from a membership call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userdata</td><td>the user data coming from either a launch or membership service call. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$iss</td><td>the issuer to which the user belongs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>a complete <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user record. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a314b28ce3f21853dbda3d7137cd07358" name="a314b28ce3f21853dbda3d7137cd07358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314b28ce3f21853dbda3d7137cd07358">&#9670;&#160;</a></span>create_user_binding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::create_user_binding </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$iss</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sub</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a binding between the LTI user, as identified by {iss, sub} tuple and the user id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$iss</td><td>the issuer URL identifying the platform to which to user belongs. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sub</td><td>the sub string identifying the user on the platform. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the id of the <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account to bind. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa004b95d95943e16ee51d40129235a01" name="aa004b95d95943e16ee51d40129235a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa004b95d95943e16ee51d40129235a01">&#9670;&#160;</a></span>edit_profile_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::edit_profile_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the URL for editing the users' profile, or empty if the default URL can be used. </p>
<p>This method is used if <a class="el" href="../../da/d7a/classauth__plugin__base.html#a35c5b62ba41a673ed3150871fd2e6502" title="Returns true if this authentication plugin can edit the users&#39; profile.">can_edit_profile()</a> returns true. This method is called only when user is logged in, it may use global $USER.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">?moodle_url</td><td>url of the profile page or null if standard used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acb746b947dcef5683f98ce64c36edb63" name="acb746b947dcef5683f98ce64c36edb63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb746b947dcef5683f98ce64c36edb63">&#9670;&#160;</a></span>empty_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::empty_session </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If there's an existing session, inits an empty session. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a180bf553436cc13699fdc243a956b4cb" name="a180bf553436cc13699fdc243a956b4cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a180bf553436cc13699fdc243a956b4cb">&#9670;&#160;</a></span>find_cli_admin_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::find_cli_admin_user </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find an OS level admin <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account. </p>
<p>Used when running CLI scripts. Only accounts which are site admin will be accepted.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null|stdClass</td><td>Admin user record if found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1294510991f058bd253afb3e7f9aa161" name="a1294510991f058bd253afb3e7f9aa161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1294510991f058bd253afb3e7f9aa161">&#9670;&#160;</a></span>find_cli_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::find_cli_user </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Identify a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> account on the CLI. </p>
<p>For example a plugin might use posix_geteuid and posix_getpwuid to find the username of the OS level user and then match that against <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user accounts.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null|stdClass</td><td>User user record if found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae6108bd0446cc563b4e3ae6e89882b5" name="aae6108bd0446cc563b4e3ae6e89882b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae6108bd0446cc563b4e3ae6e89882b5">&#9670;&#160;</a></span>find_or_create_user_from_launch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::find_or_create_user_from_launch </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$launchdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$legacyconsumersecrets</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account for the LTI user corresponding to the user defined in a link launch. </p>
<p>This method supports migration of user accounts used in legacy launches, provided the legacy consumer secrets corresponding to the legacy consumer are provided. If calling code wishes migration to be role-specific, it should check roles accordingly itself and pass relevant data in - as <a class="el" href="#a07377a81db32dfaae4128e69ca215c88" title="Authenticate the user based on the unique {iss, sub} tuple present in the OIDC JWT.">auth_plugin_lti\complete_login()</a> does.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$launchdata</td><td>all data in the decoded <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a> including iss and sub. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$legacyconsumersecrets</td><td>all secrets found for the legacy consumer, facilitating user migration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>the <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user who is mapped to the platform user identified in the <a class="el" href="../../d8/d39/class_j_w_t.html">JWT</a> data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a91a12f126292940c27c0361b70881745" name="a91a12f126292940c27c0361b70881745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a12f126292940c27c0361b70881745">&#9670;&#160;</a></span>find_or_create_user_from_membership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::find_or_create_user_from_membership </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$member</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$iss</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$legacyconsumerkey</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account for the LTI user based on the user details returned by a NRPS 2 membership call. </p>
<p>This method expects a single member structure, in array format, as defined here: See: <a href="https://www.imsglobal.org/spec/lti-nrps/v2p0#membership-container-media-type">https://www.imsglobal.org/spec/lti-nrps/v2p0#membership-container-media-type</a>.</p>
<p>This method supports migration of user accounts used in legacy launches, provided the legacy consumerkey corresponding to to the legacy consumer is provided. Calling code will have verified the migration claim during initial launches and should have the consumer key mapped to the deployment, ready to pass in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$member</td><td>the member data, in array format. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$iss</td><td>the issuer to which the member relates. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$legacyconsumerkey</td><td>optional consumer key mapped to the deployment to facilitate user migration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user record. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10c40b2093ad0bf42b6639510bae58ac" name="a10c40b2093ad0bf42b6639510bae58ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c40b2093ad0bf42b6639510bae58ac">&#9670;&#160;</a></span>get_custom_user_profile_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_custom_user_profile_fields </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return custom user profile fields. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of custom fields. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc9ec5061a1210cd8ba4c12396c170a7" name="abc9ec5061a1210cd8ba4c12396c170a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9ec5061a1210cd8ba4c12396c170a7">&#9670;&#160;</a></span>get_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_description </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the auth description (from core or own auth lang files) </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The description </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aefdf13f3c2ca7d18f3284b43cd45a484" name="aefdf13f3c2ca7d18f3284b43cd45a484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefdf13f3c2ca7d18f3284b43cd45a484">&#9670;&#160;</a></span>get_enabled_auth_plugin_classes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::get_enabled_auth_plugin_classes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the enabled auth plugins. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of plugin classes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a34a32620a1d5b5fa9125a959c1bf47f7" name="a34a32620a1d5b5fa9125a959c1bf47f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a32620a1d5b5fa9125a959c1bf47f7">&#9670;&#160;</a></span>get_extrauserinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_extrauserinfo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns extra user information. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of keys and values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e03ec9caaba0ea64e6aa62040a2be20" name="a1e03ec9caaba0ea64e6aa62040a2be20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e03ec9caaba0ea64e6aa62040a2be20">&#9670;&#160;</a></span>get_identity_providers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::get_identity_providers </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$authsequence</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the list of enabled identity providers. </p>
<p>Each identity provider data contains the keys url, name and iconurl (or icon). See the documentation of <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae12f9d89c198f34eb6a440a02c81a873">auth_plugin_base::loginpage_idp_list()</a> for detailed description of the returned structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$authsequence</td><td>site's auth sequence (list of auth plugins ordered) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of arrays describing the identity providers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64c1c61db8de15e6b054abff97cc8087" name="a64c1c61db8de15e6b054abff97cc8087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c1c61db8de15e6b054abff97cc8087">&#9670;&#160;</a></span>get_password_change_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_password_change_info </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information on how the specified user can change their password. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>A user object </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string[]</td><td>An array of strings with keys subject and message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a912176f13f967d374b9fe8de0f3c5832">auth_oauth2\auth</a>, and <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#a4e5d395b26f50472cc265288658559e7">auth_plugin_nologin</a>.</p>

</div>
</div>
<a id="ad9ea9b70395087455ef92c9a494b5dea" name="ad9ea9b70395087455ef92c9a494b5dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ea9b70395087455ef92c9a494b5dea">&#9670;&#160;</a></span>get_title()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_title </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the properly translated human-friendly title of this auth plugin. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000091">Todo</a></b></dt><dd>Document this function </dd></dl>

</div>
</div>
<a id="adced9476543a6701712bca829486e4f2" name="adced9476543a6701712bca829486e4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adced9476543a6701712bca829486e4f2">&#9670;&#160;</a></span>get_user_binding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::get_user_binding </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$issuer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$sub</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the id of the linked <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account for an LTI user, or null if not found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$issuer</td><td>the issuer to which the user belongs. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sub</td><td>the sub string identifying the user on the issuer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|null</td><td>the id of the corresponding <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user record, or null if not found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae1cc19d3ba1c5a112165f9e9d9bbdc46" name="ae1cc19d3ba1c5a112165f9e9d9bbdc46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1cc19d3ba1c5a112165f9e9d9bbdc46">&#9670;&#160;</a></span>get_userinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_userinfo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read user information from external database and returns it as array(). </p>
<p>Function should return all information available. If you are saving this information to moodle user-table you should honour synchronisation flags</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>array with no magic quotes or false on error </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a80c6a5d8b9b6651f24bcb2edb5901e9a">auth_oauth2\auth</a>, <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a86571b8443bd54776356b17e87942a8e">auth_plugin_cas</a>, <a class="el" href="../../d7/d1d/classauth__plugin__db.html#acb52a38f540d1315707ef04d3f717566">auth_plugin_db</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#afdf54232b6104891c0c490e80ea56263">auth_plugin_ldap</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#a29f26cb126028eca36320db41331a82e">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="a4993714130776c297a1edfcadb97ac50" name="a4993714130776c297a1edfcadb97ac50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4993714130776c297a1edfcadb97ac50">&#9670;&#160;</a></span>ignore_timeout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::ignore_timeout_hook </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timecreated</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timemodified</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook called before timing out of database session. </p>
<p>This is useful for SSO and MNET.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td>session id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timecreated</td><td>start of session </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timemodified</td><td>user last seen </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means do not timeout session yet </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a000cf01b1b7cb58bf8e6838e50d9224d" name="a000cf01b1b7cb58bf8e6838e50d9224d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000cf01b1b7cb58bf8e6838e50d9224d">&#9670;&#160;</a></span>is_captcha_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_captcha_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether or not the captcha element is enabled. </p>
<p>@abstract Implement in child classes </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a40a300d76a58f69a8ad34704ba0d5763">auth_plugin_email</a>.</p>

</div>
</div>
<a id="a784738df78d605fcc572aaa92a7305c7" name="a784738df78d605fcc572aaa92a7305c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a784738df78d605fcc572aaa92a7305c7">&#9670;&#160;</a></span>is_configured()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_configured </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns false if this plugin is enabled but not configured. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a2de56f35f7188942d95fd01716e4ed8d">auth_plugin_db</a>.</p>

</div>
</div>
<a id="a0dd33f08da51b61b3d8ab9310f24de64" name="a0dd33f08da51b61b3d8ab9310f24de64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dd33f08da51b61b3d8ab9310f24de64">&#9670;&#160;</a></span>is_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_internal </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin is "internal". </p>
<p>Internal plugins use password hashes from <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user table for authentication.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a1569bde8656528741d987926d3b97aa9">auth_oauth2\auth</a>, <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a70ce285ca5c1dbf54f180180dbb7f076">auth_plugin_cas</a>, <a class="el" href="../../d7/d1d/classauth__plugin__db.html#ad5d7925939af78c253b3b1d521a38fe3">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#a1fafe9bbfef399d6cbf5b16686335464">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a4f4c1ec4513cc24f6f4a4d4a02fe44fb">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#af7cfb884afb43dee2f94d4c1b770a4b8">auth_plugin_manual</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a169cee9d85aade1b52f75df6b70dcb8e">auth_plugin_mnet</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#ab865186878058ab162811ea11964e035">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#a669f7065013f457ae8f6c5fed41a2c0b">auth_plugin_none</a>, <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#a4a1afa6ad438fe4e45fa0380ac4affe7">auth_plugin_shibboleth</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#ab84edab73fd041b9beb48c3cd152a535">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="a77ad6ffe25b6c9035ca36b0fdf755918" name="a77ad6ffe25b6c9035ca36b0fdf755918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ad6ffe25b6c9035ca36b0fdf755918">&#9670;&#160;</a></span>is_synchronised_with_external()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_synchronised_with_external </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if moodle should automatically update internal user records with data from external sources using the information from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46" title="Read user information from external database and returns it as array().">get_userinfo()</a> method. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means automatically copy data from ext to user table </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#aed155feb73b65f3f828f17f576f24a18">auth_oauth2\auth</a>, and <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a40cfd2a14ebddeb2cd4c8f400fbe0526">auth_plugin_db</a>.</p>

</div>
</div>
<a id="a1b1dffca18aa79c096403093197d6d14" name="a1b1dffca18aa79c096403093197d6d14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1dffca18aa79c096403093197d6d14">&#9670;&#160;</a></span>is_valid_provisioning_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::is_valid_provisioning_mode </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$mode</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether a provisioning mode is valid or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$mode</td><td>the mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if valid for use, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2d217ae9107559898dfa8b5b151a700c" name="a2d217ae9107559898dfa8b5b151a700c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d217ae9107559898dfa8b5b151a700c">&#9670;&#160;</a></span>login_cli_admin_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::login_cli_admin_user </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find and login as an OS level admin <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account. </p>
<p>Used for running CLI scripts which must be admin accounts. </p>

</div>
</div>
<a id="a590266d46d9dd8a153de4f5c9de48966" name="a590266d46d9dd8a153de4f5c9de48966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590266d46d9dd8a153de4f5c9de48966">&#9670;&#160;</a></span>loginpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::loginpage_hook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour of login page. </p>
<p>This method is called from login/index.php page for all enabled auth plugins.</p>
<p>@global object </p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#adcb7546d888d2f85db0199211dcc0695">auth_plugin_cas</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a751f1ecf497d528e4b564c99a7db9452">auth_plugin_ldap</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#ad284bef554b49b84a56ebec16188de2d">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="ae12f9d89c198f34eb6a440a02c81a873" name="ae12f9d89c198f34eb6a440a02c81a873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12f9d89c198f34eb6a440a02c81a873">&#9670;&#160;</a></span>loginpage_idp_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::loginpage_idp_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$wantsurl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of potential IdPs that this authentication plugin supports. </p>
<p>This is used to provide links on the login page and the login block.</p>
<p>The parameter $wantsurl is typically used by the plugin to implement a return-url feature.</p>
<p>The returned value is expected to be a list of associative arrays with string keys:</p>
<ul>
<li>url =&gt; (moodle_url|string) URL of the page to send the user to for authentication</li>
<li>name =&gt; (string) Human readable name of the IdP</li>
<li>iconurl =&gt; (moodle_url|string) URL of the icon representing the IdP (since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3)</li>
</ul>
<p>For legacy reasons, pre-3.3 plugins can provide the icon via the key:</p>
<ul>
<li>icon =&gt; (<a class="el" href="../../d0/d6e/classpix__icon.html" title="Data structure representing an icon.">pix_icon</a>) Icon representing the IdP</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$wantsurl</td><td>The relative url fragment the user wants to get to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of associative arrays with keys url, name, iconurl|icon </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#ac36223453296960bd322f7986887761f">auth_oauth2\auth</a>, <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a62813bc64d7ec5bf194d377e25956f35">auth_plugin_cas</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a266eae8af58b48a58648ca9d70d0c1b9">auth_plugin_mnet</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#a73781247fdbcd9e7deb0bfc764e9b9a0">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="a083093742678c20450020780c9078fd9" name="a083093742678c20450020780c9078fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a083093742678c20450020780c9078fd9">&#9670;&#160;</a></span>logoutpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::logoutpage_hook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour of logout page. </p>
<p>This method is called from login/logout.php page for all enabled auth plugins.</p>
<p>@global string </p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a23a60b3af0398a0da55df45a4ef9d725">auth_plugin_cas</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a74787b6d221adbbfbeb3350369a1ddd8">auth_plugin_mnet</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#ab748488d44647ede5363c5e116af861a">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="a86d165eca39aaeb1e0d8c7f960423d18" name="a86d165eca39aaeb1e0d8c7f960423d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d165eca39aaeb1e0d8c7f960423d18">&#9670;&#160;</a></span>password_expire()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::password_expire </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return number of days to user password expires </p>
<p>If userpassword does not expire it should return 0. If password is already expired it should return negative value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$username</td><td>username (with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">integer</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa987b6f2306c15122a197ba388ffe5d2">auth_plugin_ldap</a>, and <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a8617d5fed10af0e509e433fb4ddec24f">auth_plugin_manual</a>.</p>

</div>
</div>
<a id="a161b8e58713047dc1afb76f972afb6b0" name="a161b8e58713047dc1afb76f972afb6b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161b8e58713047dc1afb76f972afb6b0">&#9670;&#160;</a></span>postlogout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::postlogout_hook </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post logout hook. </p>
<p>This method is used after moodle logout by auth classes to execute server logout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>clone of USER object before the user session was terminated </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a7fdf311a49fd87253c5fefaed914d4f5">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a71d1997a51da39f2eefc7fc7b2da1075" name="a71d1997a51da39f2eefc7fc7b2da1075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d1997a51da39f2eefc7fc7b2da1075">&#9670;&#160;</a></span>pre_loginpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::pre_loginpage_hook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour before going to the login page. </p>
<p>This method is called from require_login from potentially any page for all enabled auth plugins and gives each plugin a chance to redirect directly to an external login page, or to instantly login a user where possible.</p>
<p>If an auth plugin implements this hook, it must not rely on ONLY this hook in order to work, as there are many ways a user can browse directly to the standard login page. As a general rule in this case you should also implement the loginpage_hook as well. </p>

</div>
</div>
<a id="a1020896f222cdab32fa490baaa17c1b9" name="a1020896f222cdab32fa490baaa17c1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1020896f222cdab32fa490baaa17c1b9">&#9670;&#160;</a></span>pre_user_login_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::pre_user_login_hook </td>
          <td>(</td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre user_login hook. </p>
<p>This method is called from <a class="el" href="../../d0/de1/group__core.html#ga55f63ae35b626b481607a9ff291bb752" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> right after the user object is generated. This gives the auth plugins an option to make adjustments before the verification process starts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>user object, later used for $USER </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1ec655c395f6ecbd884e99a47cf26f7" name="aa1ec655c395f6ecbd884e99a47cf26f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1ec655c395f6ecbd884e99a47cf26f7">&#9670;&#160;</a></span>prelogout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::prelogout_hook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre logout hook. </p>
<p>This method is called from <a class="el" href="../../da/d16/group__core__access.html#ga0a03980f23b8d2fb794c6a102f736978" title="This function just makes sure a user is logged out.">require_logout()</a> for all enabled auth plugins, </p>

<p>Reimplemented in <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a872238d9883672941a1c12e9cea72500">auth_plugin_mnet</a>.</p>

</div>
</div>
<a id="a924e24173d42049499bef18dc4ec9898" name="a924e24173d42049499bef18dc4ec9898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a924e24173d42049499bef18dc4ec9898">&#9670;&#160;</a></span>prepare_identity_providers_for_output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::prepare_identity_providers_for_output </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$identityproviders</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a></td>          <td class="paramname"><span class="paramname"><em>$output</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare a list of identity providers for output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$identityproviders</td><td>as returned by <a class="el" href="">self::get_identity_providers()</a> </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../de/d60/classrenderer__base.html" title="Simple base class for Moodle renderers.">renderer_base</a></td><td class="paramname">$output</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the identity providers ready for output </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a261ade2764b3aeb66582c5b8c889aee3" name="a261ade2764b3aeb66582c5b8c889aee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a261ade2764b3aeb66582c5b8c889aee3">&#9670;&#160;</a></span>prevent_local_passwords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::prevent_local_passwords </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if password hashes should be stored in local moodle database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means md5 password hash stored in user table, false means flag 'not_cached' stored there instead </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a32e9b9a1fbdc5e6b7fc729d4604861e5">auth_oauth2\auth</a>, <a class="el" href="../../dc/daf/classauth__plugin__cas.html#ad8cf6e8218f2fec2981c25d0942cf415">auth_plugin_cas</a>, <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a7fa8cb1ddbc7c14a675af29f3d87ab19">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#a0aa8a91b0f40a466cf8f277f958e89ae">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a448a9dbfc31dbd1df69d23a866537db6">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#aba2dff28cca25455220b913b42bbd241">auth_plugin_manual</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a19b00c02151161aad0f942f10e288029">auth_plugin_mnet</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#a8524a3fbd6a4964cea371eca79d2a7fe">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#a48144d0333a35ef353565b63b87626e2">auth_plugin_none</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#a559269aa76677201abb0b372c5add4cc">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="aa84c2e2ebb28ea283742d45f9b5f1732" name="aa84c2e2ebb28ea283742d45f9b5f1732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84c2e2ebb28ea283742d45f9b5f1732">&#9670;&#160;</a></span>process_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::process_config </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes and stores configuration data for this authentication plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>object with submitted configuration settings (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000213">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<a id="a662d92911f5207d0ab679491dcfb99ec" name="a662d92911f5207d0ab679491dcfb99ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a662d92911f5207d0ab679491dcfb99ec">&#9670;&#160;</a></span>set_extrauserinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::set_extrauserinfo </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$values</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set extra user information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>Any Key value pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af77f69d053c0a800f8c6929212ecfcf9" name="af77f69d053c0a800f8c6929212ecfcf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77f69d053c0a800f8c6929212ecfcf9">&#9670;&#160;</a></span>signup_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::signup_form </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a form to capture user details for account creation. </p>
<p>This is used in /login/signup.php. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">moodleform</td><td>A form which edits a record from the user table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ff25d207596f3e682e2d152eb5cbf6e" name="a6ff25d207596f3e682e2d152eb5cbf6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff25d207596f3e682e2d152eb5cbf6e">&#9670;&#160;</a></span>sync_roles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::sync_roles </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sync roles for this user - usually creator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$user</td><td>object user object (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a9a5216049c56fde6953a7d5460089a46">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a8b75a2df4fc2bb6689a488bfe43bb3c5" name="a8b75a2df4fc2bb6689a488bfe43bb3c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b75a2df4fc2bb6689a488bfe43bb3c5">&#9670;&#160;</a></span>update_user_account()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::update_user_account </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$userdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$iss</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the personal fields of the user account, based on data present in either a launch of member sync call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>the <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> user account to update. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$userdata</td><td>the user data coming from either a launch or membership service call. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$iss</td><td>the issuer to which the user belongs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c26f96388a2da0fdc87c4ab3d80c40c" name="a3c26f96388a2da0fdc87c4ab3d80c40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c26f96388a2da0fdc87c4ab3d80c40c">&#9670;&#160;</a></span>update_user_picture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::update_user_picture </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$url</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the user's picture with the image stored at $url. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the id of the user to update. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td>the string URL where the new image can be found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>if there were any problems updating the picture. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7cddbf9e25745e24af8155b9c66caa55" name="a7cddbf9e25745e24af8155b9c66caa55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cddbf9e25745e24af8155b9c66caa55">&#9670;&#160;</a></span>update_user_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::update_user_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$updatekeys</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$triggerevent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$suspenduser</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update a local user record from an external source. </p>
<p>This is a lighter version of the one in moodlelib &ndash; won't do expensive ops such as enrolment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$updatekeys</td><td>fields to update, false updates all fields. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$triggerevent</td><td>set false if user_updated event should not be triggered. This will not affect user_password_updated event triggering. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$suspenduser</td><td>Should the user be suspended? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|bool</td><td>updated user record or false if there is no new info to update. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f41448612b93e326f25264a8a197e39" name="a0f41448612b93e326f25264a8a197e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f41448612b93e326f25264a8a197e39">&#9670;&#160;</a></span>user_authenticated_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_authenticated_hook </td>
          <td>(</td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$password</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post authentication hook. </p>
<p>This method is called from <a class="el" href="../../d0/de1/group__core.html#ga55f63ae35b626b481607a9ff291bb752" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> for all enabled auth plugins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>user object, later used for $USER </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>(with system magic quotes) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>plain text password (with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5c859c2ce584ade45e98a11683647ae1" name="a5c859c2ce584ade45e98a11683647ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c859c2ce584ade45e98a11683647ae1">&#9670;&#160;</a></span>user_confirm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_confirm </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$confirmsecret</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Confirm the new user as registered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$confirmsecret</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#aa8b7342fde4535556bccfa76be1adb44">auth_oauth2\auth</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#a31f5dafdc1e34efca1654fb9e2b2f154">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ac33178d865c00bed670859cdaf5bf8e9">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a346ccdbd4bcf50f2ee5fea9fc10d3d9b">auth_plugin_manual</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#a4551b3bbe7f56bfd948e69e5c2d25b39">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="a62731aff3764f0bfde3cbcadf47e8208" name="a62731aff3764f0bfde3cbcadf47e8208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62731aff3764f0bfde3cbcadf47e8208">&#9670;&#160;</a></span>user_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_delete </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$olduser</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User delete requested - internal user record is mared as deleted already, username not present anymore. </p>
<p>Do any action in external database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>Userobject before delete (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad7bb0b4120624dc594e5fe5e29e003b6" name="ad7bb0b4120624dc594e5fe5e29e003b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7bb0b4120624dc594e5fe5e29e003b6">&#9670;&#160;</a></span>user_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if user exists in external db. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>(with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a9923fc8ca736e7572db178e5332de04a">auth_plugin_db</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa6d28cff576e8323b3c0d106c4c20123">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a9b903e606b85459780790736dad38d93" name="a9b903e606b85459780790736dad38d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b903e606b85459780790736dad38d93">&#9670;&#160;</a></span>user_login()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_lti::user_login </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$password</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Users can not log in via the traditional login form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>The username </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>The password </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Authentication success or failure </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a6058156bc816a3fe164212cf697755ec">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a47840a5fd43ae4bae4c0b562f0a0ff94" name="a47840a5fd43ae4bae4c0b562f0a0ff94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47840a5fd43ae4bae4c0b562f0a0ff94">&#9670;&#160;</a></span>user_signup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_signup </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$notify</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sign up a new user ready for confirmation. </p>
<p>Password is passed in plaintext.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>new user object </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$notify</td><td>print notice with link and terminate </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#ae8c1d5cac98ba1218e3712cd14a7de9c">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a3f8255295d0b40d056c29f21e8e66cb1">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="aa7c6287e69024da1720e15027c3a347d" name="aa7c6287e69024da1720e15027c3a347d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c6287e69024da1720e15027c3a347d">&#9670;&#160;</a></span>user_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_update </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$olduser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newuser</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the user record is updated. </p>
<p>Modifies user in external database. It takes olduser (before changes) and newuser (after changes) compares information saved modified information to external db.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$olduser</td><td>Userobject before modifications (without system magic quotes) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$newuser</td><td>Userobject new modified userobject (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>true if updated or update ignored; false if error </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a0a8b36eb133a83543393610ef55482e5">auth_plugin_db</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ad97823078da1da9936ed62c394adda7e">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a6360533b7796dfc382899ba361021ec4" name="a6360533b7796dfc382899ba361021ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6360533b7796dfc382899ba361021ec4">&#9670;&#160;</a></span>user_update_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_update_password </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newpassword</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the user's password. </p>
<p>In previous versions of <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>, the function auth_user_update_password accepted a username as the first parameter. The revised function expects a user object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>User table object </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newpassword</td><td>Plaintext password</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True on success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a9a9bed319174698e3979530eacf420f2">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#aa4d3b930dbbeeded8df347cb6a00973d">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a7c1d470409555ef70bf8490ff2656639">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#ae4d1730f2e250c648564cd59097fc2bd">auth_plugin_manual</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#a35eed723a653a0c3c99d8deab68d1822">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#aad8ddf63e7cf28b9c02b24bd5288888b">auth_plugin_none</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#a62fd82defafaf8ed66f90632a2d32bb4">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="afa597d2387e70cb903c8a5c64e72c1a0" name="afa597d2387e70cb903c8a5c64e72c1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa597d2387e70cb903c8a5c64e72c1a0">&#9670;&#160;</a></span>validate_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::validate_form </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$form</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$err</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A chance to validate form data, and last chance to do stuff before it is inserted in config_plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">object</td><td>object with submitted configuration settings (without system magic quotes) </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$err</td><td>array of error messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000212">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aed42511492c551ae856deee530a0ac07" name="aed42511492c551ae856deee530a0ac07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed42511492c551ae856deee530a0ac07">&#9670;&#160;</a></span>PROVISIONING_MODE_AUTO_ONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int const auth_plugin_lti::PROVISIONING_MODE_AUTO_ONLY = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constant representing the automatic account provisioning mode. </p>
<p>On first launch, for a previously unbound user, this mode dictates that a new <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> account will be created automatically for the user and bound to their platform credentials {iss, sub}. </p>

</div>
</div>
<a id="af57e70a8f0b1314edd728886ce4c5c08" name="af57e70a8f0b1314edd728886ce4c5c08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af57e70a8f0b1314edd728886ce4c5c08">&#9670;&#160;</a></span>PROVISIONING_MODE_PROMPT_EXISTING_ONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int const auth_plugin_lti::PROVISIONING_MODE_PROMPT_EXISTING_ONLY = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constant representing the prompt for existing only provisioning mode. </p>
<p>On first launch, for a previously unbound user, the mode dictates that the launch user will be presented with a view allowing them to link an existing account only. This is useful for situations like deep linking, where an existing account is needed. </p>

</div>
</div>
<a id="af347f33f0792e9efd63d2ecfbbe28ce9" name="af347f33f0792e9efd63d2ecfbbe28ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af347f33f0792e9efd63d2ecfbbe28ce9">&#9670;&#160;</a></span>PROVISIONING_MODE_PROMPT_NEW_EXISTING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int const auth_plugin_lti::PROVISIONING_MODE_PROMPT_NEW_EXISTING = 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constant representing the prompt for new or existing provisioning mode. </p>
<p>On first launch, for a previously unbound user, the mode dictates that the launch user will be presented with an options view, allowing them to select either 'link an existing account' or 'create a new account for me'. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>auth/lti/<b>auth.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 26 2024 02:49:55 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
