<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: flickr_client Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.5</span>
   </div>
   <div id="projectbrief">Moodle 4.5dev (Build: 20240606) (d3ae1391abe)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d8/dee/classflickr__client-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">flickr_client Class Reference<div class="ingroups"><a class="el" href="../../d0/de1/group__core.html">core</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Simple Flickr API client implementing the features needed by <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for flickr_client:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d2/d84/classflickr__client.png" usemap="#flickr_5Fclient_map" alt=""/>
  <map id="flickr_5Fclient_map" name="flickr_5Fclient_map">
<area href="../../d7/d50/classoauth__helper.html" alt="oauth_helper" shape="rect" coords="0,0,86,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae6fa562c9eae1e8277e69b713af3b11e" id="r_ae6fa562c9eae1e8277e69b713af3b11e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6fa562c9eae1e8277e69b713af3b11e">__construct</a> ($consumerkey, $consumersecret, $callbackurl='')</td></tr>
<tr class="memdesc:ae6fa562c9eae1e8277e69b713af3b11e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up OAuth and initialize the client.  <br /></td></tr>
<tr class="separator:ae6fa562c9eae1e8277e69b713af3b11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e0d1dd9586e2604c4fa74539dfbc6d4" id="r_a6e0d1dd9586e2604c4fa74539dfbc6d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e0d1dd9586e2604c4fa74539dfbc6d4">call</a> ($function, array $params=[], $method='GET')</td></tr>
<tr class="memdesc:a6e0d1dd9586e2604c4fa74539dfbc6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call a Flickr API method.  <br /></td></tr>
<tr class="separator:a6e0d1dd9586e2604c4fa74539dfbc6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03827ecd867859bce7305d3539ca777" id="r_ab03827ecd867859bce7305d3539ca777"><td class="memItemLeft" align="right" valign="top"><a id="ab03827ecd867859bce7305d3539ca777" name="ab03827ecd867859bce7305d3539ca777"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get</b> ($url, $params=array(), $token='', $secret='')</td></tr>
<tr class="memdesc:ab03827ecd867859bce7305d3539ca777"><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut to start http get request <br /></td></tr>
<tr class="separator:ab03827ecd867859bce7305d3539ca777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b355c090539096a53d21bd87b48c0d" id="r_a30b355c090539096a53d21bd87b48c0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#a30b355c090539096a53d21bd87b48c0d">get_access_token</a> ($token, $secret, $verifier='')</td></tr>
<tr class="memdesc:a30b355c090539096a53d21bd87b48c0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request oauth access token from server.  <br /></td></tr>
<tr class="separator:a30b355c090539096a53d21bd87b48c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05eb7cfa7b2727856b619a1438c8abb6" id="r_a05eb7cfa7b2727856b619a1438c8abb6"><td class="memItemLeft" align="right" valign="top"><a id="a05eb7cfa7b2727856b619a1438c8abb6" name="a05eb7cfa7b2727856b619a1438c8abb6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get_nonce</b> ()</td></tr>
<tr class="memdesc:a05eb7cfa7b2727856b619a1438c8abb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate nonce for oauth request. <br /></td></tr>
<tr class="separator:a05eb7cfa7b2727856b619a1438c8abb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c41952b213784252f788547c159fe1" id="r_a87c41952b213784252f788547c159fe1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87c41952b213784252f788547c159fe1">get_photo_url</a> ($photoid)</td></tr>
<tr class="memdesc:a87c41952b213784252f788547c159fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the URL to fetch the given photo from.  <br /></td></tr>
<tr class="separator:a87c41952b213784252f788547c159fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad769a8fc9430106ef1575c56b79bab4a" id="r_ad769a8fc9430106ef1575c56b79bab4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad769a8fc9430106ef1575c56b79bab4a">get_request_token_secret</a> (array $identifiers)</td></tr>
<tr class="memdesc:ad769a8fc9430106ef1575c56b79bab4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns previously stored request token secret.  <br /></td></tr>
<tr class="separator:ad769a8fc9430106ef1575c56b79bab4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d7de3f6a994d4308857d3c9c292318" id="r_ab9d7de3f6a994d4308857d3c9c292318"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#ab9d7de3f6a994d4308857d3c9c292318">get_signable_parameters</a> ($params)</td></tr>
<tr class="memdesc:ab9d7de3f6a994d4308857d3c9c292318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build parameters list: oauth_consumer_key="0685bd9184jfhq22", oauth_nonce="4572616e48616d6d65724c61686176", oauth_token="ad180jjd733klru7", oauth_signature_method="HMAC-SHA1", oauth_signature="wOJIO9A2W5mFwDgiDvZbTSMK%2FPY%3D", oauth_timestamp="137131200", oauth_version="1.0" oauth_verifier="1.0".  <br /></td></tr>
<tr class="separator:ab9d7de3f6a994d4308857d3c9c292318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f397a1971eb30c4cfec5b82ae73ad4" id="r_aa0f397a1971eb30c4cfec5b82ae73ad4"><td class="memItemLeft" align="right" valign="top"><a id="aa0f397a1971eb30c4cfec5b82ae73ad4" name="aa0f397a1971eb30c4cfec5b82ae73ad4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get_timestamp</b> ()</td></tr>
<tr class="memdesc:aa0f397a1971eb30c4cfec5b82ae73ad4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate timestamp. <br /></td></tr>
<tr class="separator:aa0f397a1971eb30c4cfec5b82ae73ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afd8e5ae9a3e3644bb2a94e42441361" id="r_a6afd8e5ae9a3e3644bb2a94e42441361"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#a6afd8e5ae9a3e3644bb2a94e42441361">parse_result</a> ($str)</td></tr>
<tr class="memdesc:a6afd8e5ae9a3e3644bb2a94e42441361"><td class="mdescLeft">&#160;</td><td class="mdescRight">A method to parse oauth response to get oauth_token and oauth_token_secret.  <br /></td></tr>
<tr class="separator:a6afd8e5ae9a3e3644bb2a94e42441361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b2e53984174bdbd998a327b80ed1db" id="r_a42b2e53984174bdbd998a327b80ed1db"><td class="memItemLeft" align="right" valign="top"><a id="a42b2e53984174bdbd998a327b80ed1db" name="a42b2e53984174bdbd998a327b80ed1db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>post</b> ($url, $params=array(), $token='', $secret='')</td></tr>
<tr class="memdesc:a42b2e53984174bdbd998a327b80ed1db"><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut to start http post request <br /></td></tr>
<tr class="separator:a42b2e53984174bdbd998a327b80ed1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95413f5749bd57b376bf99124af5bb1a" id="r_a95413f5749bd57b376bf99124af5bb1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#a95413f5749bd57b376bf99124af5bb1a">prepare_oauth_parameters</a> ($url, $params, $http_method='POST')</td></tr>
<tr class="memdesc:a95413f5749bd57b376bf99124af5bb1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initilize oauth request parameters, including: oauth_consumer_key="0685bd9184jfhq22", oauth_token="ad180jjd733klru7", oauth_signature_method="HMAC-SHA1", oauth_signature="wOJIO9A2W5mFwDgiDvZbTSMK%2FPY%3D", oauth_timestamp="137131200", oauth_nonce="4572616e48616d6d65724c61686176", oauth_version="1.0" To access protected resources, oauth_token should be defined.  <br /></td></tr>
<tr class="separator:a95413f5749bd57b376bf99124af5bb1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1567d7f4e224ebb9d7db9b69bb378951" id="r_a1567d7f4e224ebb9d7db9b69bb378951"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#a1567d7f4e224ebb9d7db9b69bb378951">request</a> ($method, $url, $params=array(), $token='', $secret='')</td></tr>
<tr class="memdesc:a1567d7f4e224ebb9d7db9b69bb378951"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request oauth protected resources.  <br /></td></tr>
<tr class="separator:a1567d7f4e224ebb9d7db9b69bb378951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab56bae3a9c906931636d4ecf3e59d3" id="r_a7ab56bae3a9c906931636d4ecf3e59d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#a7ab56bae3a9c906931636d4ecf3e59d3">request_token</a> ()</td></tr>
<tr class="memdesc:a7ab56bae3a9c906931636d4ecf3e59d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request token for authentication This is the first step to use OAuth, it will return oauth_token and oauth_token_secret.  <br /></td></tr>
<tr class="separator:a7ab56bae3a9c906931636d4ecf3e59d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2304ae3106e09979c2549c5509936c15" id="r_a2304ae3106e09979c2549c5509936c15"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2304ae3106e09979c2549c5509936c15">reset_state</a> ()</td></tr>
<tr class="memdesc:a2304ae3106e09979c2549c5509936c15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets curl state.  <br /></td></tr>
<tr class="separator:a2304ae3106e09979c2549c5509936c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9089b3df603e2695a8ada910d5e2f10" id="r_af9089b3df603e2695a8ada910d5e2f10"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#af9089b3df603e2695a8ada910d5e2f10">set_access_token</a> ($token, $secret)</td></tr>
<tr class="memdesc:af9089b3df603e2695a8ada910d5e2f10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set oauth access token for oauth request.  <br /></td></tr>
<tr class="separator:af9089b3df603e2695a8ada910d5e2f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a719984f486bc86d06c19ccb307b711" id="r_a1a719984f486bc86d06c19ccb307b711"><td class="memItemLeft" align="right" valign="top"><a id="a1a719984f486bc86d06c19ccb307b711" name="a1a719984f486bc86d06c19ccb307b711"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>set_nonce</b> ($str)</td></tr>
<tr class="memdesc:a1a719984f486bc86d06c19ccb307b711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set nonce. <br /></td></tr>
<tr class="separator:a1a719984f486bc86d06c19ccb307b711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae435d9547ec88f2c2487a2538a4edfad" id="r_ae435d9547ec88f2c2487a2538a4edfad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae435d9547ec88f2c2487a2538a4edfad">set_request_token_secret</a> (array $identifiers, $secret)</td></tr>
<tr class="memdesc:ae435d9547ec88f2c2487a2538a4edfad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporarily store the request token secret in the session.  <br /></td></tr>
<tr class="separator:ae435d9547ec88f2c2487a2538a4edfad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d7a84006c8fe3f1752b487701af3f5" id="r_aa0d7a84006c8fe3f1752b487701af3f5"><td class="memItemLeft" align="right" valign="top"><a id="aa0d7a84006c8fe3f1752b487701af3f5" name="aa0d7a84006c8fe3f1752b487701af3f5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>set_timestamp</b> ($time)</td></tr>
<tr class="memdesc:aa0d7a84006c8fe3f1752b487701af3f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set timestamp. <br /></td></tr>
<tr class="separator:aa0d7a84006c8fe3f1752b487701af3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70cdc6e7955606305dae5e2fa05d15e2" id="r_a70cdc6e7955606305dae5e2fa05d15e2"><td class="memItemLeft" align="right" valign="top"><a id="a70cdc6e7955606305dae5e2fa05d15e2" name="a70cdc6e7955606305dae5e2fa05d15e2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>setup_oauth_http_header</b> ($params)</td></tr>
<tr class="separator:a70cdc6e7955606305dae5e2fa05d15e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12682a27d65115f503c9e033b4ee2c94" id="r_a12682a27d65115f503c9e033b4ee2c94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#a12682a27d65115f503c9e033b4ee2c94">setup_oauth_http_options</a> ($options)</td></tr>
<tr class="memdesc:a12682a27d65115f503c9e033b4ee2c94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the options for the next curl request.  <br /></td></tr>
<tr class="separator:a12682a27d65115f503c9e033b4ee2c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423e6f049564a6eef103a11a64798002" id="r_a423e6f049564a6eef103a11a64798002"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d50/classoauth__helper.html#a423e6f049564a6eef103a11a64798002">sign</a> ($http_method, $url, $params, $secret)</td></tr>
<tr class="memdesc:a423e6f049564a6eef103a11a64798002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create signature for oauth request.  <br /></td></tr>
<tr class="separator:a423e6f049564a6eef103a11a64798002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95b4abde3fc9eb6e97ec5d46c000444" id="r_aa95b4abde3fc9eb6e97ec5d46c000444"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa95b4abde3fc9eb6e97ec5d46c000444">upload</a> (<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $photo, array $meta=[])</td></tr>
<tr class="memdesc:aa95b4abde3fc9eb6e97ec5d46c000444"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upload a photo from <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> file pool to Flickr.  <br /></td></tr>
<tr class="separator:aa95b4abde3fc9eb6e97ec5d46c000444"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2db76b922a2e22e56857226f3d897eb0" id="r_a2db76b922a2e22e56857226f3d897eb0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2db76b922a2e22e56857226f3d897eb0">user_agent</a> ()</td></tr>
<tr class="memdesc:a2db76b922a2e22e56857226f3d897eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return User-Agent string suitable for calls to Flickr endpoint, avoiding problems caused by the string returned by the {.  <br /></td></tr>
<tr class="separator:a2db76b922a2e22e56857226f3d897eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac82d0a37040d6cb620c2a3f71e8ce36c" id="r_ac82d0a37040d6cb620c2a3f71e8ce36c"><td class="memItemLeft" align="right" valign="top"><a id="ac82d0a37040d6cb620c2a3f71e8ce36c" name="ac82d0a37040d6cb620c2a3f71e8ce36c"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>OAUTH_ROOT</b> = 'https://www.flickr.com/services/oauth'</td></tr>
<tr class="memdesc:ac82d0a37040d6cb620c2a3f71e8ce36c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d9/da0/interface_base.html" title="Base for cache objects.">Base</a> URL for Flickr OAuth 1.0 API calls. <br /></td></tr>
<tr class="separator:ac82d0a37040d6cb620c2a3f71e8ce36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2171bc90c1955fc559dc6b280eac96f1" id="r_a2171bc90c1955fc559dc6b280eac96f1"><td class="memItemLeft" align="right" valign="top"><a id="a2171bc90c1955fc559dc6b280eac96f1" name="a2171bc90c1955fc559dc6b280eac96f1"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>REST_ROOT</b> = 'https://api.flickr.com/services/rest'</td></tr>
<tr class="memdesc:a2171bc90c1955fc559dc6b280eac96f1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d9/da0/interface_base.html" title="Base for cache objects.">Base</a> URL for Flickr REST API calls. <br /></td></tr>
<tr class="separator:a2171bc90c1955fc559dc6b280eac96f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97815dc1de27dcde5a239650854fee42" id="r_a97815dc1de27dcde5a239650854fee42"><td class="memItemLeft" align="right" valign="top"><a id="a97815dc1de27dcde5a239650854fee42" name="a97815dc1de27dcde5a239650854fee42"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>UPLOAD_ROOT</b> = 'https://up.flickr.com/services/<a class="el" href="#aa95b4abde3fc9eb6e97ec5d46c000444">upload</a>/'</td></tr>
<tr class="memdesc:a97815dc1de27dcde5a239650854fee42"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d9/da0/interface_base.html" title="Base for cache objects.">Base</a> URL for Flickr Upload API call. <br /></td></tr>
<tr class="separator:a97815dc1de27dcde5a239650854fee42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4af6f8038c99a65525856309e6053d77" id="r_a4af6f8038c99a65525856309e6053d77"><td class="memItemLeft" align="right" valign="top"><a id="a4af6f8038c99a65525856309e6053d77" name="a4af6f8038c99a65525856309e6053d77"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$access_token</b></td></tr>
<tr class="memdesc:a4af6f8038c99a65525856309e6053d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">access token. <br /></td></tr>
<tr class="separator:a4af6f8038c99a65525856309e6053d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e03f2a6937d852ca01b05dc6b3b64c" id="r_a85e03f2a6937d852ca01b05dc6b3b64c"><td class="memItemLeft" align="right" valign="top"><a id="a85e03f2a6937d852ca01b05dc6b3b64c" name="a85e03f2a6937d852ca01b05dc6b3b64c"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$access_token_api</b></td></tr>
<tr class="separator:a85e03f2a6937d852ca01b05dc6b3b64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9061f65ea59c8750c0fd0301c09c021e" id="r_a9061f65ea59c8750c0fd0301c09c021e"><td class="memItemLeft" align="right" valign="top"><a id="a9061f65ea59c8750c0fd0301c09c021e" name="a9061f65ea59c8750c0fd0301c09c021e"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$access_token_secret</b></td></tr>
<tr class="memdesc:a9061f65ea59c8750c0fd0301c09c021e"><td class="mdescLeft">&#160;</td><td class="mdescRight">access secret token. <br /></td></tr>
<tr class="separator:a9061f65ea59c8750c0fd0301c09c021e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3722e9fbfb3f3c82032d530519425e2" id="r_ae3722e9fbfb3f3c82032d530519425e2"><td class="memItemLeft" align="right" valign="top"><a id="ae3722e9fbfb3f3c82032d530519425e2" name="ae3722e9fbfb3f3c82032d530519425e2"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$api_root</b></td></tr>
<tr class="memdesc:ae3722e9fbfb3f3c82032d530519425e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">oauth root <br /></td></tr>
<tr class="separator:ae3722e9fbfb3f3c82032d530519425e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a958461a237b95aeab027b0549caf96cd" id="r_a958461a237b95aeab027b0549caf96cd"><td class="memItemLeft" align="right" valign="top"><a id="a958461a237b95aeab027b0549caf96cd" name="a958461a237b95aeab027b0549caf96cd"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$authorize_url</b></td></tr>
<tr class="memdesc:a958461a237b95aeab027b0549caf96cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">authorize url <br /></td></tr>
<tr class="separator:a958461a237b95aeab027b0549caf96cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd6dda33811b22cbbcf4dd1ef2fca8a" id="r_aabd6dda33811b22cbbcf4dd1ef2fca8a"><td class="memItemLeft" align="right" valign="top"><a id="aabd6dda33811b22cbbcf4dd1ef2fca8a" name="aabd6dda33811b22cbbcf4dd1ef2fca8a"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$consumer_key</b></td></tr>
<tr class="memdesc:aabd6dda33811b22cbbcf4dd1ef2fca8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">consumer key, issued by oauth provider <br /></td></tr>
<tr class="separator:aabd6dda33811b22cbbcf4dd1ef2fca8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cdeeee6603b9432d7f8a0529e32ed17" id="r_a4cdeeee6603b9432d7f8a0529e32ed17"><td class="memItemLeft" align="right" valign="top"><a id="a4cdeeee6603b9432d7f8a0529e32ed17" name="a4cdeeee6603b9432d7f8a0529e32ed17"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$consumer_secret</b></td></tr>
<tr class="memdesc:a4cdeeee6603b9432d7f8a0529e32ed17"><td class="mdescLeft">&#160;</td><td class="mdescRight">consumer secret, issued by oauth provider <br /></td></tr>
<tr class="separator:a4cdeeee6603b9432d7f8a0529e32ed17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abceee58a0fa908131e16300d152f7c91" id="r_abceee58a0fa908131e16300d152f7c91"><td class="memItemLeft" align="right" valign="top"><a id="abceee58a0fa908131e16300d152f7c91" name="abceee58a0fa908131e16300d152f7c91"></a>
<a class="el" href="../../da/d9f/classcurl.html">curl</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$http</b></td></tr>
<tr class="separator:abceee58a0fa908131e16300d152f7c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd7da891fd86be1458fea0e6be46d97" id="r_a4bd7da891fd86be1458fea0e6be46d97"><td class="memItemLeft" align="right" valign="top"><a id="a4bd7da891fd86be1458fea0e6be46d97" name="a4bd7da891fd86be1458fea0e6be46d97"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$http_method</b></td></tr>
<tr class="separator:a4bd7da891fd86be1458fea0e6be46d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ad185080d56a85c7ca137a6e0afc56" id="r_ae3ad185080d56a85c7ca137a6e0afc56"><td class="memItemLeft" align="right" valign="top"><a id="ae3ad185080d56a85c7ca137a6e0afc56" name="ae3ad185080d56a85c7ca137a6e0afc56"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$http_options</b></td></tr>
<tr class="memdesc:ae3ad185080d56a85c7ca137a6e0afc56"><td class="mdescLeft">&#160;</td><td class="mdescRight">options to pass to the next curl request <br /></td></tr>
<tr class="separator:ae3ad185080d56a85c7ca137a6e0afc56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68acd320b496a97c6d3db91251ab4383" id="r_a68acd320b496a97c6d3db91251ab4383"><td class="memItemLeft" align="right" valign="top"><a id="a68acd320b496a97c6d3db91251ab4383" name="a68acd320b496a97c6d3db91251ab4383"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$nonce</b></td></tr>
<tr class="memdesc:a68acd320b496a97c6d3db91251ab4383"><td class="mdescLeft">&#160;</td><td class="mdescRight">nonce. <br /></td></tr>
<tr class="separator:a68acd320b496a97c6d3db91251ab4383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a50745687e0f5dc15bdb7a7f9968b51" id="r_a5a50745687e0f5dc15bdb7a7f9968b51"><td class="memItemLeft" align="right" valign="top"><a id="a5a50745687e0f5dc15bdb7a7f9968b51" name="a5a50745687e0f5dc15bdb7a7f9968b51"></a>
<a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$oauth_callback</b></td></tr>
<tr class="memdesc:a5a50745687e0f5dc15bdb7a7f9968b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">oauth callback URL. <br /></td></tr>
<tr class="separator:a5a50745687e0f5dc15bdb7a7f9968b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163b21d31d97272b5d2ea490df540a75" id="r_a163b21d31d97272b5d2ea490df540a75"><td class="memItemLeft" align="right" valign="top"><a id="a163b21d31d97272b5d2ea490df540a75" name="a163b21d31d97272b5d2ea490df540a75"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$request_token_api</b></td></tr>
<tr class="memdesc:a163b21d31d97272b5d2ea490df540a75"><td class="mdescLeft">&#160;</td><td class="mdescRight">request token url <br /></td></tr>
<tr class="separator:a163b21d31d97272b5d2ea490df540a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765f8087439b8d3e4768bc3ada7bea76" id="r_a765f8087439b8d3e4768bc3ada7bea76"><td class="memItemLeft" align="right" valign="top"><a id="a765f8087439b8d3e4768bc3ada7bea76" name="a765f8087439b8d3e4768bc3ada7bea76"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$sign_secret</b></td></tr>
<tr class="memdesc:a765f8087439b8d3e4768bc3ada7bea76"><td class="mdescLeft">&#160;</td><td class="mdescRight">sign secret. <br /></td></tr>
<tr class="separator:a765f8087439b8d3e4768bc3ada7bea76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5555c0cea0a3a263e2647bb007d6b1cc" id="r_a5555c0cea0a3a263e2647bb007d6b1cc"><td class="memItemLeft" align="right" valign="top"><a id="a5555c0cea0a3a263e2647bb007d6b1cc" name="a5555c0cea0a3a263e2647bb007d6b1cc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$timestamp</b></td></tr>
<tr class="memdesc:a5555c0cea0a3a263e2647bb007d6b1cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">timestamp. <br /></td></tr>
<tr class="separator:a5555c0cea0a3a263e2647bb007d6b1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple Flickr API client implementing the features needed by <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2017 David Mudrak <a href="#" onclick="location.href='mai'+'lto:'+'dav'+'id'+'@mo'+'od'+'le.'+'co'+'m'; return false;">david<span class="obfuscator">.nosp@m.</span>@moo<span class="obfuscator">.nosp@m.</span>dle.c<span class="obfuscator">.nosp@m.</span>om</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae6fa562c9eae1e8277e69b713af3b11e" name="ae6fa562c9eae1e8277e69b713af3b11e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6fa562c9eae1e8277e69b713af3b11e">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flickr_client::__construct </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$consumerkey</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$consumersecret</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$callbackurl</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up OAuth and initialize the client. </p>
<p>The callback URL specified here will override the one specified in the auth flow defined at Flickr Services.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$consumerkey</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$consumersecret</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a>&#160;|&#160;string</td><td class="paramname">$callbackurl</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6e0d1dd9586e2604c4fa74539dfbc6d4" name="a6e0d1dd9586e2604c4fa74539dfbc6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e0d1dd9586e2604c4fa74539dfbc6d4">&#9670;&#160;</a></span>call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flickr_client::call </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$function</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$method</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'GET'</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call a Flickr API method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$function</td><td>API function name like 'flickr.photos.getSizes' or just 'photos.getSizes' </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>Additional API call arguments. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>HTTP method to use (GET or POST). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">object|bool</td><td>Response as returned by the Flickr or false on invalid authentication </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a30b355c090539096a53d21bd87b48c0d" name="a30b355c090539096a53d21bd87b48c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b355c090539096a53d21bd87b48c0d">&#9670;&#160;</a></span>get_access_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::get_access_token </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$token</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$secret</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$verifier</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request oauth access token from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$secret</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a87c41952b213784252f788547c159fe1" name="a87c41952b213784252f788547c159fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c41952b213784252f788547c159fe1">&#9670;&#160;</a></span>get_photo_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flickr_client::get_photo_url </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$photoid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the URL to fetch the given photo from. </p>
<p>Flickr photos are distributed via farm servers staticflickr.com in various sizes (resolutions). The method tries to find the source URL of the photo in the highest possible resolution. Results are cached so that we do not need to query the Flickr API over and over again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$photoid</td><td>Flickr photo identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>URL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad769a8fc9430106ef1575c56b79bab4a" name="ad769a8fc9430106ef1575c56b79bab4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad769a8fc9430106ef1575c56b79bab4a">&#9670;&#160;</a></span>get_request_token_secret()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flickr_client::get_request_token_secret </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$identifiers</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns previously stored request token secret. </p>
<p>See <a class="el" href="">self::set_request_token_secret()</a> for more details on the $identifiers argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$identifiers</td><td>Identification of the call </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|bool</td><td>False on error, string secret otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab9d7de3f6a994d4308857d3c9c292318" name="ab9d7de3f6a994d4308857d3c9c292318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d7de3f6a994d4308857d3c9c292318">&#9670;&#160;</a></span>get_signable_parameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::get_signable_parameters </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$params</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build parameters list: oauth_consumer_key="0685bd9184jfhq22", oauth_nonce="4572616e48616d6d65724c61686176", oauth_token="ad180jjd733klru7", oauth_signature_method="HMAC-SHA1", oauth_signature="wOJIO9A2W5mFwDgiDvZbTSMK%2FPY%3D", oauth_timestamp="137131200", oauth_version="1.0" oauth_verifier="1.0". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$param</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6afd8e5ae9a3e3644bb2a94e42441361" name="a6afd8e5ae9a3e3644bb2a94e42441361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afd8e5ae9a3e3644bb2a94e42441361">&#9670;&#160;</a></span>parse_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::parse_result </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$str</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A method to parse oauth response to get oauth_token and oauth_token_secret. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95413f5749bd57b376bf99124af5bb1a" name="a95413f5749bd57b376bf99124af5bb1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95413f5749bd57b376bf99124af5bb1a">&#9670;&#160;</a></span>prepare_oauth_parameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::prepare_oauth_parameters </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$url</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$http_method</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'POST'</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initilize oauth request parameters, including: oauth_consumer_key="0685bd9184jfhq22", oauth_token="ad180jjd733klru7", oauth_signature_method="HMAC-SHA1", oauth_signature="wOJIO9A2W5mFwDgiDvZbTSMK%2FPY%3D", oauth_timestamp="137131200", oauth_nonce="4572616e48616d6d65724c61686176", oauth_version="1.0" To access protected resources, oauth_token should be defined. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$http_method</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1567d7f4e224ebb9d7db9b69bb378951" name="a1567d7f4e224ebb9d7db9b69bb378951"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1567d7f4e224ebb9d7db9b69bb378951">&#9670;&#160;</a></span>request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$url</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$params</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$token</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$secret</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request oauth protected resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$secret</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7ab56bae3a9c906931636d4ecf3e59d3" name="a7ab56bae3a9c906931636d4ecf3e59d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab56bae3a9c906931636d4ecf3e59d3">&#9670;&#160;</a></span>request_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::request_token </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request token for authentication This is the first step to use OAuth, it will return oauth_token and oauth_token_secret. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2304ae3106e09979c2549c5509936c15" name="a2304ae3106e09979c2549c5509936c15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2304ae3106e09979c2549c5509936c15">&#9670;&#160;</a></span>reset_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flickr_client::reset_state </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets curl state. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9089b3df603e2695a8ada910d5e2f10" name="af9089b3df603e2695a8ada910d5e2f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9089b3df603e2695a8ada910d5e2f10">&#9670;&#160;</a></span>set_access_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::set_access_token </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$token</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$secret</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set oauth access token for oauth request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$secret</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae435d9547ec88f2c2487a2538a4edfad" name="ae435d9547ec88f2c2487a2538a4edfad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae435d9547ec88f2c2487a2538a4edfad">&#9670;&#160;</a></span>set_request_token_secret()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flickr_client::set_request_token_secret </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$identifiers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$secret</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Temporarily store the request token secret in the session. </p>
<p>The request token secret is returned by the oauth request_token method. It needs to be stored in the session before the user is redirected to the Flickr to authorize the client. After redirecting back, this secret is used for exchanging the request token with the access token.</p>
<p>The identifiers help to avoid collisions between multiple calls to this method from different plugins in the same session. They are used as the session cache identifiers. Provide an associative array identifying the particular method call. At least, the array must contain the 'caller' with the caller's component name. Use additional items if needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$identifiers</td><td>Identification of the call </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$secret</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12682a27d65115f503c9e033b4ee2c94" name="a12682a27d65115f503c9e033b4ee2c94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12682a27d65115f503c9e033b4ee2c94">&#9670;&#160;</a></span>setup_oauth_http_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::setup_oauth_http_options </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$options</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the options for the next curl request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a423e6f049564a6eef103a11a64798002" name="a423e6f049564a6eef103a11a64798002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a423e6f049564a6eef103a11a64798002">&#9670;&#160;</a></span>sign()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">oauth_helper::sign </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$http_method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$url</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$secret</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create signature for oauth request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$secret</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa95b4abde3fc9eb6e97ec5d46c000444" name="aa95b4abde3fc9eb6e97ec5d46c000444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa95b4abde3fc9eb6e97ec5d46c000444">&#9670;&#160;</a></span>upload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flickr_client::upload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td>          <td class="paramname"><span class="paramname"><em>$photo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$meta</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Upload a photo from <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> file pool to Flickr. </p>
<p>Optional meta information are title, description, tags, is_public, is_friend, is_family, safety_level, content_type and hidden. See <a href="https://www.flickr.com/services/api/upload.api.html" class="el externalurl"></a>.</p>
<p>Upload can't be asynchronous because then the query would not return the photo ID which we need to add the photo to a photoset (album) eventually.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html" title="Class representing local files stored in a sha1 file pool.">stored_file</a></td><td class="paramname">$photo</td><td>stored in <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> file pool </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$meta</td><td>optional meta information </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|bool</td><td>photo id, false on authentication failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2db76b922a2e22e56857226f3d897eb0" name="a2db76b922a2e22e56857226f3d897eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db76b922a2e22e56857226f3d897eb0">&#9670;&#160;</a></span>user_agent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static flickr_client::user_agent </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return User-Agent string suitable for calls to Flickr endpoint, avoiding problems caused by the string returned by the {. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/d3e/classcore__useragent.html#af7af2adddadd288e037df77619b1c116" title="Get the MoodleBot UserAgent for this site.">core_useragent\get_moodlebot_useragent</a>} helper, which is often rejected due to presence of "Bot" within</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/<b>flickrclient.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 9 2024 02:54:38 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
