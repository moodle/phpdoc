<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: question_usage_by_activity Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.5</span>
   </div>
   <div id="projectbrief">Moodle 4.5dev (Build: 20240422) (7b9a4eeca51)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../de/db6/classquestion__usage__by__activity-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">question_usage_by_activity Class Reference<div class="ingroups"><a class="el" href="../../d6/d9f/group__moodlecore.html">moodlecore</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This class keeps track of a group of questions that are being attempted, and which state, and so on, each one is currently in.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa1b80de8d620eca3faa632d1a9db0934" id="r_aa1b80de8d620eca3faa632d1a9db0934"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1b80de8d620eca3faa632d1a9db0934">__construct</a> ($component, $context)</td></tr>
<tr class="memdesc:aa1b80de8d620eca3faa632d1a9db0934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new instance.  <br /></td></tr>
<tr class="separator:aa1b80de8d620eca3faa632d1a9db0934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f382ccf4be54b7f594b78e2e0770d8" id="r_a24f382ccf4be54b7f594b78e2e0770d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24f382ccf4be54b7f594b78e2e0770d8">add_question</a> (<a class="el" href="../../d7/da5/classquestion__definition.html">question_definition</a> $question, $maxmark=null)</td></tr>
<tr class="memdesc:a24f382ccf4be54b7f594b78e2e0770d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add another question to this usage.  <br /></td></tr>
<tr class="separator:a24f382ccf4be54b7f594b78e2e0770d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ff625dd0c9a0b40c555f1a330106ca" id="r_af9ff625dd0c9a0b40c555f1a330106ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9ff625dd0c9a0b40c555f1a330106ca">add_question_in_place_of_other</a> ( $slot, <a class="el" href="../../d7/da5/classquestion__definition.html">question_definition</a> $question, $maxmark=null, bool $keepoldquestionattempt=true,)</td></tr>
<tr class="memdesc:af9ff625dd0c9a0b40c555f1a330106ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add another question to this usage, in the place of an existing slot.  <br /></td></tr>
<tr class="separator:af9ff625dd0c9a0b40c555f1a330106ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce542cfc0c8b2673d8b8961c346d018" id="r_acce542cfc0c8b2673d8b8961c346d018"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acce542cfc0c8b2673d8b8961c346d018">can_question_finish_during_attempt</a> ($slot)</td></tr>
<tr class="memdesc:acce542cfc0c8b2673d8b8961c346d018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this attempt at a given question could be completed just by the student interacting with the question, before <a class="el" href="">finish_question()</a> is called.  <br /></td></tr>
<tr class="separator:acce542cfc0c8b2673d8b8961c346d018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab54c3b391ece60a0c6774c8d38958cf1" id="r_ab54c3b391ece60a0c6774c8d38958cf1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab54c3b391ece60a0c6774c8d38958cf1">check_file_access</a> ($slot, $options, $component, $filearea, $args, $forcedownload)</td></tr>
<tr class="memdesc:ab54c3b391ece60a0c6774c8d38958cf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the users is allow to be served a particular file.  <br /></td></tr>
<tr class="separator:ab54c3b391ece60a0c6774c8d38958cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0223d8c816f8f6e5a30be8a252eaa41" id="r_ab0223d8c816f8f6e5a30be8a252eaa41"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0223d8c816f8f6e5a30be8a252eaa41">extract_responses</a> ($slot, $postdata=null)</td></tr>
<tr class="memdesc:ab0223d8c816f8f6e5a30be8a252eaa41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the submitted data from the current request that belongs to this particular question.  <br /></td></tr>
<tr class="separator:ab0223d8c816f8f6e5a30be8a252eaa41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6276a183dd61ce5d7ecbd0222cb9605" id="r_ae6276a183dd61ce5d7ecbd0222cb9605"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6276a183dd61ce5d7ecbd0222cb9605">finish_all_questions</a> ($timestamp=null)</td></tr>
<tr class="memdesc:ae6276a183dd61ce5d7ecbd0222cb9605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish the active phase of an attempt at a question.  <br /></td></tr>
<tr class="separator:ae6276a183dd61ce5d7ecbd0222cb9605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec74b96d99d356cc9be2c3c1f394a8e7" id="r_aec74b96d99d356cc9be2c3c1f394a8e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec74b96d99d356cc9be2c3c1f394a8e7">finish_question</a> ($slot, $timestamp=null)</td></tr>
<tr class="memdesc:aec74b96d99d356cc9be2c3c1f394a8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish the active phase of an attempt at a question.  <br /></td></tr>
<tr class="separator:aec74b96d99d356cc9be2c3c1f394a8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace218fdb1071d40e94dbba8d27bfb9c2" id="r_ace218fdb1071d40e94dbba8d27bfb9c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace218fdb1071d40e94dbba8d27bfb9c2">get_attempt_iterator</a> ()</td></tr>
<tr class="memdesc:ace218fdb1071d40e94dbba8d27bfb9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note the part of the <a class="el" href="../../d6/dc0/classquestion__usage__by__activity.html">question_usage_by_activity</a> comment that explains that <a class="el" href="../../d3/dda/classquestion__attempt.html">question_attempt</a> objects should be considered part of the inner workings of the question engine, and should not, if possible, be accessed directly.  <br /></td></tr>
<tr class="separator:ace218fdb1071d40e94dbba8d27bfb9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55b25864797d7044071f6749c634147" id="r_ad55b25864797d7044071f6749c634147"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad55b25864797d7044071f6749c634147">get_correct_response</a> ($slot)</td></tr>
<tr class="memdesc:ad55b25864797d7044071f6749c634147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the correct response to a particular question.  <br /></td></tr>
<tr class="separator:ad55b25864797d7044071f6749c634147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26489cd4f8210d5b1dd75c683679d92" id="r_af26489cd4f8210d5b1dd75c683679d92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af26489cd4f8210d5b1dd75c683679d92">get_field_prefix</a> ($slot)</td></tr>
<tr class="memdesc:af26489cd4f8210d5b1dd75c683679d92"><td class="mdescLeft">&#160;</td><td class="mdescRight">You should probably not use this method in code outside the question engine.  <br /></td></tr>
<tr class="separator:af26489cd4f8210d5b1dd75c683679d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46e6eaf314091867e72126027d11386" id="r_ac46e6eaf314091867e72126027d11386"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac46e6eaf314091867e72126027d11386">get_first_question_number</a> ()</td></tr>
<tr class="separator:ac46e6eaf314091867e72126027d11386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4bc1f6d96489173a3d0691daaa43735" id="r_ad4bc1f6d96489173a3d0691daaa43735"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4bc1f6d96489173a3d0691daaa43735">get_id</a> ()</td></tr>
<tr class="separator:ad4bc1f6d96489173a3d0691daaa43735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97b9e119cb0bba3e23e9ab898476297" id="r_ab97b9e119cb0bba3e23e9ab898476297"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab97b9e119cb0bba3e23e9ab898476297">get_num_variants</a> ($slot)</td></tr>
<tr class="memdesc:ab97b9e119cb0bba3e23e9ab898476297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of variants available for the question in this slot.  <br /></td></tr>
<tr class="separator:ab97b9e119cb0bba3e23e9ab898476297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b65895016c57620d5f9ef5bb67b99a" id="r_a15b65895016c57620d5f9ef5bb67b99a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15b65895016c57620d5f9ef5bb67b99a">get_observer</a> ()</td></tr>
<tr class="separator:a15b65895016c57620d5f9ef5bb67b99a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176f831d02b88ea689388a6f2669f6f6" id="r_a176f831d02b88ea689388a6f2669f6f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a176f831d02b88ea689388a6f2669f6f6">get_owning_component</a> ()</td></tr>
<tr class="separator:a176f831d02b88ea689388a6f2669f6f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32af679e8c91b3573412e01237454fe7" id="r_a32af679e8c91b3573412e01237454fe7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32af679e8c91b3573412e01237454fe7">get_owning_context</a> ()</td></tr>
<tr class="separator:a32af679e8c91b3573412e01237454fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9636337d63c9e0a1922392945d8627ae" id="r_a9636337d63c9e0a1922392945d8627ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9636337d63c9e0a1922392945d8627ae">get_preferred_behaviour</a> ()</td></tr>
<tr class="separator:a9636337d63c9e0a1922392945d8627ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12144f2e01be4aa6ce410c2b5d8723ba" id="r_a12144f2e01be4aa6ce410c2b5d8723ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12144f2e01be4aa6ce410c2b5d8723ba">get_question</a> ($slot, $requirequestioninitialised=true)</td></tr>
<tr class="memdesc:a12144f2e01be4aa6ce410c2b5d8723ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../d7/da5/classquestion__definition.html" title="The definition of a question of a particular type.">question_definition</a> for a question in this attempt.  <br /></td></tr>
<tr class="separator:a12144f2e01be4aa6ce410c2b5d8723ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5cce54fb86a246ac448c9765510100" id="r_a2d5cce54fb86a246ac448c9765510100"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d5cce54fb86a246ac448c9765510100">get_question_action_time</a> ($slot)</td></tr>
<tr class="memdesc:a2d5cce54fb86a246ac448c9765510100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the time of the most recent action performed on a question.  <br /></td></tr>
<tr class="separator:a2d5cce54fb86a246ac448c9765510100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61d92265089bbb0f67be40bbf18a5f9" id="r_aa61d92265089bbb0f67be40bbf18a5f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa61d92265089bbb0f67be40bbf18a5f9">get_question_attempt</a> ($slot)</td></tr>
<tr class="memdesc:aa61d92265089bbb0f67be40bbf18a5f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note the part of the <a class="el" href="../../d6/dc0/classquestion__usage__by__activity.html">question_usage_by_activity</a> comment that explains that <a class="el" href="../../d3/dda/classquestion__attempt.html">question_attempt</a> objects should be considered part of the inner workings of the question engine, and should not, if possible, be accessed directly.  <br /></td></tr>
<tr class="separator:aa61d92265089bbb0f67be40bbf18a5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d250cb46a9912e5e9e52f84356200a" id="r_a23d250cb46a9912e5e9e52f84356200a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23d250cb46a9912e5e9e52f84356200a">get_question_attempt_metadata</a> ($slot, $name)</td></tr>
<tr class="memdesc:a23d250cb46a9912e5e9e52f84356200a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return one of the bits of metadata for a particular question attempt in this usage.  <br /></td></tr>
<tr class="separator:a23d250cb46a9912e5e9e52f84356200a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe89711b25e06576b9d61d461409298b" id="r_abe89711b25e06576b9d61d461409298b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe89711b25e06576b9d61d461409298b">get_question_fraction</a> ($slot)</td></tr>
<tr class="memdesc:abe89711b25e06576b9d61d461409298b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current fraction awarded for the attempt at a question.  <br /></td></tr>
<tr class="separator:abe89711b25e06576b9d61d461409298b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb84675a85d4e85e937ef508b309c3fc" id="r_adb84675a85d4e85e937ef508b309c3fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb84675a85d4e85e937ef508b309c3fc">get_question_mark</a> ($slot)</td></tr>
<tr class="memdesc:adb84675a85d4e85e937ef508b309c3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current mark awarded for the attempt at a question.  <br /></td></tr>
<tr class="separator:adb84675a85d4e85e937ef508b309c3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d0fdc140374f096630bb1128b620708" id="r_a9d0fdc140374f096630bb1128b620708"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d0fdc140374f096630bb1128b620708">get_question_max_mark</a> ($slot)</td></tr>
<tr class="memdesc:a9d0fdc140374f096630bb1128b620708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum mark possible for the attempt at a question.  <br /></td></tr>
<tr class="separator:a9d0fdc140374f096630bb1128b620708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffd379dbde3982cd388f410dde1d1f3" id="r_aeffd379dbde3982cd388f410dde1d1f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeffd379dbde3982cd388f410dde1d1f3">get_question_state</a> ($slot)</td></tr>
<tr class="memdesc:aeffd379dbde3982cd388f410dde1d1f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current state of the attempt at a question.  <br /></td></tr>
<tr class="separator:aeffd379dbde3982cd388f410dde1d1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3532ef64361c63357df82dd79377237" id="r_ad3532ef64361c63357df82dd79377237"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3532ef64361c63357df82dd79377237">get_question_state_class</a> ($slot, $showcorrectness)</td></tr>
<tr class="separator:ad3532ef64361c63357df82dd79377237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0570b2fbd567ef2b44653b721c7388f" id="r_aa0570b2fbd567ef2b44653b721c7388f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0570b2fbd567ef2b44653b721c7388f">get_question_state_string</a> ($slot, $showcorrectness)</td></tr>
<tr class="separator:aa0570b2fbd567ef2b44653b721c7388f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb02ff4170ef6e5316009dfd9eb11ad" id="r_a3eb02ff4170ef6e5316009dfd9eb11ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3eb02ff4170ef6e5316009dfd9eb11ad">get_question_summary</a> ($slot)</td></tr>
<tr class="memdesc:a3eb02ff4170ef6e5316009dfd9eb11ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a simple textual summary of the question that was asked.  <br /></td></tr>
<tr class="separator:a3eb02ff4170ef6e5316009dfd9eb11ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04715181cd6b1fe8b685fcf367ea41d" id="r_af04715181cd6b1fe8b685fcf367ea41d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af04715181cd6b1fe8b685fcf367ea41d">get_response_summary</a> ($slot)</td></tr>
<tr class="memdesc:af04715181cd6b1fe8b685fcf367ea41d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a simple textual summary of response given.  <br /></td></tr>
<tr class="separator:af04715181cd6b1fe8b685fcf367ea41d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe544a8fe62678d8de702a552b3cc40c" id="r_afe544a8fe62678d8de702a552b3cc40c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe544a8fe62678d8de702a552b3cc40c">get_right_answer_summary</a> ($slot)</td></tr>
<tr class="memdesc:afe544a8fe62678d8de702a552b3cc40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a simple textual summary of the correct response to a question.  <br /></td></tr>
<tr class="separator:afe544a8fe62678d8de702a552b3cc40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf97d7f85d7f602ad796e346c32e53b" id="r_a1cf97d7f85d7f602ad796e346c32e53b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cf97d7f85d7f602ad796e346c32e53b">get_slots</a> ()</td></tr>
<tr class="separator:a1cf97d7f85d7f602ad796e346c32e53b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e69dbbc79e87993bbc257dd93e97eb" id="r_aa8e69dbbc79e87993bbc257dd93e97eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8e69dbbc79e87993bbc257dd93e97eb">get_summary_information</a> (<a class="el" href="../../d8/d05/classquestion__display__options.html">question_display_options</a> $options)</td></tr>
<tr class="memdesc:aa8e69dbbc79e87993bbc257dd93e97eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get summary information about this usage.  <br /></td></tr>
<tr class="separator:aa8e69dbbc79e87993bbc257dd93e97eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6b03c538a097e901022b285e4aeeac" id="r_abd6b03c538a097e901022b285e4aeeac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd6b03c538a097e901022b285e4aeeac">get_total_mark</a> ()</td></tr>
<tr class="memdesc:abd6b03c538a097e901022b285e4aeeac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total mark for all questions in this usage.  <br /></td></tr>
<tr class="separator:abd6b03c538a097e901022b285e4aeeac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c318b490d0ad22f52c6f9e1f052f702" id="r_a6c318b490d0ad22f52c6f9e1f052f702"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c318b490d0ad22f52c6f9e1f052f702">get_variant</a> ($slot)</td></tr>
<tr class="memdesc:a6c318b490d0ad22f52c6f9e1f052f702"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the variant of the question being used in a given slot.  <br /></td></tr>
<tr class="separator:a6c318b490d0ad22f52c6f9e1f052f702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7502f06e616bd13e58d928d4e7df6339" id="r_a7502f06e616bd13e58d928d4e7df6339"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7502f06e616bd13e58d928d4e7df6339">is_autosave_required</a> ($slot, $postdata=null)</td></tr>
<tr class="memdesc:a7502f06e616bd13e58d928d4e7df6339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check, based on the sequence number, whether this auto-save is still required.  <br /></td></tr>
<tr class="separator:a7502f06e616bd13e58d928d4e7df6339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0552a5c277657f458296d46370038210" id="r_a0552a5c277657f458296d46370038210"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0552a5c277657f458296d46370038210">manual_grade</a> ($slot, $<a class="el" href="../../da/d73/classcomment.html">comment</a>, $mark, $commentformat=null)</td></tr>
<tr class="memdesc:a0552a5c277657f458296d46370038210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a manual grading action on a question attempt.  <br /></td></tr>
<tr class="separator:a0552a5c277657f458296d46370038210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e1cc638deb6e7c1e91b141ae9e51fc" id="r_a62e1cc638deb6e7c1e91b141ae9e51fc"><td class="memItemLeft" align="right" valign="top"><a id="a62e1cc638deb6e7c1e91b141ae9e51fc" name="a62e1cc638deb6e7c1e91b141ae9e51fc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>next_slot_number</b> ()</td></tr>
<tr class="memdesc:a62e1cc638deb6e7c1e91b141ae9e51fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The slot number that will be allotted to the next question added. <br /></td></tr>
<tr class="separator:a62e1cc638deb6e7c1e91b141ae9e51fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac0f858d7b07ed9a8cbacd137f80ea8" id="r_a2ac0f858d7b07ed9a8cbacd137f80ea8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ac0f858d7b07ed9a8cbacd137f80ea8">preload_all_step_users</a> ()</td></tr>
<tr class="memdesc:a2ac0f858d7b07ed9a8cbacd137f80ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preload users of all question attempt steps.  <br /></td></tr>
<tr class="separator:a2ac0f858d7b07ed9a8cbacd137f80ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526c03f19b23344de98884051126fd58" id="r_a526c03f19b23344de98884051126fd58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a526c03f19b23344de98884051126fd58">prepare_simulated_post_data</a> ($simulatedresponses)</td></tr>
<tr class="memdesc:a526c03f19b23344de98884051126fd58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform an array of response data for slots to an array of post data as you would get from quiz attempt form.  <br /></td></tr>
<tr class="separator:a526c03f19b23344de98884051126fd58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af253ab20ba9673df63d7b417f3c013d7" id="r_af253ab20ba9673df63d7b417f3c013d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af253ab20ba9673df63d7b417f3c013d7">process_action</a> ($slot, $submitteddata, $timestamp=null)</td></tr>
<tr class="memdesc:af253ab20ba9673df63d7b417f3c013d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a specific action on a specific question.  <br /></td></tr>
<tr class="separator:af253ab20ba9673df63d7b417f3c013d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72df9c1de74ebe630630c068f5260c60" id="r_a72df9c1de74ebe630630c068f5260c60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72df9c1de74ebe630630c068f5260c60">process_all_actions</a> ($timestamp=null, $postdata=null)</td></tr>
<tr class="memdesc:a72df9c1de74ebe630630c068f5260c60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process all the question actions in the current request.  <br /></td></tr>
<tr class="separator:a72df9c1de74ebe630630c068f5260c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a00b24f0931d22742dc24325681b5c7" id="r_a6a00b24f0931d22742dc24325681b5c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a00b24f0931d22742dc24325681b5c7">process_all_autosaves</a> ($timestamp=null, $postdata=null)</td></tr>
<tr class="memdesc:a6a00b24f0931d22742dc24325681b5c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process all the question autosave data in the current request.  <br /></td></tr>
<tr class="separator:a6a00b24f0931d22742dc24325681b5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e4dd62a03eb7b5437bb4ecd3b6f3bf" id="r_a53e4dd62a03eb7b5437bb4ecd3b6f3bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53e4dd62a03eb7b5437bb4ecd3b6f3bf">process_autosave</a> ($slot, $submitteddata, $timestamp=null)</td></tr>
<tr class="memdesc:a53e4dd62a03eb7b5437bb4ecd3b6f3bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an autosave action on a specific question.  <br /></td></tr>
<tr class="separator:a53e4dd62a03eb7b5437bb4ecd3b6f3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c76c9e31b9c6101e291a9907274fbe4" id="r_a2c76c9e31b9c6101e291a9907274fbe4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c76c9e31b9c6101e291a9907274fbe4">question_count</a> ()</td></tr>
<tr class="separator:a2c76c9e31b9c6101e291a9907274fbe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af677af32aadcd1550b18bf5f5fa2846d" id="r_af677af32aadcd1550b18bf5f5fa2846d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af677af32aadcd1550b18bf5f5fa2846d">regrade_all_questions</a> ($finished=false)</td></tr>
<tr class="memdesc:af677af32aadcd1550b18bf5f5fa2846d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regrade all the questions in this usage (without changing their max mark).  <br /></td></tr>
<tr class="separator:af677af32aadcd1550b18bf5f5fa2846d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52aaf297f0a728523d9e07098512442" id="r_aa52aaf297f0a728523d9e07098512442"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa52aaf297f0a728523d9e07098512442">regrade_question</a> ($slot, $finished=false, $newmaxmark=null, <a class="el" href="../../d7/da5/classquestion__definition.html">question_definition</a> $otherversion=null)</td></tr>
<tr class="memdesc:aa52aaf297f0a728523d9e07098512442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regrade a question in this usage.  <br /></td></tr>
<tr class="separator:aa52aaf297f0a728523d9e07098512442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af54d754294c7d6dd5bfd93d00baa7578" id="r_af54d754294c7d6dd5bfd93d00baa7578"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af54d754294c7d6dd5bfd93d00baa7578">render_question</a> ($slot, $options, $number=null)</td></tr>
<tr class="memdesc:af54d754294c7d6dd5bfd93d00baa7578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../d1/d9d/classcore__question__renderer.html">core_question_renderer</a>, in collaboration with appropriate <a class="el" href="../../df/d07/classqbehaviour__renderer.html">qbehaviour_renderer</a> and <a class="el" href="../../db/db0/classqtype__renderer.html">qtype_renderer</a> subclasses, to generate the HTML to display this question.  <br /></td></tr>
<tr class="separator:af54d754294c7d6dd5bfd93d00baa7578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd43ae5e64145f9497edf8cfc959c3f4" id="r_afd43ae5e64145f9497edf8cfc959c3f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd43ae5e64145f9497edf8cfc959c3f4">render_question_at_step</a> ($slot, $seq, $options, $number=null)</td></tr>
<tr class="memdesc:afd43ae5e64145f9497edf8cfc959c3f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="">render_question()</a> but displays the question at the past step indicated by $seq, rather than showing the latest step.  <br /></td></tr>
<tr class="separator:afd43ae5e64145f9497edf8cfc959c3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9b718d0acdc26c848ca6933b6230de" id="r_a0a9b718d0acdc26c848ca6933b6230de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a9b718d0acdc26c848ca6933b6230de">render_question_head_html</a> ($slot)</td></tr>
<tr class="memdesc:a0a9b718d0acdc26c848ca6933b6230de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate any bits of HTML that needs to go in the &lt;head&gt; tag when this question is displayed in the body.  <br /></td></tr>
<tr class="separator:a0a9b718d0acdc26c848ca6933b6230de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f08ea4e7010b9bf5e5a9baff14c8abc" id="r_a0f08ea4e7010b9bf5e5a9baff14c8abc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f08ea4e7010b9bf5e5a9baff14c8abc">replace_loaded_question_attempt_info</a> ($slot, $qa)</td></tr>
<tr class="memdesc:a0f08ea4e7010b9bf5e5a9baff14c8abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace a particular <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a> with a different one.  <br /></td></tr>
<tr class="separator:a0f08ea4e7010b9bf5e5a9baff14c8abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473bbd1b148d00e78c570fb9e7840fd9" id="r_a473bbd1b148d00e78c570fb9e7840fd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a473bbd1b148d00e78c570fb9e7840fd9">set_id_from_database</a> ($id)</td></tr>
<tr class="memdesc:a473bbd1b148d00e78c570fb9e7840fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">For internal use only.  <br /></td></tr>
<tr class="separator:a473bbd1b148d00e78c570fb9e7840fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7f1e288c3c7e43eb51efc1efd8080b" id="r_a2f7f1e288c3c7e43eb51efc1efd8080b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f7f1e288c3c7e43eb51efc1efd8080b">set_max_mark</a> ($slot, $maxmark)</td></tr>
<tr class="memdesc:a2f7f1e288c3c7e43eb51efc1efd8080b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the max mark for this <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a>.  <br /></td></tr>
<tr class="separator:a2f7f1e288c3c7e43eb51efc1efd8080b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9243ffc2eaddde3aed4784203c09a76a" id="r_a9243ffc2eaddde3aed4784203c09a76a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9243ffc2eaddde3aed4784203c09a76a">set_observer</a> ($observer)</td></tr>
<tr class="memdesc:a9243ffc2eaddde3aed4784203c09a76a"><td class="mdescLeft">&#160;</td><td class="mdescRight">You should almost certainly not call this method from your code.  <br /></td></tr>
<tr class="separator:a9243ffc2eaddde3aed4784203c09a76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8595bd77504c0d88dc5b2e9449d70f66" id="r_a8595bd77504c0d88dc5b2e9449d70f66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8595bd77504c0d88dc5b2e9449d70f66">set_preferred_behaviour</a> ($behaviour)</td></tr>
<tr class="separator:a8595bd77504c0d88dc5b2e9449d70f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52b4f18f060e942132f82fe68aabe11" id="r_ab52b4f18f060e942132f82fe68aabe11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab52b4f18f060e942132f82fe68aabe11">set_question_attempt_metadata</a> ($slot, $name, $value)</td></tr>
<tr class="memdesc:ab52b4f18f060e942132f82fe68aabe11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set some metadata for a particular question attempt in this usage.  <br /></td></tr>
<tr class="separator:ab52b4f18f060e942132f82fe68aabe11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0fd235aeefdd17fd707e6b198860971" id="r_ae0fd235aeefdd17fd707e6b198860971"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0fd235aeefdd17fd707e6b198860971">start_all_questions</a> (<a class="el" href="../../d3/da1/interfacequestion__variant__selection__strategy.html">question_variant_selection_strategy</a> $variantstrategy=null, $timestamp=null, $userid=null)</td></tr>
<tr class="memdesc:ae0fd235aeefdd17fd707e6b198860971"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the attempt at all questions that has been added to this usage.  <br /></td></tr>
<tr class="separator:ae0fd235aeefdd17fd707e6b198860971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e84470dc767590d1099daf12a4adb7" id="r_a26e84470dc767590d1099daf12a4adb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26e84470dc767590d1099daf12a4adb7">start_question</a> ($slot, $variant=null, $timenow=null)</td></tr>
<tr class="memdesc:a26e84470dc767590d1099daf12a4adb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the attempt at a question that has been added to this usage.  <br /></td></tr>
<tr class="separator:a26e84470dc767590d1099daf12a4adb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b32c66e02b28a1a4f0e572b293ca83" id="r_a07b32c66e02b28a1a4f0e572b293ca83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07b32c66e02b28a1a4f0e572b293ca83">start_question_based_on</a> ($slot, <a class="el" href="../../d3/dda/classquestion__attempt.html">question_attempt</a> $oldqa)</td></tr>
<tr class="memdesc:a07b32c66e02b28a1a4f0e572b293ca83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the attempt at a question, starting from the point where the previous <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a> $oldqa had reached.  <br /></td></tr>
<tr class="separator:a07b32c66e02b28a1a4f0e572b293ca83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6633248c3f43eb23e1041775ea0ad22f" id="r_a6633248c3f43eb23e1041775ea0ad22f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6633248c3f43eb23e1041775ea0ad22f">update_question_flags</a> ($postdata=null)</td></tr>
<tr class="memdesc:a6633248c3f43eb23e1041775ea0ad22f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the flagged state for all question_attempts in this usage, if their flagged state was changed in the request.  <br /></td></tr>
<tr class="separator:a6633248c3f43eb23e1041775ea0ad22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04fd0d7fc1c9701d34565b363b7c289" id="r_ab04fd0d7fc1c9701d34565b363b7c289"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab04fd0d7fc1c9701d34565b363b7c289">validate_can_regrade_with_other_version</a> (int $slot, <a class="el" href="../../d7/da5/classquestion__definition.html">question_definition</a> $otherversion)</td></tr>
<tr class="memdesc:ab04fd0d7fc1c9701d34565b363b7c289"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify if the <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a> in the given slot can be regraded with that other question version.  <br /></td></tr>
<tr class="separator:ab04fd0d7fc1c9701d34565b363b7c289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b3572e6c00b9a24bbb891fcfa4dc005" id="r_a4b3572e6c00b9a24bbb891fcfa4dc005"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b3572e6c00b9a24bbb891fcfa4dc005">validate_sequence_number</a> ($slot, $postdata=null)</td></tr>
<tr class="memdesc:a4b3572e6c00b9a24bbb891fcfa4dc005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the sequence number, that detects weird things like the student clicking back, is OK.  <br /></td></tr>
<tr class="separator:a4b3572e6c00b9a24bbb891fcfa4dc005"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5527d615315826073f4b576f5f118d82" id="r_a5527d615315826073f4b576f5f118d82"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5527d615315826073f4b576f5f118d82">load_from_records</a> ($records, $qubaid)</td></tr>
<tr class="memdesc:a5527d615315826073f4b576f5f118d82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../d6/dc0/classquestion__usage__by__activity.html" title="This class keeps track of a group of questions that are being attempted, and which state,...">question_usage_by_activity</a> from records loaded from the database.  <br /></td></tr>
<tr class="separator:a5527d615315826073f4b576f5f118d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a07c6d268c1c135a435fbbdadb19bf2b0" id="r_a07c6d268c1c135a435fbbdadb19bf2b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07c6d268c1c135a435fbbdadb19bf2b0">check_slot</a> ($slot)</td></tr>
<tr class="memdesc:a07c6d268c1c135a435fbbdadb19bf2b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether $number actually corresponds to a question attempt that is part of this usage.  <br /></td></tr>
<tr class="separator:a07c6d268c1c135a435fbbdadb19bf2b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1dd04141cac9de32c0ab7e5fae2538" id="r_a9b1dd04141cac9de32c0ab7e5fae2538"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b1dd04141cac9de32c0ab7e5fae2538">get_slots_in_request</a> ($postdata=null)</td></tr>
<tr class="memdesc:a9b1dd04141cac9de32c0ab7e5fae2538"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of slot numbers that should be processed as part of processing the current request.  <br /></td></tr>
<tr class="separator:a9b1dd04141cac9de32c0ab7e5fae2538"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a544bba460c4ff9be5a86ef701a005602" id="r_a544bba460c4ff9be5a86ef701a005602"><td class="memItemLeft" align="right" valign="top"><a id="a544bba460c4ff9be5a86ef701a005602" name="a544bba460c4ff9be5a86ef701a005602"></a>
context&#160;</td><td class="memItemRight" valign="bottom"><b>$context</b></td></tr>
<tr class="memdesc:a544bba460c4ff9be5a86ef701a005602"><td class="mdescLeft">&#160;</td><td class="mdescRight">the context this usage belongs to. <br /></td></tr>
<tr class="separator:a544bba460c4ff9be5a86ef701a005602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10877d439b7fee1317712daee34340d1" id="r_a10877d439b7fee1317712daee34340d1"><td class="memItemLeft" align="right" valign="top">integer string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10877d439b7fee1317712daee34340d1">$id</a> = null</td></tr>
<tr class="memdesc:a10877d439b7fee1317712daee34340d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">the id for this usage.  <br /></td></tr>
<tr class="separator:a10877d439b7fee1317712daee34340d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8196ae40d7e8d6d048a2e37d82db5e47" id="r_a8196ae40d7e8d6d048a2e37d82db5e47"><td class="memItemLeft" align="right" valign="top"><a id="a8196ae40d7e8d6d048a2e37d82db5e47" name="a8196ae40d7e8d6d048a2e37d82db5e47"></a>
<a class="el" href="../../d2/d0f/interfacequestion__usage__observer.html">question_usage_observer</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$observer</b></td></tr>
<tr class="memdesc:a8196ae40d7e8d6d048a2e37d82db5e47"><td class="mdescLeft">&#160;</td><td class="mdescRight">that tracks changes to this usage. <br /></td></tr>
<tr class="separator:a8196ae40d7e8d6d048a2e37d82db5e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe3e0cae95115c10c27a7ba980f9b82" id="r_aebe3e0cae95115c10c27a7ba980f9b82"><td class="memItemLeft" align="right" valign="top"><a id="aebe3e0cae95115c10c27a7ba980f9b82" name="aebe3e0cae95115c10c27a7ba980f9b82"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$owningcomponent</b></td></tr>
<tr class="memdesc:aebe3e0cae95115c10c27a7ba980f9b82"><td class="mdescLeft">&#160;</td><td class="mdescRight">plugin name of the plugin this usage belongs to. <br /></td></tr>
<tr class="separator:aebe3e0cae95115c10c27a7ba980f9b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7601be7b44361e17d2d33fe5e7e47cb3" id="r_a7601be7b44361e17d2d33fe5e7e47cb3"><td class="memItemLeft" align="right" valign="top"><a id="a7601be7b44361e17d2d33fe5e7e47cb3" name="a7601be7b44361e17d2d33fe5e7e47cb3"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$preferredbehaviour</b> = null</td></tr>
<tr class="memdesc:a7601be7b44361e17d2d33fe5e7e47cb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of an archetypal behaviour, that should be used by questions in this usage if possible. <br /></td></tr>
<tr class="separator:a7601be7b44361e17d2d33fe5e7e47cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3be9533cc395bb00bb4e1b78b59640f" id="r_ad3be9533cc395bb00bb4e1b78b59640f"><td class="memItemLeft" align="right" valign="top"><a id="ad3be9533cc395bb00bb4e1b78b59640f" name="ad3be9533cc395bb00bb4e1b78b59640f"></a>
<a class="el" href="../../d3/dda/classquestion__attempt.html">question_attempt</a>[]&#160;</td><td class="memItemRight" valign="bottom"><b>$questionattempts</b> = array()</td></tr>
<tr class="memdesc:ad3be9533cc395bb00bb4e1b78b59640f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d3/dda/classquestion__attempt.html">that make up this usage. </a><br /></td></tr>
<tr class="separator:ad3be9533cc395bb00bb4e1b78b59640f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class keeps track of a group of questions that are being attempted, and which state, and so on, each one is currently in. </p>
<p>A quiz attempt or a lesson attempt could use an instance of this class to keep track of all the questions in the attempt and process student submissions. It is basically a collection of {@question_attempt} objects.</p>
<p>The questions being attempted as part of this usage are identified by an integer that is passed into many of the methods as $slot. ($question-&gt;id is not used so that the same question can be used more than once in an attempt.)</p>
<p>Normally, calling code should be able to do everything it needs to be calling methods of this class. You should not normally need to get individual {@question_attempt} objects and play around with their inner workind, in code that it outside the quetsion engine.</p>
<p>Instances of this class correspond to rows in the question_usages table.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>2009 The Open University </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa1b80de8d620eca3faa632d1a9db0934" name="aa1b80de8d620eca3faa632d1a9db0934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b80de8d620eca3faa632d1a9db0934">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::__construct </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$component</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new instance. </p>
<p>Normally, calling code should use <a class="el" href="">question_engine::make_questions_usage_by_activity()</a> or <a class="el" href="">question_engine::load_questions_usage_by_activity()</a> rather than calling this constructor directly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>the plugin creating this attempt. For example <a class="el" href="../../de/da7/namespacemod__quiz.html" title="&#160;">mod_quiz</a>. </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$context</td><td>the context this usage belongs to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a24f382ccf4be54b7f594b78e2e0770d8" name="a24f382ccf4be54b7f594b78e2e0770d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f382ccf4be54b7f594b78e2e0770d8">&#9670;&#160;</a></span>add_question()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::add_question </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/da5/classquestion__definition.html">question_definition</a></td>          <td class="paramname"><span class="paramname"><em>$question</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$maxmark</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add another question to this usage. </p>
<p>The added question is not started until you call <a class="el" href="">start_question()</a> on it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d7/da5/classquestion__definition.html" title="The definition of a question of a particular type.">question_definition</a></td><td class="paramname">$question</td><td>the question to add. </td></tr>
    <tr><td class="paramtype">number</td><td class="paramname">$maxmark</td><td>the maximum this question will be marked out of in this attempt (optional). If not given, $question-&gt;defaultmark is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9ff625dd0c9a0b40c555f1a330106ca" name="af9ff625dd0c9a0b40c555f1a330106ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ff625dd0c9a0b40c555f1a330106ca">&#9670;&#160;</a></span>add_question_in_place_of_other()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::add_question_in_place_of_other </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/da5/classquestion__definition.html">question_definition</a></td>          <td class="paramname"><span class="paramname"><em>$question</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$maxmark</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$keepoldquestionattempt</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add another question to this usage, in the place of an existing slot. </p>
<p>Depending on $keepoldquestionattempt, the <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a> that was in that slot is moved to the end at a new slot number, which is returned. Otherwise the existing attempt is completely removed and replaced.</p>
<p>The added question is not started until you call <a class="el" href="">start_question()</a> on it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the slot-number of the question to replace. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d7/da5/classquestion__definition.html" title="The definition of a question of a particular type.">question_definition</a></td><td class="paramname">$question</td><td>the question to add. </td></tr>
    <tr><td class="paramtype">number</td><td class="paramname">$maxmark</td><td>the maximum this question will be marked out of in this attempt (optional). If not given, the max mark from the $qa we are replacing is used. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$keepoldquestionattempt</td><td>if true (the default) we keep the existing <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a>, moving it to a new slot </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the new slot number of the question that was displaced. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acce542cfc0c8b2673d8b8961c346d018" name="acce542cfc0c8b2673d8b8961c346d018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce542cfc0c8b2673d8b8961c346d018">&#9670;&#160;</a></span>can_question_finish_during_attempt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::can_question_finish_during_attempt </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this attempt at a given question could be completed just by the student interacting with the question, before <a class="el" href="">finish_question()</a> is called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>whether the attempt at the given question can finish naturally. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab54c3b391ece60a0c6774c8d38958cf1" name="ab54c3b391ece60a0c6774c8d38958cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab54c3b391ece60a0c6774c8d38958cf1">&#9670;&#160;</a></span>check_file_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::check_file_access </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$options</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$component</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filearea</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$args</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forcedownload</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the users is allow to be served a particular file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d8/d05/classquestion__display__options.html" title="This class contains all the options that controls how a question is displayed.">question_display_options</a></td><td class="paramname">$options</td><td>the options that control display of the question. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>the name of the component we are serving files for. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>the name of the file area. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$args</td><td>the remaining bits of the file path. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$forcedownload</td><td>whether the user must be forced to download the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the user can access this file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07c6d268c1c135a435fbbdadb19bf2b0" name="a07c6d268c1c135a435fbbdadb19bf2b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c6d268c1c135a435fbbdadb19bf2b0">&#9670;&#160;</a></span>check_slot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::check_slot </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether $number actually corresponds to a question attempt that is part of this usage. </p>
<p>Throws an exception if not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>a number allegedly identifying a question within this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab0223d8c816f8f6e5a30be8a252eaa41" name="ab0223d8c816f8f6e5a30be8a252eaa41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0223d8c816f8f6e5a30be8a252eaa41">&#9670;&#160;</a></span>extract_responses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::extract_responses </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$postdata</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the submitted data from the current request that belongs to this particular question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$postdata</td><td>optional, only intended for testing. Use this data instead of the data from $_POST. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>submitted data specific to this question. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae6276a183dd61ce5d7ecbd0222cb9605" name="ae6276a183dd61ce5d7ecbd0222cb9605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6276a183dd61ce5d7ecbd0222cb9605">&#9670;&#160;</a></span>finish_all_questions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::finish_all_questions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timestamp</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish the active phase of an attempt at a question. </p>
<p>See <a class="el" href="">finish_question()</a> for a fuller description of what 'finish' means.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timestamp</td><td>(optional) the timestamp to consider 'now'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aec74b96d99d356cc9be2c3c1f394a8e7" name="aec74b96d99d356cc9be2c3c1f394a8e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec74b96d99d356cc9be2c3c1f394a8e7">&#9670;&#160;</a></span>finish_question()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::finish_question </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timestamp</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish the active phase of an attempt at a question. </p>
<p>This is an external act of finishing the attempt. Think, for example, of the 'Submit all and finish' button in the quiz. Some behaviours, (for example, immediatefeedback) give a way of finishing the active phase of a question attempt as part of a <a class="el" href="">process_action()</a> call.</p>
<p>After the active phase is over, the only changes possible are things like manual grading, or changing the flag state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timestamp</td><td>(optional) the timestamp to consider 'now'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace218fdb1071d40e94dbba8d27bfb9c2" name="ace218fdb1071d40e94dbba8d27bfb9c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace218fdb1071d40e94dbba8d27bfb9c2">&#9670;&#160;</a></span>get_attempt_iterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_attempt_iterator </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note the part of the <a class="el" href="../../d6/dc0/classquestion__usage__by__activity.html">question_usage_by_activity</a> comment that explains that <a class="el" href="../../d3/dda/classquestion__attempt.html">question_attempt</a> objects should be considered part of the inner workings of the question engine, and should not, if possible, be accessed directly. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d0/d43/classquestion__attempt__iterator.html" title="A class abstracting access to the question_usage_by_activity::$questionattempts array.">question_attempt_iterator</a></td><td>for iterating over all the questions being attempted. as part of this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad55b25864797d7044071f6749c634147" name="ad55b25864797d7044071f6749c634147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55b25864797d7044071f6749c634147">&#9670;&#160;</a></span>get_correct_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_correct_response </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the correct response to a particular question. </p>
<p>Passing the results of this method to <a class="el" href="">process_action()</a> will probably result in full marks. If it is not possible to compute a correct response, this method should return null. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>that constitutes a correct response to this question. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af26489cd4f8210d5b1dd75c683679d92" name="af26489cd4f8210d5b1dd75c683679d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af26489cd4f8210d5b1dd75c683679d92">&#9670;&#160;</a></span>get_field_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_field_prefix </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>You should probably not use this method in code outside the question engine. </p>
<p>The main reason for exposing it was for the benefit of unit tests. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>return the prefix that is pre-pended to field names in the HTML that is output. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac46e6eaf314091867e72126027d11386" name="ac46e6eaf314091867e72126027d11386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac46e6eaf314091867e72126027d11386">&#9670;&#160;</a></span>get_first_question_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_first_question_number </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the identifying number of the first question that was added to this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad4bc1f6d96489173a3d0691daaa43735" name="ad4bc1f6d96489173a3d0691daaa43735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4bc1f6d96489173a3d0691daaa43735">&#9670;&#160;</a></span>get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_id </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|string</td><td>If this usage came from the database, then the id from the question_usages table is returned. Otherwise a random string is returned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab97b9e119cb0bba3e23e9ab898476297" name="ab97b9e119cb0bba3e23e9ab898476297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97b9e119cb0bba3e23e9ab898476297">&#9670;&#160;</a></span>get_num_variants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_num_variants </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of variants available for the question in this slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number of variants available. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15b65895016c57620d5f9ef5bb67b99a" name="a15b65895016c57620d5f9ef5bb67b99a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b65895016c57620d5f9ef5bb67b99a">&#9670;&#160;</a></span>get_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_observer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d2/d0f/interfacequestion__usage__observer.html" title="Interface for things that want to be notified of signficant changes to a question_usage_by_activity.">question_usage_observer</a></td><td>that is tracking changes made to this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a176f831d02b88ea689388a6f2669f6f6" name="a176f831d02b88ea689388a6f2669f6f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176f831d02b88ea689388a6f2669f6f6">&#9670;&#160;</a></span>get_owning_component()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_owning_component </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the name of the plugin that owns this attempt. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a32af679e8c91b3573412e01237454fe7" name="a32af679e8c91b3573412e01237454fe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32af679e8c91b3573412e01237454fe7">&#9670;&#160;</a></span>get_owning_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_owning_context </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">context</td><td>the context this usage belongs to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9636337d63c9e0a1922392945d8627ae" name="a9636337d63c9e0a1922392945d8627ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9636337d63c9e0a1922392945d8627ae">&#9670;&#160;</a></span>get_preferred_behaviour()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_preferred_behaviour </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the name of the preferred behaviour. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12144f2e01be4aa6ce410c2b5d8723ba" name="a12144f2e01be4aa6ce410c2b5d8723ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12144f2e01be4aa6ce410c2b5d8723ba">&#9670;&#160;</a></span>get_question()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requirequestioninitialised</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="../../d7/da5/classquestion__definition.html" title="The definition of a question of a particular type.">question_definition</a> for a question in this attempt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$requirequestioninitialised</td><td>set this to false if you don't need the behaviour initialised, which may improve performance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d7/da5/classquestion__definition.html" title="The definition of a question of a particular type.">question_definition</a></td><td>the requested question object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2d5cce54fb86a246ac448c9765510100" name="a2d5cce54fb86a246ac448c9765510100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d5cce54fb86a246ac448c9765510100">&#9670;&#160;</a></span>get_question_action_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_action_time </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the time of the most recent action performed on a question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>timestamp. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa61d92265089bbb0f67be40bbf18a5f9" name="aa61d92265089bbb0f67be40bbf18a5f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61d92265089bbb0f67be40bbf18a5f9">&#9670;&#160;</a></span>get_question_attempt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_attempt </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note the part of the <a class="el" href="../../d6/dc0/classquestion__usage__by__activity.html">question_usage_by_activity</a> comment that explains that <a class="el" href="../../d3/dda/classquestion__attempt.html">question_attempt</a> objects should be considered part of the inner workings of the question engine, and should not, if possible, be accessed directly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a></td><td>the corresponding <a class="el" href="../../d3/dda/classquestion__attempt.html">question_attempt</a> object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a23d250cb46a9912e5e9e52f84356200a" name="a23d250cb46a9912e5e9e52f84356200a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d250cb46a9912e5e9e52f84356200a">&#9670;&#160;</a></span>get_question_attempt_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_attempt_metadata </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return one of the bits of metadata for a particular question attempt in this usage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the slot number of the question of inereest. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the metadata variable to return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the value of that metadata variable. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abe89711b25e06576b9d61d461409298b" name="abe89711b25e06576b9d61d461409298b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe89711b25e06576b9d61d461409298b">&#9670;&#160;</a></span>get_question_fraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_fraction </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current fraction awarded for the attempt at a question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number|null</td><td>The current fraction for this question, or null if one has not been assigned yet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adb84675a85d4e85e937ef508b309c3fc" name="adb84675a85d4e85e937ef508b309c3fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb84675a85d4e85e937ef508b309c3fc">&#9670;&#160;</a></span>get_question_mark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_mark </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current mark awarded for the attempt at a question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number|null</td><td>The current mark for this question, or null if one has not been assigned yet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d0fdc140374f096630bb1128b620708" name="a9d0fdc140374f096630bb1128b620708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d0fdc140374f096630bb1128b620708">&#9670;&#160;</a></span>get_question_max_mark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_max_mark </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the maximum mark possible for the attempt at a question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>the available marks for this question. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeffd379dbde3982cd388f410dde1d1f3" name="aeffd379dbde3982cd388f410dde1d1f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeffd379dbde3982cd388f410dde1d1f3">&#9670;&#160;</a></span>get_question_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_state </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current state of the attempt at a question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">question_state.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad3532ef64361c63357df82dd79377237" name="ad3532ef64361c63357df82dd79377237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3532ef64361c63357df82dd79377237">&#9670;&#160;</a></span>get_question_state_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_state_class </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$showcorrectness</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$showcorrectness</td><td>Whether right/partial/wrong states should be distinguised. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>a CSS class name for the current state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa0570b2fbd567ef2b44653b721c7388f" name="aa0570b2fbd567ef2b44653b721c7388f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0570b2fbd567ef2b44653b721c7388f">&#9670;&#160;</a></span>get_question_state_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_state_string </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$showcorrectness</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$showcorrectness</td><td>Whether right/partial/wrong states should be distinguised. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>A brief textual description of the current state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3eb02ff4170ef6e5316009dfd9eb11ad" name="a3eb02ff4170ef6e5316009dfd9eb11ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb02ff4170ef6e5316009dfd9eb11ad">&#9670;&#160;</a></span>get_question_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_question_summary </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a simple textual summary of the question that was asked. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the slot number of the question to summarise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the question summary. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af04715181cd6b1fe8b685fcf367ea41d" name="af04715181cd6b1fe8b685fcf367ea41d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af04715181cd6b1fe8b685fcf367ea41d">&#9670;&#160;</a></span>get_response_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_response_summary </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a simple textual summary of response given. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the slot number of the question to get the response summary for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the response summary. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe544a8fe62678d8de702a552b3cc40c" name="afe544a8fe62678d8de702a552b3cc40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe544a8fe62678d8de702a552b3cc40c">&#9670;&#160;</a></span>get_right_answer_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_right_answer_summary </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a simple textual summary of the correct response to a question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the slot number of the question to get the right answer summary for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the right answer summary. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1cf97d7f85d7f602ad796e346c32e53b" name="a1cf97d7f85d7f602ad796e346c32e53b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf97d7f85d7f602ad796e346c32e53b">&#9670;&#160;</a></span>get_slots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_slots </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>all the identifying numbers of all the questions in this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b1dd04141cac9de32c0ab7e5fae2538" name="a9b1dd04141cac9de32c0ab7e5fae2538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1dd04141cac9de32c0ab7e5fae2538">&#9670;&#160;</a></span>get_slots_in_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_slots_in_request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$postdata</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of slot numbers that should be processed as part of processing the current request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$postdata</td><td>optional, only intended for testing. Use this data instead of the data from $_POST. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of slot numbers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8e69dbbc79e87993bbc257dd93e97eb" name="aa8e69dbbc79e87993bbc257dd93e97eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8e69dbbc79e87993bbc257dd93e97eb">&#9670;&#160;</a></span>get_summary_information()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_summary_information </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d05/classquestion__display__options.html">question_display_options</a></td>          <td class="paramname"><span class="paramname"><em>$options</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get summary information about this usage. </p>
<p>Some behaviours may be able to provide interesting summary information about the attempt as a whole, and this method provides access to that data. To see how this works, try setting a quiz to one of the CBM behaviours, and then look at the extra information displayed at the top of the quiz review page once you have sumitted an attempt.</p>
<p>In the return value, the array keys are identifiers of the form qbehaviour_behaviourname_meaningfullkey. For qbehaviour_deferredcbm_highsummary. The values are arrays with two items, title and content. Each of these will be either a string, or a renderable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/d05/classquestion__display__options.html" title="This class contains all the options that controls how a question is displayed.">question_display_options</a></td><td class="paramname">$options</td><td>display options to apply. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>as described above. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abd6b03c538a097e901022b285e4aeeac" name="abd6b03c538a097e901022b285e4aeeac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd6b03c538a097e901022b285e4aeeac">&#9670;&#160;</a></span>get_total_mark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_total_mark </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total mark for all questions in this usage. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>The sum of marks of all the question_attempts in this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c318b490d0ad22f52c6f9e1f052f702" name="a6c318b490d0ad22f52c6f9e1f052f702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c318b490d0ad22f52c6f9e1f052f702">&#9670;&#160;</a></span>get_variant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::get_variant </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the variant of the question being used in a given slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the variant of this question that is being used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7502f06e616bd13e58d928d4e7df6339" name="a7502f06e616bd13e58d928d4e7df6339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7502f06e616bd13e58d928d4e7df6339">&#9670;&#160;</a></span>is_autosave_required()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::is_autosave_required </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$postdata</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check, based on the sequence number, whether this auto-save is still required. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$postdata</td><td>the submitted data that constitutes the action. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the check variable is present and correct, otherwise false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5527d615315826073f4b576f5f118d82" name="a5527d615315826073f4b576f5f118d82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5527d615315826073f4b576f5f118d82">&#9670;&#160;</a></span>load_from_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static question_usage_by_activity::load_from_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$records</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$qubaid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../d6/dc0/classquestion__usage__by__activity.html" title="This class keeps track of a group of questions that are being attempted, and which state,...">question_usage_by_activity</a> from records loaded from the database. </p>
<p>For internal use only.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">Iterator</td><td class="paramname">$records</td><td>Raw records loaded from the database. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$qubaid</td><td>The id of the question usage we are loading. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/dc0/classquestion__usage__by__activity.html" title="This class keeps track of a group of questions that are being attempted, and which state,...">question_usage_by_activity</a></td><td>The newly constructed usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0552a5c277657f458296d46370038210" name="a0552a5c277657f458296d46370038210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0552a5c277657f458296d46370038210">&#9670;&#160;</a></span>manual_grade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::manual_grade </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$comment</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mark</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$commentformat</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a manual grading action on a question attempt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$comment</td><td>the comment being added to the question attempt. </td></tr>
    <tr><td class="paramtype">number</td><td class="paramname">$mark</td><td>the mark that is being assigned. Can be null to just add a comment. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$commentformat</td><td>one of the FORMAT_... constants. The format of $comment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2ac0f858d7b07ed9a8cbacd137f80ea8" name="a2ac0f858d7b07ed9a8cbacd137f80ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ac0f858d7b07ed9a8cbacd137f80ea8">&#9670;&#160;</a></span>preload_all_step_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::preload_all_step_users </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preload users of all question attempt steps. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a526c03f19b23344de98884051126fd58" name="a526c03f19b23344de98884051126fd58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a526c03f19b23344de98884051126fd58">&#9670;&#160;</a></span>prepare_simulated_post_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::prepare_simulated_post_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$simulatedresponses</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform an array of response data for slots to an array of post data as you would get from quiz attempt form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$simulatedresponses</td><td>array keys are slot nos =&gt; contains arrays representing student responses which will be passed to question_definition::prepare_simulated_post_data method and then have the appropriate prefix added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>simulated post data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af253ab20ba9673df63d7b417f3c013d7" name="af253ab20ba9673df63d7b417f3c013d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af253ab20ba9673df63d7b417f3c013d7">&#9670;&#160;</a></span>process_action()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::process_action </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$submitteddata</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timestamp</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process a specific action on a specific question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$submitteddata</td><td>the submitted data that constitutes the action. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timestamp</td><td>(optional) the timestamp to consider 'now'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a72df9c1de74ebe630630c068f5260c60" name="a72df9c1de74ebe630630c068f5260c60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72df9c1de74ebe630630c068f5260c60">&#9670;&#160;</a></span>process_all_actions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::process_all_actions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timestamp</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$postdata</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process all the question actions in the current request. </p>
<p>If there is a parameter slots included in the post data, then only those question numbers will be processed, otherwise all questions in this useage will be.</p>
<p>This function also does <a class="el" href="">update_question_flags()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$timestamp</td><td>optional, use this timestamp as 'now'. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$postdata</td><td>optional, only intended for testing. Use this data instead of the data from $_POST. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a00b24f0931d22742dc24325681b5c7" name="a6a00b24f0931d22742dc24325681b5c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a00b24f0931d22742dc24325681b5c7">&#9670;&#160;</a></span>process_all_autosaves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::process_all_autosaves </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timestamp</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$postdata</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process all the question autosave data in the current request. </p>
<p>If there is a parameter slots included in the post data, then only those question numbers will be processed, otherwise all questions in this useage will be.</p>
<p>This function also does <a class="el" href="">update_question_flags()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$timestamp</td><td>optional, use this timestamp as 'now'. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$postdata</td><td>optional, only intended for testing. Use this data instead of the data from $_POST. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a53e4dd62a03eb7b5437bb4ecd3b6f3bf" name="a53e4dd62a03eb7b5437bb4ecd3b6f3bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e4dd62a03eb7b5437bb4ecd3b6f3bf">&#9670;&#160;</a></span>process_autosave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::process_autosave </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$submitteddata</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timestamp</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process an autosave action on a specific question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$submitteddata</td><td>the submitted data that constitutes the action. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timestamp</td><td>(optional) the timestamp to consider 'now'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c76c9e31b9c6101e291a9907274fbe4" name="a2c76c9e31b9c6101e291a9907274fbe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c76c9e31b9c6101e291a9907274fbe4">&#9670;&#160;</a></span>question_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::question_count </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number of questions that are currently in this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af677af32aadcd1550b18bf5f5fa2846d" name="af677af32aadcd1550b18bf5f5fa2846d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af677af32aadcd1550b18bf5f5fa2846d">&#9670;&#160;</a></span>regrade_all_questions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::regrade_all_questions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$finished</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Regrade all the questions in this usage (without changing their max mark). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$finished</td><td>whether each question should be forced to be finished after the regrade, or whether it may still be in progress (default false). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa52aaf297f0a728523d9e07098512442" name="aa52aaf297f0a728523d9e07098512442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52aaf297f0a728523d9e07098512442">&#9670;&#160;</a></span>regrade_question()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::regrade_question </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$finished</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newmaxmark</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/da5/classquestion__definition.html">question_definition</a></td>          <td class="paramname"><span class="paramname"><em>$otherversion</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Regrade a question in this usage. </p>
<p>This replays the sequence of submitted actions to recompute the outcomes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$finished</td><td>whether the question attempt should be forced to be finished after the regrade, or whether it may still be in progress (default false). </td></tr>
    <tr><td class="paramtype">number</td><td class="paramname">$newmaxmark</td><td>(optional) if given, will change the max mark while regrading. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d7/da5/classquestion__definition.html" title="The definition of a question of a particular type.">question_definition</a>&#160;|&#160;null</td><td class="paramname">$otherversion</td><td>a different version of the question to use in the regrade. (By default, the regrode will use exactly the same question version.) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af54d754294c7d6dd5bfd93d00baa7578" name="af54d754294c7d6dd5bfd93d00baa7578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af54d754294c7d6dd5bfd93d00baa7578">&#9670;&#160;</a></span>render_question()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::render_question </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$options</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$number</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="../../d1/d9d/classcore__question__renderer.html">core_question_renderer</a>, in collaboration with appropriate <a class="el" href="../../df/d07/classqbehaviour__renderer.html">qbehaviour_renderer</a> and <a class="el" href="../../db/db0/classqtype__renderer.html">qtype_renderer</a> subclasses, to generate the HTML to display this question. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d8/d05/classquestion__display__options.html" title="This class contains all the options that controls how a question is displayed.">question_display_options</a></td><td class="paramname">$options</td><td>controls how the question is rendered. </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$number</td><td>The question number to display. 'i' is a special value that gets displayed as Information. Null means no number is displayed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>HTML fragment representing the question. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afd43ae5e64145f9497edf8cfc959c3f4" name="afd43ae5e64145f9497edf8cfc959c3f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd43ae5e64145f9497edf8cfc959c3f4">&#9670;&#160;</a></span>render_question_at_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::render_question_at_step </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$seq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$options</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$number</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like <a class="el" href="">render_question()</a> but displays the question at the past step indicated by $seq, rather than showing the latest step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$seq</td><td>the seq number of the past state to display. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d8/d05/classquestion__display__options.html" title="This class contains all the options that controls how a question is displayed.">question_display_options</a></td><td class="paramname">$options</td><td>controls how the question is rendered. </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$number</td><td>The question number to display. 'i' is a special value that gets displayed as Information. Null means no number is displayed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>HTML fragment representing the question. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a9b718d0acdc26c848ca6933b6230de" name="a0a9b718d0acdc26c848ca6933b6230de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a9b718d0acdc26c848ca6933b6230de">&#9670;&#160;</a></span>render_question_head_html()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::render_question_head_html </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate any bits of HTML that needs to go in the &lt;head&gt; tag when this question is displayed in the body. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>HTML fragment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f08ea4e7010b9bf5e5a9baff14c8abc" name="a0f08ea4e7010b9bf5e5a9baff14c8abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f08ea4e7010b9bf5e5a9baff14c8abc">&#9670;&#160;</a></span>replace_loaded_question_attempt_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::replace_loaded_question_attempt_info </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$qa</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace a particular <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a> with a different one. </p>
<p>For internal use only. Used when reloading the state of a question from the database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the slot number of the question to replace. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a></td><td class="paramname">$qa</td><td>the question attempt to put in that place. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a473bbd1b148d00e78c570fb9e7840fd9" name="a473bbd1b148d00e78c570fb9e7840fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a473bbd1b148d00e78c570fb9e7840fd9">&#9670;&#160;</a></span>set_id_from_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::set_id_from_database </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For internal use only. </p>
<p>Used by <a class="el" href="../../da/d46/classquestion__engine__data__mapper.html">question_engine_data_mapper</a> to set the id when a usage is saved to the database. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>the newly determined id for this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f7f1e288c3c7e43eb51efc1efd8080b" name="a2f7f1e288c3c7e43eb51efc1efd8080b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f7f1e288c3c7e43eb51efc1efd8080b">&#9670;&#160;</a></span>set_max_mark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::set_max_mark </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$maxmark</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the max mark for this <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the slot number of the question of inerest. </td></tr>
    <tr><td class="paramtype">float</td><td class="paramname">$maxmark</td><td>the new max mark. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9243ffc2eaddde3aed4784203c09a76a" name="a9243ffc2eaddde3aed4784203c09a76a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9243ffc2eaddde3aed4784203c09a76a">&#9670;&#160;</a></span>set_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::set_observer </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$observer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>You should almost certainly not call this method from your code. </p>
<p>It is for internal use only. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="../../d2/d0f/interfacequestion__usage__observer.html" title="Interface for things that want to be notified of signficant changes to a question_usage_by_activity.">question_usage_observer</a></td><td>that should be used to tracking changes made to this usage. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8595bd77504c0d88dc5b2e9449d70f66" name="a8595bd77504c0d88dc5b2e9449d70f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8595bd77504c0d88dc5b2e9449d70f66">&#9670;&#160;</a></span>set_preferred_behaviour()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::set_preferred_behaviour </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$behaviour</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$behaviour</td><td>the name of an archetypal behaviour, that should be used by questions in this usage if possible. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab52b4f18f060e942132f82fe68aabe11" name="ab52b4f18f060e942132f82fe68aabe11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab52b4f18f060e942132f82fe68aabe11">&#9670;&#160;</a></span>set_question_attempt_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::set_question_attempt_metadata </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set some metadata for a particular question attempt in this usage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the slot number of the question of inerest. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the metadata variable to return. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>the value to set that metadata variable to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0fd235aeefdd17fd707e6b198860971" name="ae0fd235aeefdd17fd707e6b198860971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0fd235aeefdd17fd707e6b198860971">&#9670;&#160;</a></span>start_all_questions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::start_all_questions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/da1/interfacequestion__variant__selection__strategy.html">question_variant_selection_strategy</a></td>          <td class="paramname"><span class="paramname"><em>$variantstrategy</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timestamp</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the attempt at all questions that has been added to this usage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname"><a class="el" href="../../d3/da1/interfacequestion__variant__selection__strategy.html" title="The interface for strategies for controlling which variant of each question is used.">question_variant_selection_strategy</a></td><td>how to pick which variant of each question to use. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timestamp</td><td>optional, the timstamp to record for this action. Defaults to now. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>optional, the user to attribute this action to. Defaults to the current user. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26e84470dc767590d1099daf12a4adb7" name="a26e84470dc767590d1099daf12a4adb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26e84470dc767590d1099daf12a4adb7">&#9670;&#160;</a></span>start_question()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::start_question </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$variant</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timenow</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the attempt at a question that has been added to this usage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$variant</td><td>which variant of the question to use. Must be between 1 and -&gt;get_num_variants($slot) inclusive. If not give, a variant is chosen at random. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timenow</td><td>optional, the timstamp to record for this action. Defaults to now. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07b32c66e02b28a1a4f0e572b293ca83" name="a07b32c66e02b28a1a4f0e572b293ca83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b32c66e02b28a1a4f0e572b293ca83">&#9670;&#160;</a></span>start_question_based_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::start_question_based_on </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dda/classquestion__attempt.html">question_attempt</a></td>          <td class="paramname"><span class="paramname"><em>$oldqa</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the attempt at a question, starting from the point where the previous <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a> $oldqa had reached. </p>
<p>This is used by the quiz 'Each attempt builds on last' mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a></td><td class="paramname">$oldqa</td><td>a previous attempt at this quetsion that defines the starting point. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6633248c3f43eb23e1041775ea0ad22f" name="a6633248c3f43eb23e1041775ea0ad22f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6633248c3f43eb23e1041775ea0ad22f">&#9670;&#160;</a></span>update_question_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::update_question_flags </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$postdata</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the flagged state for all question_attempts in this usage, if their flagged state was changed in the request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$postdata</td><td>optional, only intended for testing. Use this data instead of the data from $_POST. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab04fd0d7fc1c9701d34565b363b7c289" name="ab04fd0d7fc1c9701d34565b363b7c289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04fd0d7fc1c9701d34565b363b7c289">&#9670;&#160;</a></span>validate_can_regrade_with_other_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::validate_can_regrade_with_other_version </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/da5/classquestion__definition.html">question_definition</a></td>          <td class="paramname"><span class="paramname"><em>$otherversion</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify if the <a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a> in the given slot can be regraded with that other question version. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d7/da5/classquestion__definition.html" title="The definition of a question of a particular type.">question_definition</a></td><td class="paramname">$otherversion</td><td>a different version of the question to use in the regrade. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|null</td><td>null if the regrade can proceed, else a reason why not. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4b3572e6c00b9a24bbb891fcfa4dc005" name="a4b3572e6c00b9a24bbb891fcfa4dc005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b3572e6c00b9a24bbb891fcfa4dc005">&#9670;&#160;</a></span>validate_sequence_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_usage_by_activity::validate_sequence_number </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$slot</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$postdata</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that the sequence number, that detects weird things like the student clicking back, is OK. </p>
<p>If the sequence check variable is not present, returns false. If the check variable is present and correct, returns true. If the variable is present and wrong, throws an exception.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$slot</td><td>the number used to identify this question within this usage. </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$postdata</td><td>(optional) data to use in place of $_POST. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the check variable is present and correct. False if it is missing. (Throws an exception if the check fails.) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a10877d439b7fee1317712daee34340d1" name="a10877d439b7fee1317712daee34340d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10877d439b7fee1317712daee34340d1">&#9670;&#160;</a></span>$id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer string question_usage_by_activity::$id = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the id for this usage. </p>
<p>If this usage was loaded from the database, then this is the database id. Otherwise a unique random string is used. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>question/engine/<b>questionusage.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 21 2024 02:39:55 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
