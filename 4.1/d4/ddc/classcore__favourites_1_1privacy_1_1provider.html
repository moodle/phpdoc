<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_favourites\privacy\provider Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.10+ (Build: 20240530) (aa230649d96)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/d36/namespacecore__favourites.html">core_favourites</a></li><li class="navelem"><a class="el" href="../../d6/d6f/namespacecore__favourites_1_1privacy.html">privacy</a></li><li class="navelem"><a class="el" href="../../d4/ddc/classcore__favourites_1_1privacy_1_1provider.html">provider</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d0/df0/classcore__favourites_1_1privacy_1_1provider-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_favourites\privacy\provider Class Reference<div class="ingroups"><a class="el" href="../../da/dda/group__core__favourites.html">core_favourites</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Privacy class for requesting user data.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for core_favourites\privacy\provider:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d4/ddc/classcore__favourites_1_1privacy_1_1provider.png" usemap="#core_5Ffavourites_5Cprivacy_5Cprovider_map" alt=""/>
  <map id="core_5Ffavourites_5Cprivacy_5Cprovider_map" name="core_5Ffavourites_5Cprivacy_5Cprovider_map">
<area href="../../d0/d64/interfacecore__privacy_1_1local_1_1metadata_1_1provider.html" title="INterface for main metadata provider interface." alt="core_privacy\local\metadata\provider" shape="rect" coords="0,112,319,136"/>
<area href="../../d4/da3/interfacecore__privacy_1_1local_1_1request_1_1subsystem_1_1plugin__provider.html" title="The plugin_provider interface for subsystems which provide data directly to a plugin." alt="core_privacy\local\request\subsystem\plugin_provider" shape="rect" coords="329,112,648,136"/>
<area href="../../d0/ddd/interfacecore__privacy_1_1local_1_1request_1_1shared__userlist__provider.html" title="The interface is used to describe a provider which is capable of identifying the users who have data ..." alt="core_privacy\local\request\shared_userlist_provider" shape="rect" coords="658,112,977,136"/>
<area href="../../db/d10/interfacecore__privacy_1_1local_1_1request_1_1shared__data__provider.html" title="The shared_data_provider interface is used to describe a provider which services user requests betwee..." alt="core_privacy\local\request\shared_data_provider" shape="rect" coords="329,56,648,80"/>
<area href="../../d0/d5a/interfacecore__privacy_1_1local_1_1request_1_1userlist__provider.html" title="The interface is used to describe a provider which is capable of identifying the users who have data ..." alt="core_privacy\local\request\userlist_provider" shape="rect" coords="658,56,977,80"/>
<area href="../../da/ddc/interfacecore__privacy_1_1local_1_1request_1_1data__provider.html" title="The data_provider interface is used to describe a provider which services user requests in any fashio..." alt="core_privacy\local\request\data_provider" shape="rect" coords="329,0,648,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa923755c36c96872d7d0666175caca58" id="r_aa923755c36c96872d7d0666175caca58"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa923755c36c96872d7d0666175caca58">add_contexts_for_userid</a> (\<a class="el" href="../../d0/de3/classcore__privacy_1_1local_1_1request_1_1contextlist.html">core_privacy\local\request\contextlist</a> $contextlist, int $userid, string $component, string $itemtype=null)</td></tr>
<tr class="memdesc:aa923755c36c96872d7d0666175caca58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a list of contexts which have favourites for the user, in the respective area (component/itemtype combination).  <br /></td></tr>
<tr class="separator:aa923755c36c96872d7d0666175caca58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9265e1673a593c331cea0379834c661c" id="r_a9265e1673a593c331cea0379834c661c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9265e1673a593c331cea0379834c661c">add_userids_for_context</a> (\<a class="el" href="../../d9/df1/classcore__privacy_1_1local_1_1request_1_1userlist.html">core_privacy\local\request\userlist</a> $userlist, string $itemtype=null)</td></tr>
<tr class="memdesc:a9265e1673a593c331cea0379834c661c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add users to a userlist who have favourites within the specified context.  <br /></td></tr>
<tr class="separator:a9265e1673a593c331cea0379834c661c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba990471b028224f9f488c134be72215" id="r_aba990471b028224f9f488c134be72215"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba990471b028224f9f488c134be72215">delete_favourites_for_all_users</a> (\<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, string $component, string $itemtype, int $itemid=0)</td></tr>
<tr class="memdesc:aba990471b028224f9f488c134be72215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all favourites for all users in the specified contexts, and component area.  <br /></td></tr>
<tr class="separator:aba990471b028224f9f488c134be72215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f39fc3896a72df24d78fd97106a2b5" id="r_a34f39fc3896a72df24d78fd97106a2b5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34f39fc3896a72df24d78fd97106a2b5">delete_favourites_for_user</a> (<a class="el" href="../../d9/d39/classcore__privacy_1_1local_1_1request_1_1approved__contextlist.html">approved_contextlist</a> $contextlist, string $component, string $itemtype, int $itemid=0)</td></tr>
<tr class="memdesc:a34f39fc3896a72df24d78fd97106a2b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all favourites for the specified user, in the specified contexts.  <br /></td></tr>
<tr class="separator:a34f39fc3896a72df24d78fd97106a2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687cc28576f39663c564a50a88d9e7b8" id="r_a687cc28576f39663c564a50a88d9e7b8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a687cc28576f39663c564a50a88d9e7b8">delete_favourites_for_userlist</a> (\<a class="el" href="../../d1/dbf/classcore__privacy_1_1local_1_1request_1_1approved__userlist.html">core_privacy\local\request\approved_userlist</a> $userlist, string $itemtype, int $itemid=0)</td></tr>
<tr class="memdesc:a687cc28576f39663c564a50a88d9e7b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all favourites for the specified users in the specified context, component area and item type.  <br /></td></tr>
<tr class="separator:a687cc28576f39663c564a50a88d9e7b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d75ae05e51a10d7326faa4f6268e769" id="r_a3d75ae05e51a10d7326faa4f6268e769"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d75ae05e51a10d7326faa4f6268e769">get_favourites_info_for_user</a> (int $userid, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, string $component, string $itemtype, int $itemid)</td></tr>
<tr class="memdesc:a3d75ae05e51a10d7326faa4f6268e769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get favourites data for the specified user in the specified component, item type and item ID.  <br /></td></tr>
<tr class="separator:a3d75ae05e51a10d7326faa4f6268e769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd92c5bcf76718c7c789e084e340911" id="r_aadd92c5bcf76718c7c789e084e340911"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aadd92c5bcf76718c7c789e084e340911">get_metadata</a> (<a class="el" href="../../df/d2b/classcore__privacy_1_1local_1_1metadata_1_1collection.html">collection</a> $<a class="el" href="../../df/d2b/classcore__privacy_1_1local_1_1metadata_1_1collection.html">collection</a>)</td></tr>
<tr class="memdesc:aadd92c5bcf76718c7c789e084e340911"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns metadata about this system.  <br /></td></tr>
<tr class="separator:aadd92c5bcf76718c7c789e084e340911"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Privacy class for requesting user data. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2018 Jake Dallimore <a href="#" onclick="location.href='mai'+'lto:'+'jrh'+'da'+'lli'+'mo'+'re@'+'gm'+'ail'+'.c'+'om'; return false;">jrhda<span class="obfuscator">.nosp@m.</span>llim<span class="obfuscator">.nosp@m.</span>ore@g<span class="obfuscator">.nosp@m.</span>mail<span class="obfuscator">.nosp@m.</span>.com</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa923755c36c96872d7d0666175caca58" name="aa923755c36c96872d7d0666175caca58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa923755c36c96872d7d0666175caca58">&#9670;&#160;</a></span>add_contexts_for_userid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_favourites\privacy\provider::add_contexts_for_userid </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../d0/de3/classcore__privacy_1_1local_1_1request_1_1contextlist.html">core_privacy\local\request\contextlist</a></td>          <td class="paramname"><span class="paramname"><em>$contextlist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$itemtype</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provide a list of contexts which have favourites for the user, in the respective area (component/itemtype combination). </p>
<p>This method is to be called by consumers of the favourites subsystem (plugins), in their get_contexts_for_userid() method, to add the contexts for items which may have been favourited, but would normally not be reported as having user data by the plugin responsible for them.</p>
<p>Consider an example: Favourite courses. Favourite courses will be handled by the core_course subsystem and courses can be favourited at site context.</p>
<p>Now normally, the course provider method get_contexts_for_userid() would report the context of any courses the user is in. Then, we'd export data for those contexts. This won't include courses the user has favourited, but is not a member of.</p>
<p>To report the full list, the course provider needs to be made aware of the contexts of any courses the user may have marked as favourites. Course will need to ask th favourites subsystem for this - a call to add_contexts_for_userid($userid).</p>
<p>Once called, if a course has been marked as a favourite, at site context, then we'd return the site context. During export, the consumer (course), just looks at all contexts and decides whether to export favourite courses for each one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/de3/classcore__privacy_1_1local_1_1request_1_1contextlist.html" title="Privacy Fetch Result Set.">core_privacy\local\request\contextlist</a></td><td class="paramname">$contextlist</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user in scope. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>the frankenstyle component name. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemtype</td><td>the type of the favourited items. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9265e1673a593c331cea0379834c661c" name="a9265e1673a593c331cea0379834c661c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9265e1673a593c331cea0379834c661c">&#9670;&#160;</a></span>add_userids_for_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_favourites\privacy\provider::add_userids_for_context </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../d9/df1/classcore__privacy_1_1local_1_1request_1_1userlist.html">core_privacy\local\request\userlist</a></td>          <td class="paramname"><span class="paramname"><em>$userlist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$itemtype</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add users to a userlist who have favourites within the specified context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d9/df1/classcore__privacy_1_1local_1_1request_1_1userlist.html" title="List of users from the Privacy API Search functions.">core_privacy\local\request\userlist</a></td><td class="paramname">$userlist</td><td>The userlist to add the users to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemtype</td><td>the type of the favourited items. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba990471b028224f9f488c134be72215" name="aba990471b028224f9f488c134be72215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba990471b028224f9f488c134be72215">&#9670;&#160;</a></span>delete_favourites_for_all_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_favourites\privacy\provider::delete_favourites_for_all_users </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../da/d04/classcontext.html">context</a></td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$itemtype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete all favourites for all users in the specified contexts, and component area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>The context to which deletion is scoped. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The favourite's component name. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemtype</td><td>The favourite's itemtype. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>Optional itemid associated with component. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>if any errors are encountered during deletion. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a34f39fc3896a72df24d78fd97106a2b5" name="a34f39fc3896a72df24d78fd97106a2b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34f39fc3896a72df24d78fd97106a2b5">&#9670;&#160;</a></span>delete_favourites_for_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_favourites\privacy\provider::delete_favourites_for_user </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d39/classcore__privacy_1_1local_1_1request_1_1approved__contextlist.html">approved_contextlist</a></td>          <td class="paramname"><span class="paramname"><em>$contextlist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$itemtype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete all favourites for the specified user, in the specified contexts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">approved_contextlist</td><td class="paramname">$contextlist</td><td>The approved contexts and user information to delete information for. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The favourite's component name. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemtype</td><td>The favourite's itemtype. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>Optional itemid associated with component. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a687cc28576f39663c564a50a88d9e7b8" name="a687cc28576f39663c564a50a88d9e7b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a687cc28576f39663c564a50a88d9e7b8">&#9670;&#160;</a></span>delete_favourites_for_userlist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_favourites\privacy\provider::delete_favourites_for_userlist </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../d1/dbf/classcore__privacy_1_1local_1_1request_1_1approved__userlist.html">core_privacy\local\request\approved_userlist</a></td>          <td class="paramname"><span class="paramname"><em>$userlist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$itemtype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete all favourites for the specified users in the specified context, component area and item type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/dbf/classcore__privacy_1_1local_1_1request_1_1approved__userlist.html" title="An implementation of a userlist which has been filtered and approved.">core_privacy\local\request\approved_userlist</a></td><td class="paramname">$userlist</td><td>The approved contexts and user information to delete information for. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemtype</td><td>The favourite's itemtype. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>Optional itemid associated with component. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>if any errors are encountered during deletion. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3d75ae05e51a10d7326faa4f6268e769" name="a3d75ae05e51a10d7326faa4f6268e769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d75ae05e51a10d7326faa4f6268e769">&#9670;&#160;</a></span>get_favourites_info_for_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_favourites\privacy\provider::get_favourites_info_for_user </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a></td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$itemtype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get favourites data for the specified user in the specified component, item type and item ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user in scope. </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>The context to which data is scoped. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The favourite's component name. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemtype</td><td>The favourite's item type. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>The favourite's item ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aadd92c5bcf76718c7c789e084e340911" name="aadd92c5bcf76718c7c789e084e340911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd92c5bcf76718c7c789e084e340911">&#9670;&#160;</a></span>get_metadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_favourites\privacy\provider::get_metadata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d2b/classcore__privacy_1_1local_1_1metadata_1_1collection.html">collection</a></td>          <td class="paramname"><span class="paramname"><em>$collection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns metadata about this system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">collection</td><td class="paramname">$collection</td><td>The initialised collection to add items to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">collection</td><td>A listing of user data stored through this system. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d0/d64/interfacecore__privacy_1_1local_1_1metadata_1_1provider.html#a9d05dd21ae8ad491927aeaa7c246a420">core_privacy\local\metadata\provider</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>favourites/classes/privacy/<b>provider.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 02:37:01 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
