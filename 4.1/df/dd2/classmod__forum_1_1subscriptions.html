<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: mod_forum\subscriptions Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.10+ (Build: 20240425) (eba83406da6)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d6/dd5/namespacemod__forum.html">mod_forum</a></li><li class="navelem"><a class="el" href="../../df/dd2/classmod__forum_1_1subscriptions.html">subscriptions</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../df/dbe/classmod__forum_1_1subscriptions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mod_forum\subscriptions Class Reference<div class="ingroups"><a class="el" href="../../d7/d5f/group__mod__forum.html">mod_forum</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Forum subscription manager.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aae849c133a6664584ca396c0f14c1932" id="r_aae849c133a6664584ca396c0f14c1932"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae849c133a6664584ca396c0f14c1932">fetch_discussion_subscription</a> ($forumid, $userid=null)</td></tr>
<tr class="memdesc:aae849c133a6664584ca396c0f14c1932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the discussion subscription data for the specified userid and forum.  <br /></td></tr>
<tr class="separator:aae849c133a6664584ca396c0f14c1932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345a7e3509f8d4ad02ac383a5e6438c8" id="r_a345a7e3509f8d4ad02ac383a5e6438c8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a345a7e3509f8d4ad02ac383a5e6438c8">fetch_subscribed_users</a> ($forum, $groupid=0, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null, $fields=null, $includediscussionsubscriptions=false)</td></tr>
<tr class="memdesc:a345a7e3509f8d4ad02ac383a5e6438c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of user objects who are subscribed to this forum.  <br /></td></tr>
<tr class="separator:a345a7e3509f8d4ad02ac383a5e6438c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b346b95743a1528692948c622412639" id="r_a5b346b95743a1528692948c622412639"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b346b95743a1528692948c622412639">fetch_subscription_cache</a> ($forumid, $userid)</td></tr>
<tr class="memdesc:a5b346b95743a1528692948c622412639"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the forum subscription data for the specified userid and forum.  <br /></td></tr>
<tr class="separator:a5b346b95743a1528692948c622412639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c69f5f68858b98fb7214269ea0300fe" id="r_a4c69f5f68858b98fb7214269ea0300fe"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c69f5f68858b98fb7214269ea0300fe">fill_discussion_subscription_cache</a> ($forumid, $userid=null)</td></tr>
<tr class="memdesc:a4c69f5f68858b98fb7214269ea0300fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the discussion subscription data for the specified userid and forum.  <br /></td></tr>
<tr class="separator:a4c69f5f68858b98fb7214269ea0300fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f55f41e4a55c0c9db1395e07c1de71" id="r_af8f55f41e4a55c0c9db1395e07c1de71"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8f55f41e4a55c0c9db1395e07c1de71">fill_subscription_cache</a> ($forumid, $userid=null)</td></tr>
<tr class="memdesc:af8f55f41e4a55c0c9db1395e07c1de71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the forum subscription data for the specified userid and forum.  <br /></td></tr>
<tr class="separator:af8f55f41e4a55c0c9db1395e07c1de71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2136a3d8effd6bfd62ffbf7ccb8ce6" id="r_a7c2136a3d8effd6bfd62ffbf7ccb8ce6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c2136a3d8effd6bfd62ffbf7ccb8ce6">fill_subscription_cache_for_course</a> ($courseid, $userid)</td></tr>
<tr class="memdesc:a7c2136a3d8effd6bfd62ffbf7ccb8ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the forum subscription data for all forums that the specified userid can subscribe to in the specified course.  <br /></td></tr>
<tr class="separator:a7c2136a3d8effd6bfd62ffbf7ccb8ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad999db27d8c5e1a0546aca156facf7c2" id="r_ad999db27d8c5e1a0546aca156facf7c2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad999db27d8c5e1a0546aca156facf7c2">get_potential_subscribers</a> ($<a class="el" href="../../da/d04/classcontext.html">context</a>, $groupid, $fields, $<a class="el" href="../../dc/d71/group___imap___client.html#ga4bd31bcedb7b4943aac2da78d0d84afe">sort</a>='')</td></tr>
<tr class="memdesc:ad999db27d8c5e1a0546aca156facf7c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of potential subscribers to a forum.  <br /></td></tr>
<tr class="separator:ad999db27d8c5e1a0546aca156facf7c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2317a09c954496470e89ea523e59e82e" id="r_a2317a09c954496470e89ea523e59e82e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2317a09c954496470e89ea523e59e82e">get_subscription_mode</a> ($forum)</td></tr>
<tr class="memdesc:a2317a09c954496470e89ea523e59e82e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current subscription mode for the forum.  <br /></td></tr>
<tr class="separator:a2317a09c954496470e89ea523e59e82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96f749d3a57351c6bf516f466a5d7ae" id="r_ac96f749d3a57351c6bf516f466a5d7ae"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac96f749d3a57351c6bf516f466a5d7ae">get_unsubscribable_forums</a> ()</td></tr>
<tr class="memdesc:ac96f749d3a57351c6bf516f466a5d7ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of forums that the current user is subscribed to and is allowed to unsubscribe from.  <br /></td></tr>
<tr class="separator:ac96f749d3a57351c6bf516f466a5d7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05fa4d7c6bf238c2d5c380482acb3f27" id="r_a05fa4d7c6bf238c2d5c380482acb3f27"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05fa4d7c6bf238c2d5c380482acb3f27">get_user_default_subscription</a> ($forum, $<a class="el" href="../../da/d04/classcontext.html">context</a>, $cm, ?int $discussionid)</td></tr>
<tr class="memdesc:a05fa4d7c6bf238c2d5c380482acb3f27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the default subscription value for the logged in user.  <br /></td></tr>
<tr class="separator:a05fa4d7c6bf238c2d5c380482acb3f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65d879630b156bbda348b0ec4e876af5" id="r_a65d879630b156bbda348b0ec4e876af5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65d879630b156bbda348b0ec4e876af5">is_forcesubscribed</a> ($forum)</td></tr>
<tr class="memdesc:a65d879630b156bbda348b0ec4e876af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to determine whether a forum has it's subscription mode set to forced subscription.  <br /></td></tr>
<tr class="separator:a65d879630b156bbda348b0ec4e876af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162e4df6e494a4925294715fe6cf5706" id="r_a162e4df6e494a4925294715fe6cf5706"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a162e4df6e494a4925294715fe6cf5706">is_subscribable</a> ($forum)</td></tr>
<tr class="memdesc:a162e4df6e494a4925294715fe6cf5706"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to determine whether the specified forum can be subscribed to.  <br /></td></tr>
<tr class="separator:a162e4df6e494a4925294715fe6cf5706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf3f3abb2349f789bef55c18cc61d97" id="r_adcf3f3abb2349f789bef55c18cc61d97"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcf3f3abb2349f789bef55c18cc61d97">is_subscribed</a> ($userid, $forum, $discussionid=null, $cm=null)</td></tr>
<tr class="memdesc:adcf3f3abb2349f789bef55c18cc61d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a user is subscribed to this forum, or a discussion within the forum.  <br /></td></tr>
<tr class="separator:adcf3f3abb2349f789bef55c18cc61d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46f0727269ceca7a36e1ee47b61b56d" id="r_aa46f0727269ceca7a36e1ee47b61b56d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa46f0727269ceca7a36e1ee47b61b56d">reset_discussion_cache</a> ()</td></tr>
<tr class="memdesc:aa46f0727269ceca7a36e1ee47b61b56d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the discussion cache.  <br /></td></tr>
<tr class="separator:aa46f0727269ceca7a36e1ee47b61b56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfb05ff320f08d8e88eaf28a09a40fe" id="r_a0bfb05ff320f08d8e88eaf28a09a40fe"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bfb05ff320f08d8e88eaf28a09a40fe">reset_forum_cache</a> ()</td></tr>
<tr class="memdesc:a0bfb05ff320f08d8e88eaf28a09a40fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the forum cache.  <br /></td></tr>
<tr class="separator:a0bfb05ff320f08d8e88eaf28a09a40fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1cecffe6e74b851d97f66fce44efc6" id="r_a6c1cecffe6e74b851d97f66fce44efc6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c1cecffe6e74b851d97f66fce44efc6">set_subscription_mode</a> ($forumid, $<a class="el" href="../../dc/d71/group___imap___client.html#ga5bf8518b59eeb46c71681066d12016bd">status</a>=1)</td></tr>
<tr class="memdesc:a6c1cecffe6e74b851d97f66fce44efc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the forum subscription mode.  <br /></td></tr>
<tr class="separator:a6c1cecffe6e74b851d97f66fce44efc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f37d2e7037abeb8170d1b55fbc35b6d" id="r_a2f37d2e7037abeb8170d1b55fbc35b6d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f37d2e7037abeb8170d1b55fbc35b6d">subscribe_user</a> ($userid, $forum, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null, $userrequest=false)</td></tr>
<tr class="memdesc:a2f37d2e7037abeb8170d1b55fbc35b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds user to the subscriber list.  <br /></td></tr>
<tr class="separator:a2f37d2e7037abeb8170d1b55fbc35b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa400d39de761a0d0f2bfa636c13b617c" id="r_aa400d39de761a0d0f2bfa636c13b617c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa400d39de761a0d0f2bfa636c13b617c">subscribe_user_to_discussion</a> ($userid, $discussion, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null)</td></tr>
<tr class="memdesc:aa400d39de761a0d0f2bfa636c13b617c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes the user to the specified discussion.  <br /></td></tr>
<tr class="separator:aa400d39de761a0d0f2bfa636c13b617c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba0a7957fcd5d8dfe7a853eedab36d2" id="r_adba0a7957fcd5d8dfe7a853eedab36d2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adba0a7957fcd5d8dfe7a853eedab36d2">subscription_disabled</a> ($forum)</td></tr>
<tr class="memdesc:adba0a7957fcd5d8dfe7a853eedab36d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to determine whether a forum has it's subscription mode set to disabled.  <br /></td></tr>
<tr class="separator:adba0a7957fcd5d8dfe7a853eedab36d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aa77a20936d0c9420dc3d284c5f3a65" id="r_a9aa77a20936d0c9420dc3d284c5f3a65"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9aa77a20936d0c9420dc3d284c5f3a65">unsubscribe_user</a> ($userid, $forum, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null, $userrequest=false)</td></tr>
<tr class="memdesc:a9aa77a20936d0c9420dc3d284c5f3a65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes user from the subscriber list.  <br /></td></tr>
<tr class="separator:a9aa77a20936d0c9420dc3d284c5f3a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a407b6a9865a5b85655620cf226e81987" id="r_a407b6a9865a5b85655620cf226e81987"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a407b6a9865a5b85655620cf226e81987">unsubscribe_user_from_discussion</a> ($userid, $discussion, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null)</td></tr>
<tr class="memdesc:a407b6a9865a5b85655620cf226e81987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribes the user from the specified discussion.  <br /></td></tr>
<tr class="separator:a407b6a9865a5b85655620cf226e81987"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3ba53c8fe2e84eadcac43548e811a9f2" id="r_a3ba53c8fe2e84eadcac43548e811a9f2"><td class="memItemLeft" align="right" valign="top"><a id="a3ba53c8fe2e84eadcac43548e811a9f2" name="a3ba53c8fe2e84eadcac43548e811a9f2"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>FORUM_DISCUSSION_UNSUBSCRIBED</b> = -1</td></tr>
<tr class="memdesc:a3ba53c8fe2e84eadcac43548e811a9f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The status value for an unsubscribed discussion. <br /></td></tr>
<tr class="separator:a3ba53c8fe2e84eadcac43548e811a9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a03c6e075161c11efaca1ac181a497e3b" id="r_a03c6e075161c11efaca1ac181a497e3b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03c6e075161c11efaca1ac181a497e3b">add_to_discussion_cache</a> ($forumid, $userid, $discussion, $preference)</td></tr>
<tr class="memdesc:a03c6e075161c11efaca1ac181a497e3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the specified discussion and user preference to the discussion subscription cache.  <br /></td></tr>
<tr class="separator:a03c6e075161c11efaca1ac181a497e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04a19568f3050d3bbab9d08239ea40" id="r_a3c04a19568f3050d3bbab9d08239ea40"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c04a19568f3050d3bbab9d08239ea40">is_subscribed_to_forum</a> ($userid, $forum)</td></tr>
<tr class="memdesc:a3c04a19568f3050d3bbab9d08239ea40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a user is subscribed to this forum.  <br /></td></tr>
<tr class="separator:a3c04a19568f3050d3bbab9d08239ea40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a24268b6d2aa765fa17cc8e2e002747ae" id="r_a24268b6d2aa765fa17cc8e2e002747ae"><td class="memItemLeft" align="right" valign="top">static bool[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24268b6d2aa765fa17cc8e2e002747ae">$discussionfetchedforums</a> = array()</td></tr>
<tr class="memdesc:a24268b6d2aa765fa17cc8e2e002747ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of forums which have been wholly retrieved for the forum discussion subscription cache.  <br /></td></tr>
<tr class="separator:a24268b6d2aa765fa17cc8e2e002747ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85a62b531f33620dcf9b50cddeb7808" id="r_ab85a62b531f33620dcf9b50cddeb7808"><td class="memItemLeft" align="right" valign="top">static bool[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab85a62b531f33620dcf9b50cddeb7808">$fetchedforums</a> = array()</td></tr>
<tr class="memdesc:ab85a62b531f33620dcf9b50cddeb7808"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of forums which have been wholly retrieved for the forum subscription cache.  <br /></td></tr>
<tr class="separator:ab85a62b531f33620dcf9b50cddeb7808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78e126618ea208fba0deee48cfd0fd5" id="r_ac78e126618ea208fba0deee48cfd0fd5"><td class="memItemLeft" align="right" valign="top">static array[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac78e126618ea208fba0deee48cfd0fd5">$forumcache</a> = array()</td></tr>
<tr class="memdesc:ac78e126618ea208fba0deee48cfd0fd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The subscription cache for forums.  <br /></td></tr>
<tr class="separator:ac78e126618ea208fba0deee48cfd0fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8658b207723d45ce05a8540244a9f0" id="r_a5f8658b207723d45ce05a8540244a9f0"><td class="memItemLeft" align="right" valign="top">static array[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f8658b207723d45ce05a8540244a9f0">$forumdiscussioncache</a> = array()</td></tr>
<tr class="memdesc:a5f8658b207723d45ce05a8540244a9f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The subscription cache for forum discussions.  <br /></td></tr>
<tr class="separator:a5f8658b207723d45ce05a8540244a9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Forum subscription manager. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2014 Andrew Nicols <a href="#" onclick="location.href='mai'+'lto:'+'and'+'re'+'w@n'+'ic'+'ols'+'.c'+'o.u'+'k'; return false;">andre<span class="obfuscator">.nosp@m.</span>w@ni<span class="obfuscator">.nosp@m.</span>cols.<span class="obfuscator">.nosp@m.</span>co.u<span class="obfuscator">.nosp@m.</span>k</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a03c6e075161c11efaca1ac181a497e3b" name="a03c6e075161c11efaca1ac181a497e3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c6e075161c11efaca1ac181a497e3b">&#9670;&#160;</a></span>add_to_discussion_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::add_to_discussion_cache </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forumid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$discussion</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$preference</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add the specified discussion and user preference to the discussion subscription cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$forumid</td><td>The ID of the forum that this preference belongs to </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The ID of the user that this preference belongs to </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$discussion</td><td>The ID of the discussion that this preference relates to </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$preference</td><td>The preference to store </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae849c133a6664584ca396c0f14c1932" name="aae849c133a6664584ca396c0f14c1932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae849c133a6664584ca396c0f14c1932">&#9670;&#160;</a></span>fetch_discussion_subscription()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::fetch_discussion_subscription </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forumid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the discussion subscription data for the specified userid and forum. </p>
<p>This is returned as an array of discussions for that forum which contain the preference in a stdClass.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$forumid</td><td>The forum to retrieve a cache for </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of stdClass objects with one per discussion in the forum. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a345a7e3509f8d4ad02ac383a5e6438c8" name="a345a7e3509f8d4ad02ac383a5e6438c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a345a7e3509f8d4ad02ac383a5e6438c8">&#9670;&#160;</a></span>fetch_subscribed_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::fetch_subscribed_users </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$groupid</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$includediscussionsubscriptions</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of user objects who are subscribed to this forum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The forum record. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$groupid</td><td>The group id if restricting subscriptions to a group of users, or 0 for all. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../db/db4/classcontext__module.html">context_module</a></td><td class="paramname">$context</td><td>the forum context, to save re-fetching it where possible. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>requested user fields (with "u." table prefix). </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$includediscussionsubscriptions</td><td>Whether to take discussion subscriptions and unsubscriptions into consideration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of users. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b346b95743a1528692948c622412639" name="a5b346b95743a1528692948c622412639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b346b95743a1528692948c622412639">&#9670;&#160;</a></span>fetch_subscription_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::fetch_subscription_cache </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forumid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the forum subscription data for the specified userid and forum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$forumid</td><td>The forum to retrieve a cache for </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c69f5f68858b98fb7214269ea0300fe" name="a4c69f5f68858b98fb7214269ea0300fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c69f5f68858b98fb7214269ea0300fe">&#9670;&#160;</a></span>fill_discussion_subscription_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::fill_discussion_subscription_cache </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forumid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill the discussion subscription data for the specified userid and forum. </p>
<p>If the userid is not specified, then all discussion subscription data for that forum is fetched in a single query and used for subsequent lookups without requiring further database queries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$forumid</td><td>The forum to retrieve a cache for </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af8f55f41e4a55c0c9db1395e07c1de71" name="af8f55f41e4a55c0c9db1395e07c1de71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f55f41e4a55c0c9db1395e07c1de71">&#9670;&#160;</a></span>fill_subscription_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::fill_subscription_cache </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forumid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill the forum subscription data for the specified userid and forum. </p>
<p>If the userid is not specified, then all subscription data for that forum is fetched in a single query and used for subsequent lookups without requiring further database queries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$forumid</td><td>The forum to retrieve a cache for </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c2136a3d8effd6bfd62ffbf7ccb8ce6" name="a7c2136a3d8effd6bfd62ffbf7ccb8ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c2136a3d8effd6bfd62ffbf7ccb8ce6">&#9670;&#160;</a></span>fill_subscription_cache_for_course()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::fill_subscription_cache_for_course </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$courseid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill the forum subscription data for all forums that the specified userid can subscribe to in the specified course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>The course to retrieve a cache for </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad999db27d8c5e1a0546aca156facf7c2" name="ad999db27d8c5e1a0546aca156facf7c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad999db27d8c5e1a0546aca156facf7c2">&#9670;&#160;</a></span>get_potential_subscribers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::get_potential_subscribers </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$groupid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em><span class="paramdefsep"> = </span><span class="paramdefval">''</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of potential subscribers to a forum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../db/db4/classcontext__module.html">context_module</a></td><td class="paramname">$context</td><td>the forum context. </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$groupid</td><td>the id of a group, or 0 for all groups. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>the list of fields to return for each user. As for get_users_by_capability. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>sort order. As for get_users_by_capability. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of users. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2317a09c954496470e89ea523e59e82e" name="a2317a09c954496470e89ea523e59e82e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2317a09c954496470e89ea523e59e82e">&#9670;&#160;</a></span>get_subscription_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::get_subscription_mode </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current subscription mode for the forum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The record of the forum to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The forum subscription mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac96f749d3a57351c6bf516f466a5d7ae" name="ac96f749d3a57351c6bf516f466a5d7ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96f749d3a57351c6bf516f466a5d7ae">&#9670;&#160;</a></span>get_unsubscribable_forums()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::get_unsubscribable_forums </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array of forums that the current user is subscribed to and is allowed to unsubscribe from. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of unsubscribable forums </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a05fa4d7c6bf238c2d5c380482acb3f27" name="a05fa4d7c6bf238c2d5c380482acb3f27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05fa4d7c6bf238c2d5c380482acb3f27">&#9670;&#160;</a></span>get_user_default_subscription()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::get_user_default_subscription </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$cm</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?int</td>          <td class="paramname"><span class="paramname"><em>$discussionid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the default subscription value for the logged in user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The forum record </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>The course context </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../df/db9/classcm__info.html">cm_info</a></td><td class="paramname">$cm</td><td><a class="el" href="../../df/db9/classcm__info.html">cm_info</a> </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$discussionid</td><td>The discussion we are checking against </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Default subscription </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a65d879630b156bbda348b0ec4e876af5" name="a65d879630b156bbda348b0ec4e876af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d879630b156bbda348b0ec4e876af5">&#9670;&#160;</a></span>is_forcesubscribed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::is_forcesubscribed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to determine whether a forum has it's subscription mode set to forced subscription. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The record of the forum to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a162e4df6e494a4925294715fe6cf5706" name="a162e4df6e494a4925294715fe6cf5706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a162e4df6e494a4925294715fe6cf5706">&#9670;&#160;</a></span>is_subscribable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::is_subscribable </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to determine whether the specified forum can be subscribed to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The record of the forum to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adcf3f3abb2349f789bef55c18cc61d97" name="adcf3f3abb2349f789bef55c18cc61d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcf3f3abb2349f789bef55c18cc61d97">&#9670;&#160;</a></span>is_subscribed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::is_subscribed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$discussionid</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$cm</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether a user is subscribed to this forum, or a discussion within the forum. </p>
<p>If a discussion is specified, then report whether the user is subscribed to posts to this particular discussion, taking into account the forum preference.</p>
<p>If it is not specified then only the forum preference is considered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The record of the forum to test </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$discussionid</td><td>The ID of the discussion to check </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">$cm</td><td>The coursemodule record. If not supplied, this will be calculated using get_fast_modinfo instead. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c04a19568f3050d3bbab9d08239ea40" name="a3c04a19568f3050d3bbab9d08239ea40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04a19568f3050d3bbab9d08239ea40">&#9670;&#160;</a></span>is_subscribed_to_forum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::is_subscribed_to_forum </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether a user is subscribed to this forum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The record of the forum to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa46f0727269ceca7a36e1ee47b61b56d" name="aa46f0727269ceca7a36e1ee47b61b56d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46f0727269ceca7a36e1ee47b61b56d">&#9670;&#160;</a></span>reset_discussion_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::reset_discussion_cache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the discussion cache. </p>
<p>This cache is used to reduce the number of database queries when checking forum discussion subscription states. </p>

</div>
</div>
<a id="a0bfb05ff320f08d8e88eaf28a09a40fe" name="a0bfb05ff320f08d8e88eaf28a09a40fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bfb05ff320f08d8e88eaf28a09a40fe">&#9670;&#160;</a></span>reset_forum_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::reset_forum_cache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the forum cache. </p>
<p>This cache is used to reduce the number of database queries when checking forum subscription states. </p>

</div>
</div>
<a id="a6c1cecffe6e74b851d97f66fce44efc6" name="a6c1cecffe6e74b851d97f66fce44efc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c1cecffe6e74b851d97f66fce44efc6">&#9670;&#160;</a></span>set_subscription_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::set_subscription_mode </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forumid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$status</em><span class="paramdefsep"> = </span><span class="paramdefval">1</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the forum subscription mode. </p>
<p>By default when called without options, this is set to FORUM_FORCESUBSCRIBE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The record of the forum to set </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$status</td><td>The new subscription state </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f37d2e7037abeb8170d1b55fbc35b6d" name="a2f37d2e7037abeb8170d1b55fbc35b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f37d2e7037abeb8170d1b55fbc35b6d">&#9670;&#160;</a></span>subscribe_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::subscribe_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userrequest</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds user to the subscriber list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The ID of the user to subscribe </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The forum record for this forum. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../db/db4/classcontext__module.html">context_module</a>&#160;|&#160;null</td><td class="paramname">$context</td><td>Module context, may be omitted if not known or if called for the current module set in page. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$userrequest</td><td>Whether the user requested this change themselves. This has an effect on whether discussion subscriptions are removed too. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|int</td><td>Returns true if the user is already subscribed, or the forum_subscriptions ID if the user was successfully subscribed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa400d39de761a0d0f2bfa636c13b617c" name="aa400d39de761a0d0f2bfa636c13b617c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa400d39de761a0d0f2bfa636c13b617c">&#9670;&#160;</a></span>subscribe_user_to_discussion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::subscribe_user_to_discussion </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$discussion</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribes the user to the specified discussion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The userid of the user being subscribed </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$discussion</td><td>The discussion to subscribe to </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../db/db4/classcontext__module.html">context_module</a>&#160;|&#160;null</td><td class="paramname">$context</td><td>Module context, may be omitted if not known or if called for the current module set in page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>Whether a change was made </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adba0a7957fcd5d8dfe7a853eedab36d2" name="adba0a7957fcd5d8dfe7a853eedab36d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba0a7957fcd5d8dfe7a853eedab36d2">&#9670;&#160;</a></span>subscription_disabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::subscription_disabled </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to determine whether a forum has it's subscription mode set to disabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The record of the forum to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9aa77a20936d0c9420dc3d284c5f3a65" name="a9aa77a20936d0c9420dc3d284c5f3a65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa77a20936d0c9420dc3d284c5f3a65">&#9670;&#160;</a></span>unsubscribe_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::unsubscribe_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forum</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userrequest</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes user from the subscriber list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The ID of the user to unsubscribe </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$forum</td><td>The forum record for this forum. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../db/db4/classcontext__module.html">context_module</a>&#160;|&#160;null</td><td class="paramname">$context</td><td>Module context, may be omitted if not known or if called for the current module set in page. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$userrequest</td><td>Whether the user requested this change themselves. This has an effect on whether discussion subscriptions are removed too. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>Always returns true. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a407b6a9865a5b85655620cf226e81987" name="a407b6a9865a5b85655620cf226e81987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a407b6a9865a5b85655620cf226e81987">&#9670;&#160;</a></span>unsubscribe_user_from_discussion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_forum\subscriptions::unsubscribe_user_from_discussion </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$discussion</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unsubscribes the user from the specified discussion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The userid of the user being unsubscribed </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$discussion</td><td>The discussion to unsubscribe from </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../db/db4/classcontext__module.html">context_module</a>&#160;|&#160;null</td><td class="paramname">$context</td><td>Module context, may be omitted if not known or if called for the current module set in page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>Whether a change was made </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a24268b6d2aa765fa17cc8e2e002747ae" name="a24268b6d2aa765fa17cc8e2e002747ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24268b6d2aa765fa17cc8e2e002747ae">&#9670;&#160;</a></span>$discussionfetchedforums</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool [] mod_forum\subscriptions::$discussionfetchedforums = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of forums which have been wholly retrieved for the forum discussion subscription cache. </p>
<p>This allows for prior caching of an entire forum to reduce the number of <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> queries in a subscription check loop. </p>

</div>
</div>
<a id="ab85a62b531f33620dcf9b50cddeb7808" name="ab85a62b531f33620dcf9b50cddeb7808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85a62b531f33620dcf9b50cddeb7808">&#9670;&#160;</a></span>$fetchedforums</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool [] mod_forum\subscriptions::$fetchedforums = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of forums which have been wholly retrieved for the forum subscription cache. </p>
<p>This allows for prior caching of an entire forum to reduce the number of <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> queries in a subscription check loop. </p>

</div>
</div>
<a id="ac78e126618ea208fba0deee48cfd0fd5" name="ac78e126618ea208fba0deee48cfd0fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78e126618ea208fba0deee48cfd0fd5">&#9670;&#160;</a></span>$forumcache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">array [] mod_forum\subscriptions::$forumcache = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The subscription cache for forums. </p>
<p>The first level key is the user ID The second level is the forum ID The Value then is bool for subscribed of not.</p>
<p>An array of arrays. </p>

</div>
</div>
<a id="a5f8658b207723d45ce05a8540244a9f0" name="a5f8658b207723d45ce05a8540244a9f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f8658b207723d45ce05a8540244a9f0">&#9670;&#160;</a></span>$forumdiscussioncache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">array [] mod_forum\subscriptions::$forumdiscussioncache = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The subscription cache for forum discussions. </p>
<p>The first level key is the user ID The second level is the forum ID The third level key is the discussion ID The value is then the users preference (int) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mod/forum/classes/<b>subscriptions.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 28 2024 02:29:21 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
