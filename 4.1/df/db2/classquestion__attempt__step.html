<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: question_attempt_step Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.10+ (Build: 20240516) (f7da739ea04)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d0/dcc/classquestion__attempt__step-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">question_attempt_step Class Reference<div class="ingroups"><a class="el" href="../../d6/d9f/group__moodlecore.html">moodlecore</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Stores one step in a {.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for question_attempt_step:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../df/db2/classquestion__attempt__step.png" usemap="#question_5Fattempt_5Fstep_map" alt=""/>
  <map id="question_5Fattempt_5Fstep_map" name="question_5Fattempt_5Fstep_map">
<area href="../../df/d48/classquestion__attempt__pending__step.html" title="A subclass of {." alt="question_attempt_pending_step" shape="rect" coords="0,56,257,80"/>
<area href="../../d7/d78/classquestion__attempt__step__read__only.html" title="A subclass of {." alt="question_attempt_step_read_only" shape="rect" coords="267,56,524,80"/>
<area href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html" title="This is an adapter class that wraps a {." alt="question_attempt_step_subquestion_adapter" shape="rect" coords="534,56,791,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0bddf286a76ceadbeb4e94c439b54aa7" id="r_a0bddf286a76ceadbeb4e94c439b54aa7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bddf286a76ceadbeb4e94c439b54aa7">__construct</a> ($data=array(), $timecreated=null, $userid=null, $existingstepid=null)</td></tr>
<tr class="memdesc:a0bddf286a76ceadbeb4e94c439b54aa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">You should not need to call this constructor in your own code.  <br /></td></tr>
<tr class="separator:a0bddf286a76ceadbeb4e94c439b54aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eac80372a163d127d5ff33d2d918e4d" id="r_a6eac80372a163d127d5ff33d2d918e4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6eac80372a163d127d5ff33d2d918e4d">add_full_user_object</a> (stdClass $user)</td></tr>
<tr class="memdesc:a6eac80372a163d127d5ff33d2d918e4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update full user information for step.  <br /></td></tr>
<tr class="separator:a6eac80372a163d127d5ff33d2d918e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad010cdb399dad1650ea8e286dbeb6b0c" id="r_ad010cdb399dad1650ea8e286dbeb6b0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad010cdb399dad1650ea8e286dbeb6b0c">get_all_data</a> ()</td></tr>
<tr class="memdesc:ad010cdb399dad1650ea8e286dbeb6b0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the data.  <br /></td></tr>
<tr class="separator:ad010cdb399dad1650ea8e286dbeb6b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68880d82944fb96dbda0f852fece6ec8" id="r_a68880d82944fb96dbda0f852fece6ec8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68880d82944fb96dbda0f852fece6ec8">get_behaviour_data</a> ()</td></tr>
<tr class="memdesc:a68880d82944fb96dbda0f852fece6ec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the behaviour variables.  <br /></td></tr>
<tr class="separator:a68880d82944fb96dbda0f852fece6ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e960f480a35a9898f4d07f01a166d7" id="r_aa7e960f480a35a9898f4d07f01a166d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7e960f480a35a9898f4d07f01a166d7">get_behaviour_var</a> ($name)</td></tr>
<tr class="separator:aa7e960f480a35a9898f4d07f01a166d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa264fc40696d4660d6fc6a6a1162af3" id="r_aaa264fc40696d4660d6fc6a6a1162af3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa264fc40696d4660d6fc6a6a1162af3">get_fraction</a> ()</td></tr>
<tr class="separator:aaa264fc40696d4660d6fc6a6a1162af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef2090b5e8e9141537c551dc61aed15" id="r_a1ef2090b5e8e9141537c551dc61aed15"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ef2090b5e8e9141537c551dc61aed15">get_id</a> ()</td></tr>
<tr class="separator:a1ef2090b5e8e9141537c551dc61aed15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055ae12fe8d24425365ae02780f869f1" id="r_a055ae12fe8d24425365ae02780f869f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a055ae12fe8d24425365ae02780f869f1">get_metadata_var</a> ($name)</td></tr>
<tr class="memdesc:a055ae12fe8d24425365ae02780f869f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a metadata variable.  <br /></td></tr>
<tr class="separator:a055ae12fe8d24425365ae02780f869f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf44da05f5609f664e1f43566f559a3" id="r_aabf44da05f5609f664e1f43566f559a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabf44da05f5609f664e1f43566f559a3">get_qt_data</a> ()</td></tr>
<tr class="memdesc:aabf44da05f5609f664e1f43566f559a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the question type variables.  <br /></td></tr>
<tr class="separator:aabf44da05f5609f664e1f43566f559a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec5e049fdc5b4857e6fd81ea64de51a" id="r_a8ec5e049fdc5b4857e6fd81ea64de51a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ec5e049fdc5b4857e6fd81ea64de51a">get_qt_files</a> ($name, $contextid)</td></tr>
<tr class="memdesc:a8ec5e049fdc5b4857e6fd81ea64de51a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the latest set of files for a particular question type variable of type <a class="el" href="../../d3/dda/classquestion__attempt.html#a739e341bbc011ebcc4e39ab8147e3a16" title="special value to indicate a response variable that is uploaded files.">question_attempt::PARAM_FILES</a>.  <br /></td></tr>
<tr class="separator:a8ec5e049fdc5b4857e6fd81ea64de51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0776b9d3e6076e4e4c5f1dbcdd293b74" id="r_a0776b9d3e6076e4e4c5f1dbcdd293b74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0776b9d3e6076e4e4c5f1dbcdd293b74">get_qt_var</a> ($name)</td></tr>
<tr class="separator:a0776b9d3e6076e4e4c5f1dbcdd293b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb154428270e11cf41bc2c443050262" id="r_a5fb154428270e11cf41bc2c443050262"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5fb154428270e11cf41bc2c443050262">get_state</a> ()</td></tr>
<tr class="separator:a5fb154428270e11cf41bc2c443050262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03064704316bad9c298486ddb97ad3cc" id="r_a03064704316bad9c298486ddb97ad3cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03064704316bad9c298486ddb97ad3cc">get_submitted_data</a> ()</td></tr>
<tr class="memdesc:a03064704316bad9c298486ddb97ad3cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the submitted data, but not the cached data.  <br /></td></tr>
<tr class="separator:a03064704316bad9c298486ddb97ad3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489f56bc68e30f9446fbcc276eae6380" id="r_a489f56bc68e30f9446fbcc276eae6380"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a489f56bc68e30f9446fbcc276eae6380">get_timecreated</a> ()</td></tr>
<tr class="separator:a489f56bc68e30f9446fbcc276eae6380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80be4e2f045ae2e46635e678b0b48948" id="r_a80be4e2f045ae2e46635e678b0b48948"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80be4e2f045ae2e46635e678b0b48948">get_user</a> ()</td></tr>
<tr class="memdesc:a80be4e2f045ae2e46635e678b0b48948"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the full user object.  <br /></td></tr>
<tr class="separator:a80be4e2f045ae2e46635e678b0b48948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14c42d1fa07f24a3ab15393649ade21" id="r_ab14c42d1fa07f24a3ab15393649ade21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab14c42d1fa07f24a3ab15393649ade21">get_user_fullname</a> ()</td></tr>
<tr class="memdesc:ab14c42d1fa07f24a3ab15393649ade21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get full name of user who did action.  <br /></td></tr>
<tr class="separator:ab14c42d1fa07f24a3ab15393649ade21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8169faf17d899aa6bfc556b37d3687" id="r_abc8169faf17d899aa6bfc556b37d3687"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc8169faf17d899aa6bfc556b37d3687">get_user_id</a> ()</td></tr>
<tr class="separator:abc8169faf17d899aa6bfc556b37d3687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f336a51fded3bac1d8f905ecd9e8678" id="r_a9f336a51fded3bac1d8f905ecd9e8678"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f336a51fded3bac1d8f905ecd9e8678">has_behaviour_var</a> ($name)</td></tr>
<tr class="separator:a9f336a51fded3bac1d8f905ecd9e8678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa686c83bf68dd59aae4e72d40accd528" id="r_aa686c83bf68dd59aae4e72d40accd528"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa686c83bf68dd59aae4e72d40accd528">has_metadata_var</a> ($name)</td></tr>
<tr class="memdesc:aa686c83bf68dd59aae4e72d40accd528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this step has a metadata variable.  <br /></td></tr>
<tr class="separator:aa686c83bf68dd59aae4e72d40accd528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f80d184cf51891d1e780aa85eba2d96" id="r_a1f80d184cf51891d1e780aa85eba2d96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f80d184cf51891d1e780aa85eba2d96">has_qt_var</a> ($name)</td></tr>
<tr class="separator:a1f80d184cf51891d1e780aa85eba2d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec30512ccfd394a2217e4f042bdaaaf" id="r_aaec30512ccfd394a2217e4f042bdaaaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaec30512ccfd394a2217e4f042bdaaaf">prepare_response_files_draft_itemid</a> ($name, $contextid)</td></tr>
<tr class="memdesc:aaec30512ccfd394a2217e4f042bdaaaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a draft file are for the files belonging the a response variable of this step.  <br /></td></tr>
<tr class="separator:aaec30512ccfd394a2217e4f042bdaaaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af12e7561a04c17a87e8598f0b1c8d90e" id="r_af12e7561a04c17a87e8598f0b1c8d90e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af12e7561a04c17a87e8598f0b1c8d90e">prepare_response_files_draft_itemid_with_text</a> ($name, $contextid, $text)</td></tr>
<tr class="memdesc:af12e7561a04c17a87e8598f0b1c8d90e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a draft file are for the files belonging the a response variable of this step, while rewriting the URLs in some text.  <br /></td></tr>
<tr class="separator:af12e7561a04c17a87e8598f0b1c8d90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3292024fa6d5c0f5f57fd6b7b2e645f" id="r_ac3292024fa6d5c0f5f57fd6b7b2e645f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3292024fa6d5c0f5f57fd6b7b2e645f">rewrite_response_pluginfile_urls</a> ($text, $contextid, $name, $extras)</td></tr>
<tr class="memdesc:ac3292024fa6d5c0f5f57fd6b7b2e645f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrite the @PLUGINFILE@ tokens in a response variable from this step that contains links to file.  <br /></td></tr>
<tr class="separator:ac3292024fa6d5c0f5f57fd6b7b2e645f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79278dca99d0af23065345d646eb82d6" id="r_a79278dca99d0af23065345d646eb82d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79278dca99d0af23065345d646eb82d6">set_behaviour_var</a> ($name, $<a class="el" href="../../d8/ded/group___simple_pie.html#gaefbfa229f1c9e1fc967bff724a010f9e">value</a>)</td></tr>
<tr class="memdesc:a79278dca99d0af23065345d646eb82d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a cached behaviour variable.  <br /></td></tr>
<tr class="separator:a79278dca99d0af23065345d646eb82d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390723584ad542507f6bc035e414b1b9" id="r_a390723584ad542507f6bc035e414b1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a390723584ad542507f6bc035e414b1b9">set_fraction</a> ($fraction)</td></tr>
<tr class="memdesc:a390723584ad542507f6bc035e414b1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the fraction.  <br /></td></tr>
<tr class="separator:a390723584ad542507f6bc035e414b1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af096aeb0330ae08fcbb32342e44ed838" id="r_af096aeb0330ae08fcbb32342e44ed838"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af096aeb0330ae08fcbb32342e44ed838">set_metadata_var</a> ($name, $<a class="el" href="../../d8/ded/group___simple_pie.html#gaefbfa229f1c9e1fc967bff724a010f9e">value</a>)</td></tr>
<tr class="memdesc:af096aeb0330ae08fcbb32342e44ed838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a metadata variable.  <br /></td></tr>
<tr class="separator:af096aeb0330ae08fcbb32342e44ed838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475c1cac7d43fefb3541242984cb56c1" id="r_a475c1cac7d43fefb3541242984cb56c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a475c1cac7d43fefb3541242984cb56c1">set_qt_var</a> ($name, $<a class="el" href="../../d8/ded/group___simple_pie.html#gaefbfa229f1c9e1fc967bff724a010f9e">value</a>)</td></tr>
<tr class="memdesc:a475c1cac7d43fefb3541242984cb56c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a cached question type variable.  <br /></td></tr>
<tr class="separator:a475c1cac7d43fefb3541242984cb56c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b3d708a2912c2493d24e2f376f83a2" id="r_ab1b3d708a2912c2493d24e2f376f83a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1b3d708a2912c2493d24e2f376f83a2">set_state</a> ($state)</td></tr>
<tr class="memdesc:ab1b3d708a2912c2493d24e2f376f83a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state.  <br /></td></tr>
<tr class="separator:ab1b3d708a2912c2493d24e2f376f83a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a51b41f06e97ee49afce2f6396d8b3c38" id="r_a51b41f06e97ee49afce2f6396d8b3c38"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51b41f06e97ee49afce2f6396d8b3c38">load_from_records</a> ($records, $attemptstepid, $qtype=null)</td></tr>
<tr class="memdesc:a51b41f06e97ee49afce2f6396d8b3c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a {.">question_attempt_step</a> from records loaded from the database.  <br /></td></tr>
<tr class="separator:a51b41f06e97ee49afce2f6396d8b3c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stores one step in a {. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a>}.</dd></dl>
<p>The most important attributes of a step are the state, which is one of the {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d5e/classquestion__state.html" title="An enumeration representing the states a question can be in after a question_attempt_step.">question_state</a>} constants, the fraction, which may be <a class="el" href="../../db/df6/namespacenull.html" title="&#160;">null</a>, or a number bewteen the attempt'<a class="el" href="../../d0/d4a/classs.html">s</a> minfraction and maxfraction, and the <a class="el" href="../../d7/df9/namespacearray.html" title="(&#39;&#39;) &#160;">array</a> of submitted data, about which more later.</dd></dl>
<p>A step also tracks the time it was created, and the user responsible for creating it.</p>
<p>The submitted data is basically just an array of name =&gt; value pairs, with certain conventions about the to divide the variables into five = 2 x 2 + 1 categories.</p>
<p>Variables may either belong to the behaviour, in which case the name starts with a '-', or they may belong to the question type in which case they name does not start with a '-'.</p>
<p>Second, variables may either be ones that came form the original request, in which case the name does not start with an _, or they are cached values that were created during processing, in which case the name does start with an _.</p>
<p>In addition, we can store 'metadata', typically only in the first step of a question attempt. These are stored with the initial characters ':_'.</p>
<p>That is, each name will start with one of '', '_', '-', '-_' or ':_'. The remainder of the name was supposed to match the regex [a-z][a-z0-9]* - but this has never been enforced. Question types exist which break this rule. E.g. qtype_combined. Perhpas now, an accurate regex would be [a-z][a-z0-9_:]*.</p>
<p>These variables can be accessed with {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa7e960f480a35a9898f4d07f01a166d7">get_behaviour_var()</a>} and {</dd>
<dd>
<a class="el" href="#a0776b9d3e6076e4e4c5f1dbcdd293b74">get_qt_var()</a>},<ul>
<li>to be <a class="el" href="../../dc/d71/group___imap___client.html#gac2a69841f294f9cc95deb919f217578d" title="Clear the cache.">clear</a>, -&gt;<a class="el" href="#aa7e960f480a35a9898f4d07f01a166d7">get_behaviour_var</a>('x') gets the variable with name '-x' - and values whose names start with '_' can be <a class="el" href="../../dc/d71/group___imap___client.html#ga0dae8e91a93f347875c2acc9129ae73b" title="Store information in cache.">set</a> using {</li>
</ul>
</dd>
<dd>
<a class="el" href="#a79278dca99d0af23065345d646eb82d6" title="Set a cached behaviour variable.">set_behaviour_var()</a>} and {</dd>
<dd>
<a class="el" href="#a475c1cac7d43fefb3541242984cb56c1" title="Set a cached question type variable.">set_qt_var()</a>}. There are some other methods like {</dd>
<dd>
<a class="el" href="#a9f336a51fded3bac1d8f905ecd9e8678">has_behaviour_var()</a>} to check wether a varaible with a particular name is <a class="el" href="../../dc/d71/group___imap___client.html#ga0dae8e91a93f347875c2acc9129ae73b" title="Store information in cache.">set</a>, and {</dd>
<dd>
<a class="el" href="#a68880d82944fb96dbda0f852fece6ec8" title="Get all the behaviour variables.">get_behaviour_data()</a>} to <a class="el" href="../../dc/d71/group___imap___client.html#gafcf303080696d20cffeed262f4ebc4bb" title="Get information from the cache.">get</a> all the behaviour data as an associative <a class="el" href="../../d7/df9/namespacearray.html" title="(&#39;&#39;) &#160;">array</a>. There are also {</dd>
<dd>
<a class="el" href="#a055ae12fe8d24425365ae02780f869f1" title="Get a metadata variable.">get_metadata_var()</a>}, {</dd>
<dd>
<a class="el" href="#af096aeb0330ae08fcbb32342e44ed838" title="Set a metadata variable.">set_metadata_var()</a>} and {</dd>
<dd>
<a class="el" href="#aa686c83bf68dd59aae4e72d40accd528" title="Whether this step has a metadata variable.">has_metadata_var()</a>},</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2009 The Open University </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0bddf286a76ceadbeb4e94c439b54aa7" name="a0bddf286a76ceadbeb4e94c439b54aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bddf286a76ceadbeb4e94c439b54aa7">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::__construct </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timecreated</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$existingstepid</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>You should not need to call this constructor in your own code. </p>
<p>Steps are normally created by {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dda/classquestion__attempt.html" title="Tracks an attempt at one particular question in a question_usage_by_activity.">question_attempt</a>} methods like {</dd>
<dd>
<a class="el" href="../../d3/dda/classquestion__attempt.html#a05656ac3bb4418bdec11cec8c3614583" title="Perform the action described by $submitteddata.">question_attempt::process_action()</a>}. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>the submitted data that defines this step. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timestamp</td><td>the time to record for the action. (If not given, use now.) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the user to attribute the aciton to. (If not given, use the current user.) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$existingstepid</td><td>if this step is going to replace an existing step (for example, during a regrade) this is the id of the previous step we are replacing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6eac80372a163d127d5ff33d2d918e4d" name="a6eac80372a163d127d5ff33d2d918e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eac80372a163d127d5ff33d2d918e4d">&#9670;&#160;</a></span>add_full_user_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::add_full_user_object </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$user</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update full user information for step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>Full user object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad010cdb399dad1650ea8e286dbeb6b0c" name="ad010cdb399dad1650ea8e286dbeb6b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad010cdb399dad1650ea8e286dbeb6b0c">&#9670;&#160;</a></span>get_all_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_all_data </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the data. </p>
<p>behaviour variables have the - at the start of their name. This is only intended for internal use, for example by {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d46/classquestion__engine__data__mapper.html#a234cdd22982a6062cd348a83df970bfa" title="Store a question_attempt_step in the database.">question_engine_data_mapper::insert_question_attempt_step()</a>}, however, it can occasionally be useful in test code. It should not be considered part of the public API of this class. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>name =&gt; value pairs. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a6038fc3144d5ba25d01092a15e2596ce">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a68880d82944fb96dbda0f852fece6ec8" name="a68880d82944fb96dbda0f852fece6ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68880d82944fb96dbda0f852fece6ec8">&#9670;&#160;</a></span>get_behaviour_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_behaviour_data </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the behaviour variables. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>name =&gt; value pairs. NOTE! the name has the leading - stripped off. (If you don't understand the note, read the comment at the top of this class :-)) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#af0142ad110a610c794235502068a6a78">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="aa7e960f480a35a9898f4d07f01a166d7" name="aa7e960f480a35a9898f4d07f01a166d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e960f480a35a9898f4d07f01a166d7">&#9670;&#160;</a></span>get_behaviour_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_behaviour_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of a behaviour variable to look for in the submitted data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the requested variable, or null if the variable is not set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a65aafcce30ec2086b5f7e52502493c73">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="aaa264fc40696d4660d6fc6a6a1162af3" name="aaa264fc40696d4660d6fc6a6a1162af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa264fc40696d4660d6fc6a6a1162af3">&#9670;&#160;</a></span>get_fraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_fraction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null|number</td><td>the fraction (grade on a scale of minfraction .. maxfraction, normally 0..1), or null if this step has not been marked. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a4200fe5655b1bfa154bdec82718d65e9">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a1ef2090b5e8e9141537c551dc61aed15" name="a1ef2090b5e8e9141537c551dc61aed15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef2090b5e8e9141537c551dc61aed15">&#9670;&#160;</a></span>get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_id </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|null</td><td>The id of this step in the database. null if this step is not stored in the database. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a055ae12fe8d24425365ae02780f869f1" name="a055ae12fe8d24425365ae02780f869f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055ae12fe8d24425365ae02780f869f1">&#9670;&#160;</a></span>get_metadata_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_metadata_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a metadata variable. </p>
<p>Do not call this method directly from your code. It is for internal use only. You should call {</p><dl class="section see"><dt>See also</dt><dd>question_usage::get_question_attempt_metadata()}.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. [a-z][a-z0-9]*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the value to set previously, or null if this variable was never set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aabf44da05f5609f664e1f43566f559a3" name="aabf44da05f5609f664e1f43566f559a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf44da05f5609f664e1f43566f559a3">&#9670;&#160;</a></span>get_qt_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_qt_data </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the question type variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>name =&gt; value pairs. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a9e4c668a8d0c8da6a81c1c0a43a420c1">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a8ec5e049fdc5b4857e6fd81ea64de51a" name="a8ec5e049fdc5b4857e6fd81ea64de51a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec5e049fdc5b4857e6fd81ea64de51a">&#9670;&#160;</a></span>get_qt_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_qt_files </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the latest set of files for a particular question type variable of type <a class="el" href="../../d3/dda/classquestion__attempt.html#a739e341bbc011ebcc4e39ab8147e3a16" title="special value to indicate a response variable that is uploaded files.">question_attempt::PARAM_FILES</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the associated variable. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>contextid of the question attempt </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of {</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>stored_files}. </dd></dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a115f6002f4d670c8522965c1588fb2f2">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a0776b9d3e6076e4e4c5f1dbcdd293b74" name="a0776b9d3e6076e4e4c5f1dbcdd293b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0776b9d3e6076e4e4c5f1dbcdd293b74">&#9670;&#160;</a></span>get_qt_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_qt_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of a question type variable to look for in the submitted data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the requested variable, or null if the variable is not set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#af3597fc707b18942af0e4a38251d14ba">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a5fb154428270e11cf41bc2c443050262" name="a5fb154428270e11cf41bc2c443050262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb154428270e11cf41bc2c443050262">&#9670;&#160;</a></span>get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_state </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d9/d5e/classquestion__state.html" title="An enumeration representing the states a question can be in after a question_attempt_step.">question_state</a></td><td>The state after this step. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a340de80554a096589c2bd6f2aa5302bc">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a03064704316bad9c298486ddb97ad3cc" name="a03064704316bad9c298486ddb97ad3cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03064704316bad9c298486ddb97ad3cc">&#9670;&#160;</a></span>get_submitted_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_submitted_data </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the submitted data, but not the cached data. </p>
<p>behaviour variables have the - at the start of their name. This is only really intended for use by {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dda/classquestion__attempt.html#a5adbdc63285deda9ac83b65f3eb3a168" title="Perform a regrade.">question_attempt::regrade()</a>}, it should not be considered part of the public API. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>name =&gt; value pairs. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a66403c109e7b6b72bf059663e69069e1">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a489f56bc68e30f9446fbcc276eae6380" name="a489f56bc68e30f9446fbcc276eae6380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a489f56bc68e30f9446fbcc276eae6380">&#9670;&#160;</a></span>get_timecreated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_timecreated </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the timestamp when this step was created. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a677617d5da2fe2325c4cc1aa4a33a34d">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a80be4e2f045ae2e46635e678b0b48948" name="a80be4e2f045ae2e46635e678b0b48948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80be4e2f045ae2e46635e678b0b48948">&#9670;&#160;</a></span>get_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_user </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the full user object. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>Get full user object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab14c42d1fa07f24a3ab15393649ade21" name="ab14c42d1fa07f24a3ab15393649ade21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14c42d1fa07f24a3ab15393649ade21">&#9670;&#160;</a></span>get_user_fullname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_user_fullname </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get full name of user who did action. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>full name of user. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc8169faf17d899aa6bfc556b37d3687" name="abc8169faf17d899aa6bfc556b37d3687"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8169faf17d899aa6bfc556b37d3687">&#9670;&#160;</a></span>get_user_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_user_id </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the id of the user resonsible for creating this step. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a4da79afa721d53ebdcfb5faa0e42bfea">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a9f336a51fded3bac1d8f905ecd9e8678" name="a9f336a51fded3bac1d8f905ecd9e8678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f336a51fded3bac1d8f905ecd9e8678">&#9670;&#160;</a></span>has_behaviour_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::has_behaviour_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of a behaviour variable to look for in the submitted data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether a variable with this name exists in the question type data. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ab1873e46e6c2bf2244c265a5eba6b9aa">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="aa686c83bf68dd59aae4e72d40accd528" name="aa686c83bf68dd59aae4e72d40accd528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa686c83bf68dd59aae4e72d40accd528">&#9670;&#160;</a></span>has_metadata_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::has_metadata_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this step has a metadata variable. </p>
<p>Do not call this method directly from your code. It is for internal use only. You should call {</p><dl class="section see"><dt>See also</dt><dd>question_usage::get_question_attempt_metadata()}.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. [a-z][a-z0-9]*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>the value to set previously, or null if this variable was never set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f80d184cf51891d1e780aa85eba2d96" name="a1f80d184cf51891d1e780aa85eba2d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f80d184cf51891d1e780aa85eba2d96">&#9670;&#160;</a></span>has_qt_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::has_qt_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of a question type variable to look for in the submitted data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether a variable with this name exists in the question type data. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a2264ada06b4cc1ae35f56e268e10bd1c">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a51b41f06e97ee49afce2f6396d8b3c38" name="a51b41f06e97ee49afce2f6396d8b3c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b41f06e97ee49afce2f6396d8b3c38">&#9670;&#160;</a></span>load_from_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static question_attempt_step::load_from_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$records</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptstepid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$qtype</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a {.">question_attempt_step</a> from records loaded from the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">Iterator</td><td class="paramname">$records</td><td>Raw records loaded from the database. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$stepid</td><td>The id of the records to extract. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$qtype</td><td>The question type of which this is an attempt. If not given, each record must include a qtype field. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a {.">question_attempt_step</a></td><td>The newly constructed <a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a {.">question_attempt_step</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaec30512ccfd394a2217e4f042bdaaaf" name="aaec30512ccfd394a2217e4f042bdaaaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaec30512ccfd394a2217e4f042bdaaaf">&#9670;&#160;</a></span>prepare_response_files_draft_itemid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::prepare_response_files_draft_itemid </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a draft file are for the files belonging the a response variable of this step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the variable name the files belong to. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>the id of the context the quba belongs to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the draft itemid. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ad317ab73f4d883155483839ac2059f36">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="af12e7561a04c17a87e8598f0b1c8d90e" name="af12e7561a04c17a87e8598f0b1c8d90e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af12e7561a04c17a87e8598f0b1c8d90e">&#9670;&#160;</a></span>prepare_response_files_draft_itemid_with_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::prepare_response_files_draft_itemid_with_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a draft file are for the files belonging the a response variable of this step, while rewriting the URLs in some text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the variable name the files belong to. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>the id of the context the quba belongs to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>the text to update the URLs in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array(int,string)</td><td>the draft itemid and the text with URLs rewritten. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ad0a105ca11dc2502b109d6f1e488f2e4">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="ac3292024fa6d5c0f5f57fd6b7b2e645f" name="ac3292024fa6d5c0f5f57fd6b7b2e645f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3292024fa6d5c0f5f57fd6b7b2e645f">&#9670;&#160;</a></span>rewrite_response_pluginfile_urls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::rewrite_response_pluginfile_urls </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extras</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rewrite the @PLUGINFILE@ tokens in a response variable from this step that contains links to file. </p>
<p>Normally you should probably call {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dda/classquestion__attempt.html#a90148e0178e3da06f11ba1a465e671f5" title="Calls question_rewrite_question_urls() with appropriate parameters for content belonging to responses...">question_attempt::rewrite_response_pluginfile_urls()</a>} instead of calling this method directly.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>the text to update the URLs in. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>the id of the context the quba belongs to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the variable name the files belong to. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extra</td><td>extra file path components. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the rewritten text. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a2738df6d00643cc8502e348c2403c40b">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a79278dca99d0af23065345d646eb82d6" name="a79278dca99d0af23065345d646eb82d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79278dca99d0af23065345d646eb82d6">&#9670;&#160;</a></span>set_behaviour_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::set_behaviour_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a cached behaviour variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. Must match _[a-z][a-z0-9]*. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>the value to set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d78/classquestion__attempt__step__read__only.html#a2ce40a3c65ed1c4af3975ca9c45f2d36">question_attempt_step_read_only</a>, and <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a80d369f1198cb60f3103a588abc027d3">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="a390723584ad542507f6bc035e414b1b9" name="a390723584ad542507f6bc035e414b1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390723584ad542507f6bc035e414b1b9">&#9670;&#160;</a></span>set_fraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::set_fraction </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fraction</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the fraction. </p>
<p>Normally only called by behaviours. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;number</td><td class="paramname">$fraction</td><td>the fraction to set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d78/classquestion__attempt__step__read__only.html#ae58a848d6239d08c15426743b39721dc">question_attempt_step_read_only</a>, and <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ab81853fc5ec7a7b7359f9c8cda5a5668">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="af096aeb0330ae08fcbb32342e44ed838" name="af096aeb0330ae08fcbb32342e44ed838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af096aeb0330ae08fcbb32342e44ed838">&#9670;&#160;</a></span>set_metadata_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::set_metadata_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a metadata variable. </p>
<p>Do not call this method directly from your code. It is for internal use only. You should call {</p><dl class="section see"><dt>See also</dt><dd>question_usage::set_question_attempt_metadata()}.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. [a-z][a-z0-9]*. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>the value to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a475c1cac7d43fefb3541242984cb56c1" name="a475c1cac7d43fefb3541242984cb56c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a475c1cac7d43fefb3541242984cb56c1">&#9670;&#160;</a></span>set_qt_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::set_qt_var </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a cached question type variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. Must match _[a-z][a-z0-9]*. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>the value to set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d78/classquestion__attempt__step__read__only.html#a6f014873613ec7b228cf41158a6c4df9">question_attempt_step_read_only</a>, and <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a5ab88e519124409eaf6a30f53f2b1c3a">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<a id="ab1b3d708a2912c2493d24e2f376f83a2" name="ab1b3d708a2912c2493d24e2f376f83a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1b3d708a2912c2493d24e2f376f83a2">&#9670;&#160;</a></span>set_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::set_state </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the state. </p>
<p>Normally only called by behaviours. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d9/d5e/classquestion__state.html" title="An enumeration representing the states a question can be in after a question_attempt_step.">question_state</a></td><td class="paramname">$state</td><td>one of the {</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d5e/classquestion__state.html" title="An enumeration representing the states a question can be in after a question_attempt_step.">question_state</a>} constants. </dd></dl>

<p>Reimplemented in <a class="el" href="../../d7/d78/classquestion__attempt__step__read__only.html#a6033c1b95cdd303753d21aa422c317eb">question_attempt_step_read_only</a>, and <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a61ea34660cb5c124612090462670b659">question_attempt_step_subquestion_adapter</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>question/engine/<b>questionattemptstep.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 19 2024 02:31:37 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
