<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: PhpXmlRpc\Wrapper Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.10+ (Build: 20240516) (f7da739ea04)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/dac/namespace_php_xml_rpc.html">PhpXmlRpc</a></li><li class="navelem"><a class="el" href="../../df/d84/class_php_xml_rpc_1_1_wrapper.html">Wrapper</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../d9/d02/class_php_xml_rpc_1_1_wrapper-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PhpXmlRpc\Wrapper Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>PHP-XMLRPC "wrapper" class - generate stubs to transparently access xmlrpc methods as php functions and vice-versa.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a52aa057a7a62f591ac4fff459e165459" id="r_a52aa057a7a62f591ac4fff459e165459"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52aa057a7a62f591ac4fff459e165459">buildWrapMethodSource</a> ($client, $methodName, array $extraOptions, $newFuncName, $mSig, $mDesc='')</td></tr>
<tr class="separator:a52aa057a7a62f591ac4fff459e165459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ce02fab481a868534832b9e4cd56d9" id="r_a31ce02fab481a868534832b9e4cd56d9"><td class="memItemLeft" align="right" valign="top"><a id="a31ce02fab481a868534832b9e4cd56d9" name="a31ce02fab481a868534832b9e4cd56d9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>getLogger</b> ()</td></tr>
<tr class="separator:a31ce02fab481a868534832b9e4cd56d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32b477d23f32918dc3c9f8040525435" id="r_ab32b477d23f32918dc3c9f8040525435"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab32b477d23f32918dc3c9f8040525435">php2XmlrpcType</a> ($phpType)</td></tr>
<tr class="memdesc:ab32b477d23f32918dc3c9f8040525435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a string defining a php type or phpxmlrpc type (loosely defined: strings accepted come from javadoc blocks), return corresponding phpxmlrpc type.  <br /></td></tr>
<tr class="separator:ab32b477d23f32918dc3c9f8040525435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a093eb3bc46bc895f9840954ec8aa0d3d" id="r_a093eb3bc46bc895f9840954ec8aa0d3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a093eb3bc46bc895f9840954ec8aa0d3d">wrapPhpClass</a> ($className, $extraOptions=array())</td></tr>
<tr class="memdesc:a093eb3bc46bc895f9840954ec8aa0d3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a user-defined PHP class or php object, map its methods onto a list of PHP 'wrapper' functions that can be exposed as xmlrpc methods from an xmlrpc server object and called from remote clients (as well as their corresponding signature info).  <br /></td></tr>
<tr class="separator:a093eb3bc46bc895f9840954ec8aa0d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73291db6d6867fd93f5f9144ceef41bf" id="r_a73291db6d6867fd93f5f9144ceef41bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73291db6d6867fd93f5f9144ceef41bf">wrapPhpFunction</a> ($callable, $newFuncName='', $extraOptions=array())</td></tr>
<tr class="memdesc:a73291db6d6867fd93f5f9144ceef41bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a user-defined PHP function, create a PHP 'wrapper' function that can be exposed as xmlrpc method from an xmlrpc server object and called from remote clients (as well as its corresponding signature info).  <br /></td></tr>
<tr class="separator:a73291db6d6867fd93f5f9144ceef41bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629ae546aa4c711687c299e2b0c65be0" id="r_a629ae546aa4c711687c299e2b0c65be0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a629ae546aa4c711687c299e2b0c65be0">wrapXmlrpcMethod</a> ($client, $methodName, $extraOptions=array())</td></tr>
<tr class="memdesc:a629ae546aa4c711687c299e2b0c65be0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an xmlrpc client and a method name, register a php wrapper function that will call it and return results using native php types for both params and results.  <br /></td></tr>
<tr class="separator:a629ae546aa4c711687c299e2b0c65be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb0d7e5efc8a9288520bc19a76071341" id="r_afb0d7e5efc8a9288520bc19a76071341"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb0d7e5efc8a9288520bc19a76071341">wrapXmlrpcServer</a> ($client, $extraOptions=array())</td></tr>
<tr class="memdesc:afb0d7e5efc8a9288520bc19a76071341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to wrapXmlrpcMethod, but will generate a php class that wraps all xmlrpc methods exposed by the remote server as own methods.  <br /></td></tr>
<tr class="separator:afb0d7e5efc8a9288520bc19a76071341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0b0250d8ab66cb93e8e7ee3aa86c91" id="r_a2c0b0250d8ab66cb93e8e7ee3aa86c91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c0b0250d8ab66cb93e8e7ee3aa86c91">xmlrpc2PhpType</a> ($xmlrpcType)</td></tr>
<tr class="memdesc:a2c0b0250d8ab66cb93e8e7ee3aa86c91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a string defining a phpxmlrpc type return the corresponding php type.  <br /></td></tr>
<tr class="separator:a2c0b0250d8ab66cb93e8e7ee3aa86c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5d162c777af678f608d6d6ba47e0e8e6" id="r_a5d162c777af678f608d6d6ba47e0e8e6"><td class="memItemLeft" align="right" valign="top"><a id="a5d162c777af678f608d6d6ba47e0e8e6" name="a5d162c777af678f608d6d6ba47e0e8e6"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>setLogger</b> ($logger)</td></tr>
<tr class="separator:a5d162c777af678f608d6d6ba47e0e8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:adbb9929e270b74589d53a4e3f5a1445b" id="r_adbb9929e270b74589d53a4e3f5a1445b"><td class="memItemLeft" align="right" valign="top"><a id="adbb9929e270b74589d53a4e3f5a1445b" name="adbb9929e270b74589d53a4e3f5a1445b"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>$objHolder</b> = array()</td></tr>
<tr class="memdesc:adbb9929e270b74589d53a4e3f5a1445b"><td class="mdescLeft">&#160;</td><td class="mdescRight">used to hold a reference to object instances whose methods get wrapped by wrapPhpFunction(), in 'create source' mode <br /></td></tr>
<tr class="separator:adbb9929e270b74589d53a4e3f5a1445b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad4975046f22e697403ad3b5c367d326c" id="r_ad4975046f22e697403ad3b5c367d326c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4975046f22e697403ad3b5c367d326c">buildClientWrapperCode</a> ($client, $verbatimClientCopy, $prefix='xmlrpc', $namespace='\\PhpXmlRpc\\')</td></tr>
<tr class="memdesc:ad4975046f22e697403ad3b5c367d326c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given necessary info, generate php code that will build a client object just like the given one.  <br /></td></tr>
<tr class="separator:ad4975046f22e697403ad3b5c367d326c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749b168fd476b1c9247745bd32ea73b2" id="r_a749b168fd476b1c9247745bd32ea73b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a749b168fd476b1c9247745bd32ea73b2">buildMethodSignatures</a> ($funcDesc)</td></tr>
<tr class="memdesc:a749b168fd476b1c9247745bd32ea73b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the method description given by introspection, create method signature data.  <br /></td></tr>
<tr class="separator:a749b168fd476b1c9247745bd32ea73b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b7aa8749a3f5d7fc603a22eafe4f2e" id="r_af2b7aa8749a3f5d7fc603a22eafe4f2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2b7aa8749a3f5d7fc603a22eafe4f2e">buildWrapFunctionClosure</a> ($callable, $extraOptions, $plainFuncName, $funcDesc)</td></tr>
<tr class="memdesc:af2b7aa8749a3f5d7fc603a22eafe4f2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a closure that will execute $callable.  <br /></td></tr>
<tr class="separator:af2b7aa8749a3f5d7fc603a22eafe4f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86da2298be48ccc0d232a5537f8f522f" id="r_a86da2298be48ccc0d232a5537f8f522f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86da2298be48ccc0d232a5537f8f522f">buildWrapFunctionSource</a> ($callable, $newFuncName, $extraOptions, $plainFuncName, $funcDesc)</td></tr>
<tr class="separator:a86da2298be48ccc0d232a5537f8f522f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21aa34408791a1c3076c25f4d5aec654" id="r_a21aa34408791a1c3076c25f4d5aec654"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21aa34408791a1c3076c25f4d5aec654">buildWrapMethodClosure</a> ($client, $methodName, array $extraOptions, $mSig)</td></tr>
<tr class="separator:a21aa34408791a1c3076c25f4d5aec654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9c661b14c2a43d9c6ece2e2f16ae08" id="r_a3e9c661b14c2a43d9c6ece2e2f16ae08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e9c661b14c2a43d9c6ece2e2f16ae08">generateMethodNameForClassMethod</a> ($className, $classMethod, $extraOptions=array())</td></tr>
<tr class="separator:a3e9c661b14c2a43d9c6ece2e2f16ae08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a171323f519d129e40ff6338e6691845d" id="r_a171323f519d129e40ff6338e6691845d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a171323f519d129e40ff6338e6691845d">introspectFunction</a> ($callable, $plainFuncName)</td></tr>
<tr class="memdesc:a171323f519d129e40ff6338e6691845d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Introspect a php callable and its phpdoc block and extract information about its signature.  <br /></td></tr>
<tr class="separator:a171323f519d129e40ff6338e6691845d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a3fd38f95a46eeabec3d4fee5c9736" id="r_a27a3fd38f95a46eeabec3d4fee5c9736"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27a3fd38f95a46eeabec3d4fee5c9736">newFunctionName</a> ($callable, $newFuncName, $extraOptions)</td></tr>
<tr class="memdesc:a27a3fd38f95a46eeabec3d4fee5c9736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a name for a new function, based on $callable, insuring its uniqueness.  <br /></td></tr>
<tr class="separator:a27a3fd38f95a46eeabec3d4fee5c9736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756ca7fa2196bed8001cb1cf6753bb47" id="r_a756ca7fa2196bed8001cb1cf6753bb47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a756ca7fa2196bed8001cb1cf6753bb47">retrieveMethodHelp</a> ($client, $methodName, array $extraOptions=array())</td></tr>
<tr class="separator:a756ca7fa2196bed8001cb1cf6753bb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f24b4d66ad64295ec414bee8f94dd84" id="r_a4f24b4d66ad64295ec414bee8f94dd84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f24b4d66ad64295ec414bee8f94dd84">retrieveMethodSignature</a> ($client, $methodName, array $extraOptions=array())</td></tr>
<tr class="memdesc:a4f24b4d66ad64295ec414bee8f94dd84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves an xmlrpc method signature from a server which supports system.methodSignature.  <br /></td></tr>
<tr class="separator:a4f24b4d66ad64295ec414bee8f94dd84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a7f26cfd3890ebbfa278a0005916490f9" id="r_a7f26cfd3890ebbfa278a0005916490f9"><td class="memItemLeft" align="right" valign="top"><a id="a7f26cfd3890ebbfa278a0005916490f9" name="a7f26cfd3890ebbfa278a0005916490f9"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>$logger</b></td></tr>
<tr class="separator:a7f26cfd3890ebbfa278a0005916490f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PHP-XMLRPC "wrapper" class - generate stubs to transparently access xmlrpc methods as php functions and vice-versa. </p>
<p>Note: this class implements the PROXY pattern, but it is not named so to avoid confusion with http proxies.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000198">Todo</a></b></dt><dd><p class="startdd">use some better templating system for code generation? </p>
<p class="interdd">implement method wrapping with preservation of php objs in calls </p>
<p class="interdd">when wrapping methods without obj rebuilding, use return_type = 'phpvals' (faster) </p>
<p class="interdd">add support for 'epivals' mode </p>
<p class="enddd">allow setting custom namespace for generated wrapping code </p>
</dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad4975046f22e697403ad3b5c367d326c" name="ad4975046f22e697403ad3b5c367d326c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4975046f22e697403ad3b5c367d326c">&#9670;&#160;</a></span>buildClientWrapperCode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::buildClientWrapperCode </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$verbatimClientCopy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$prefix</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'xmlrpc'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$namespace</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'\\PhpXmlRpc\\'</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given necessary info, generate php code that will build a client object just like the given one. </p>
<p>Take care that no full checking of input parameters is done to ensure that valid php code is emitted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d7a/class_client.html">Client</a></td><td class="paramname">$client</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$verbatimClientCopy</td><td>when true, copy all of the state of the client, except for 'debug' and 'return_type' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$prefix</td><td>used for the return_type of the created client </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$namespace</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a749b168fd476b1c9247745bd32ea73b2" name="a749b168fd476b1c9247745bd32ea73b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749b168fd476b1c9247745bd32ea73b2">&#9670;&#160;</a></span>buildMethodSignatures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::buildMethodSignatures </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$funcDesc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given the method description given by introspection, create method signature data. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000201">Todo</a></b></dt><dd>support better docs with multiple types separated by pipes by creating multiple signatures (this is questionable, as it might produce a big matrix of possible signatures with many such occurrences)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$funcDesc</td><td>as generated by self\introspectFunction()</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af2b7aa8749a3f5d7fc603a22eafe4f2e" name="af2b7aa8749a3f5d7fc603a22eafe4f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2b7aa8749a3f5d7fc603a22eafe4f2e">&#9670;&#160;</a></span>buildWrapFunctionClosure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::buildWrapFunctionClosure </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$callable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$plainFuncName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$funcDesc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a closure that will execute $callable. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000202">Todo</a></b></dt><dd><p class="startdd">validate params? In theory all validation is left to the dispatch map... </p>
<p class="enddd">add support for $catchWarnings</p>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$callable</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$plainFuncName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$funcDesc</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Closure</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a86da2298be48ccc0d232a5537f8f522f" name="a86da2298be48ccc0d232a5537f8f522f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86da2298be48ccc0d232a5537f8f522f">&#9670;&#160;</a></span>buildWrapFunctionSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::buildWrapFunctionSource </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$callable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newFuncName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$plainFuncName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$funcDesc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$callable</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newFuncName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$plainFuncName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$funcDesc</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000203">Todo</a></b></dt><dd>add a nice phpdoc block in the generated source </dd></dl>

</div>
</div>
<a id="a21aa34408791a1c3076c25f4d5aec654" name="a21aa34408791a1c3076c25f4d5aec654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21aa34408791a1c3076c25f4d5aec654">&#9670;&#160;</a></span>buildWrapMethodClosure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::buildWrapMethodClosure </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$methodName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mSig</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d7a/class_client.html">Client</a></td><td class="paramname">$client</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$methodName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$mSig</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Closure</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000205">Todo</a></b></dt><dd>should we allow usage of parameter simple_client_copy to mean 'do not clone' in this case? </dd></dl>

</div>
</div>
<a id="a52aa057a7a62f591ac4fff459e165459" name="a52aa057a7a62f591ac4fff459e165459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52aa057a7a62f591ac4fff459e165459">&#9670;&#160;</a></span>buildWrapMethodSource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::buildWrapMethodSource </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$methodName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newFuncName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mSig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$mDesc</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d7a/class_client.html">Client</a></td><td class="paramname">$client</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$methodName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newFuncName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$mSig</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mDesc</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string[]</td><td>keys: source, docstring </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e9c661b14c2a43d9c6ece2e2f16ae08" name="a3e9c661b14c2a43d9c6ece2e2f16ae08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e9c661b14c2a43d9c6ece2e2f16ae08">&#9670;&#160;</a></span>generateMethodNameForClassMethod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::generateMethodNameForClassMethod </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$className</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$classMethod</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;object</td><td class="paramname">$className</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$classMethod</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a171323f519d129e40ff6338e6691845d" name="a171323f519d129e40ff6338e6691845d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a171323f519d129e40ff6338e6691845d">&#9670;&#160;</a></span>introspectFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::introspectFunction </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$callable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$plainFuncName</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Introspect a php callable and its phpdoc block and extract information about its signature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">callable</td><td class="paramname">$callable</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$plainFuncName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|false</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27a3fd38f95a46eeabec3d4fee5c9736" name="a27a3fd38f95a46eeabec3d4fee5c9736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a3fd38f95a46eeabec3d4fee5c9736">&#9670;&#160;</a></span>newFunctionName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::newFunctionName </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$callable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newFuncName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a name for a new function, based on $callable, insuring its uniqueness. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$callable</td><td>a php callable, or the name of an xmlrpc method </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newFuncName</td><td>when not empty, it is used instead of the calculated version </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab32b477d23f32918dc3c9f8040525435" name="ab32b477d23f32918dc3c9f8040525435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab32b477d23f32918dc3c9f8040525435">&#9670;&#160;</a></span>php2XmlrpcType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::php2XmlrpcType </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$phpType</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a string defining a php type or phpxmlrpc type (loosely defined: strings accepted come from javadoc blocks), return corresponding phpxmlrpc type. </p>
<p>Notes:</p><ul>
<li>for php 'resource' types returns empty string, since resources cannot be serialized;</li>
<li>for php class names returns 'struct', since php objects can be serialized as xmlrpc structs</li>
<li>for php arrays always return array, even though arrays sometimes serialize as structs...</li>
<li>for 'void' and 'null' returns 'undefined'</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$phpType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000199">Todo</a></b></dt><dd>support notation <code>something[]</code> as 'array' </dd></dl>

</div>
</div>
<a id="a756ca7fa2196bed8001cb1cf6753bb47" name="a756ca7fa2196bed8001cb1cf6753bb47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a756ca7fa2196bed8001cb1cf6753bb47">&#9670;&#160;</a></span>retrieveMethodHelp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::retrieveMethodHelp </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$methodName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d7a/class_client.html">Client</a></td><td class="paramname">$client</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$methodName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>in case of any error, an empty string is returned, no warnings generated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f24b4d66ad64295ec414bee8f94dd84" name="a4f24b4d66ad64295ec414bee8f94dd84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f24b4d66ad64295ec414bee8f94dd84">&#9670;&#160;</a></span>retrieveMethodSignature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::retrieveMethodSignature </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$methodName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves an xmlrpc method signature from a server which supports system.methodSignature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d7a/class_client.html">Client</a></td><td class="paramname">$client</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$methodName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false|array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a093eb3bc46bc895f9840954ec8aa0d3d" name="a093eb3bc46bc895f9840954ec8aa0d3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a093eb3bc46bc895f9840954ec8aa0d3d">&#9670;&#160;</a></span>wrapPhpClass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::wrapPhpClass </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$className</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a user-defined PHP class or php object, map its methods onto a list of PHP 'wrapper' functions that can be exposed as xmlrpc methods from an xmlrpc server object and called from remote clients (as well as their corresponding signature info). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;object</td><td class="paramname">$className</td><td>the name of the class whose methods are to be exposed as xmlrpc methods, or an object instance of that class </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td>see the docs for wrapPhpMethod for basic options, plus<ul>
<li>string method_type 'static', 'nonstatic', 'all' and 'auto' (default); the latter will switch between static and non-static depending on whether $className is a class name or object instance</li>
<li>string method_filter a regexp used to filter methods to wrap based on their names</li>
<li>string prefix used for the names of the xmlrpc methods created.</li>
<li>string replace_class_name use to completely replace the class name with the prefix in the generated method names. e.g. instead of Some\Namespace\Class.method use prefixmethod </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|false</td><td>false on failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a73291db6d6867fd93f5f9144ceef41bf" name="a73291db6d6867fd93f5f9144ceef41bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73291db6d6867fd93f5f9144ceef41bf">&#9670;&#160;</a></span>wrapPhpFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::wrapPhpFunction </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$callable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newFuncName</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a user-defined PHP function, create a PHP 'wrapper' function that can be exposed as xmlrpc method from an xmlrpc server object and called from remote clients (as well as its corresponding signature info). </p>
<p>Since php is a typeless language, to infer types of input and output parameters, it relies on parsing the javadoc-style comment block associated with the given function. Usage of xmlrpc native types (such as datetime.dateTime.iso8601 and base64) in the '</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">'</td><td>tag is also allowed, if you need the php function to receive/send data in that particular format (note that base64 encoding/decoding is transparently carried out by the lib, while datetime vals are passed around as strings)</td></tr>
  </table>
  </dd>
</dl>
<p>Known limitations:</p><ul>
<li>only works for user-defined functions, not for PHP internal functions (reflection does not support retrieving number/type of params for those)</li>
<li>functions returning php objects will generate special structs in xmlrpc responses: when the xmlrpc decoding of those responses is carried out by this same lib, using the appropriate param in php_xmlrpc_decode, the php objects will be rebuilt. In short: php objects can be serialized, too (except for their resource members), using this function. Other libs might choke on the very same xml that will be generated in this case (i.e. it has a nonstandard attribute on struct element tags)</li>
</ul>
<p>Note that since rel. 2.0RC3 the preferred method to have the server call 'standard' php functions (ie. functions not expecting a single Request obj as parameter) is by making use of the functions_parameters_type class member.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">callable</td><td class="paramname">$callable</td><td>the PHP user function to be exposed as xmlrpc method/ a closure, function name, array($obj, 'methodname') or array('class', 'methodname') are ok </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newFuncName</td><td>(optional) name for function to be created. Used only when return_source in $extraOptions is true </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td>(optional) array of options for conversion. valid values include:<ul>
<li>bool return_source when true, php code w. function definition will be returned, instead of a closure</li>
<li>bool encode_php_objs let php objects be sent to server using the 'improved' xmlrpc notation, so server can deserialize them as php objects</li>
<li>bool decode_php_objs &mdash; WARNING !!! possible security hazard. only use it with trusted servers &mdash;</li>
<li>bool suppress_warnings remove from produced xml any warnings generated at runtime by the php function being invoked</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|false</td><td>false on error, or an array containing the name of the new php function, its signature and docs, to be used in the server dispatch map</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000200">Todo</a></b></dt><dd><p class="startdd">decide how to deal with params passed by ref in function definition: bomb out or allow? </p>
<p class="interdd">finish using phpdoc info to build method sig if all params are named but out of order </p>
<p class="interdd">add a check for params of 'resource' type </p>
<p class="interdd">add some trigger_errors / error_log when returning false? </p>
<p class="interdd">what to do when the PHP function returns NULL? We are currently returning an empty string value... </p>
<p class="interdd">add an option to suppress php warnings in invocation of user function, similar to server debug level 3? </p>
<p class="interdd">add a verbatim_object_copy parameter to allow avoiding usage the same obj instance? </p>
<p class="enddd">add an option to allow generated function to skip validation of number of parameters, as that is done by the server anyway </p>
</dd></dl>

</div>
</div>
<a id="a629ae546aa4c711687c299e2b0c65be0" name="a629ae546aa4c711687c299e2b0c65be0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629ae546aa4c711687c299e2b0c65be0">&#9670;&#160;</a></span>wrapXmlrpcMethod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::wrapXmlrpcMethod </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$methodName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given an xmlrpc client and a method name, register a php wrapper function that will call it and return results using native php types for both params and results. </p>
<p>The generated php function will return a Response object for failed xmlrpc calls.</p>
<p>Known limitations:</p><ul>
<li>server must support system.methodsignature for the wanted xmlrpc method</li>
<li>for methods that expose many signatures, only one can be picked (we could in principle check if signatures differ only by number of params and not by type, but it would be more complication than we can spare time)</li>
<li>nested xmlrpc params: the caller of the generated php function has to encode on its own the params passed to the php function if these are structs or arrays whose (sub)members include values of type datetime or base64</li>
</ul>
<p>Notes: the connection properties of the given client will be copied and reused for the connection used during the call to the generated php function. Calling the generated php function 'might' be slow: a new xmlrpc client is created on every invocation and an xmlrpc-connection opened+closed. An extra 'debug' param is appended to param list of xmlrpc method, useful for debugging purposes.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000204">Todo</a></b></dt><dd><p class="startdd">allow caller to give us the method signature instead of querying for it, or just say 'skip it' </p>
<p class="interdd">if we can not retrieve method signature, create a php function with varargs </p>
<p class="interdd">allow the created function to throw exceptions on method calls failures </p>
<p class="enddd">if caller did not specify a specific sig, shall we support all of them? It might be hard (hence slow) to match based on type and number of arguments...</p>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d7a/class_client.html">Client</a></td><td class="paramname">$client</td><td>an xmlrpc client set up correctly to communicate with target server </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$methodName</td><td>the xmlrpc method to be mapped to a php function </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td>array of options that specify conversion details. Valid options include<ul>
<li>integer signum the index of the method signature to use in mapping (if method exposes many sigs)</li>
<li>integer timeout timeout (in secs) to be used when executing function/calling remote method</li>
<li>string protocol 'http' (default), 'http11' or 'https'</li>
<li>string new_function_name the name of php function to create, when return_source is used. If unspecified, lib will pick an appropriate name</li>
<li>string return_source if true return php code w. function definition instead of function itself (closure)</li>
<li>bool encode_php_objs let php objects be sent to server using the 'improved' xmlrpc notation, so server can deserialize them as php objects</li>
<li>bool decode_php_objs &mdash; WARNING !!! possible security hazard. only use it with trusted servers &mdash;</li>
<li>mixed return_on_fault a php value to be returned when the xmlrpc call fails/returns a fault response (by default the Response object is returned in this case). If a string is used, 'faultCode' and 'faultString' tokens will be substituted with actual error values</li>
<li>bool debug set it to 1 or 2 to see debug results of querying server for method synopsis</li>
<li>int simple_client_copy set it to 1 to have a lightweight copy of the $client object made in the generated code (only used when return_source = true)</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">closure|string[]|false</td><td>false on failure, closure by default and array for return_source = true </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb0d7e5efc8a9288520bc19a76071341" name="afb0d7e5efc8a9288520bc19a76071341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb0d7e5efc8a9288520bc19a76071341">&#9670;&#160;</a></span>wrapXmlrpcServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::wrapXmlrpcServer </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$client</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$extraOptions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to wrapXmlrpcMethod, but will generate a php class that wraps all xmlrpc methods exposed by the remote server as own methods. </p>
<p>For more details see wrapXmlrpcMethod.</p>
<p>For a slimmer alternative, see the code in demo/client/proxy.php</p>
<p>Note that unlike wrapXmlrpcMethod, we always have to generate php code here. It seems that php 7 will have anon classes...</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d7a/class_client.html">Client</a></td><td class="paramname">$client</td><td>the client obj all set to query the desired server </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extraOptions</td><td>list of options for wrapped code. See the ones from wrapXmlrpcMethod plus<ul>
<li>string method_filter regular expression</li>
<li>string new_class_name</li>
<li>string prefix</li>
<li>bool simple_client_copy set it to true to avoid copying all properties of $client into the copy made in the new class</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>false on error, the name of the created class if all ok or an array with code, class name and comments (if the appropriate option is set in extra_options) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c0b0250d8ab66cb93e8e7ee3aa86c91" name="a2c0b0250d8ab66cb93e8e7ee3aa86c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c0b0250d8ab66cb93e8e7ee3aa86c91">&#9670;&#160;</a></span>xmlrpc2PhpType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PhpXmlRpc\Wrapper::xmlrpc2PhpType </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xmlrpcType</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a string defining a phpxmlrpc type return the corresponding php type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$xmlrpcType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/phpxmlrpc/<b>Wrapper.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 26 2024 02:36:06 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
