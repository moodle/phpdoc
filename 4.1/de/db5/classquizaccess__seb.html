<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: quizaccess_seb Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.10 (Build: 20240422) (e8d03fdae4e)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d6/d5a/classquizaccess__seb-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">quizaccess_seb Class Reference<div class="ingroups"><a class="el" href="../../d0/dda/group__quizaccess__seb.html">quizaccess_seb</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the <a class="el" href="../../de/db5/classquizaccess__seb.html" title="Implementation of the quizaccess_seb plugin.">quizaccess_seb</a> plugin.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for quizaccess_seb:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../de/db5/classquizaccess__seb.png" usemap="#quizaccess_5Fseb_map" alt=""/>
  <map id="quizaccess_5Fseb_map" name="quizaccess_5Fseb_map">
<area href="../../d7/def/classquiz__access__rule__base.html" title="A base class that defines the interface for the various quiz access rules." alt="quiz_access_rule_base" shape="rect" coords="0,0,144,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac544ff86a9dc3cc57c507caad25dcc04" id="r_ac544ff86a9dc3cc57c507caad25dcc04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac544ff86a9dc3cc57c507caad25dcc04">__construct</a> (<a class="el" href="../../dc/d8f/classquiz.html">quiz</a> $quizobj, int $timenow, <a class="el" href="../../db/d1b/classquizaccess__seb_1_1access__manager.html">access_manager</a> $accessmanager)</td></tr>
<tr class="memdesc:ac544ff86a9dc3cc57c507caad25dcc04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an instance of this rule for a particular quiz.  <br /></td></tr>
<tr class="separator:ac544ff86a9dc3cc57c507caad25dcc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf41b911a119407cdd700d2e68ddfcf" id="r_afaf41b911a119407cdd700d2e68ddfcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#afaf41b911a119407cdd700d2e68ddfcf">add_preflight_check_form_fields</a> (<a class="el" href="../../db/dfd/classmod__quiz__preflight__check__form.html">mod_quiz_preflight_check_form</a> $quizform, <a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a> $mform, $attemptid)</td></tr>
<tr class="memdesc:afaf41b911a119407cdd700d2e68ddfcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add any field you want to pre-flight check form.  <br /></td></tr>
<tr class="separator:afaf41b911a119407cdd700d2e68ddfcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a083cd88481dda5dad7f567986eb89a33" id="r_a083cd88481dda5dad7f567986eb89a33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a083cd88481dda5dad7f567986eb89a33">attempt_must_be_in_popup</a> ()</td></tr>
<tr class="separator:a083cd88481dda5dad7f567986eb89a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0837b80459474f1219be80b015ce6b" id="r_acf0837b80459474f1219be80b015ce6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf0837b80459474f1219be80b015ce6b">current_attempt_finished</a> ()</td></tr>
<tr class="memdesc:acf0837b80459474f1219be80b015ce6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called when the current attempt at the quiz is finished.  <br /></td></tr>
<tr class="separator:acf0837b80459474f1219be80b015ce6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbb05d817a94faf85a2d6a2a540d773" id="r_a8dbb05d817a94faf85a2d6a2a540d773"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8dbb05d817a94faf85a2d6a2a540d773">description</a> ()</td></tr>
<tr class="memdesc:a8dbb05d817a94faf85a2d6a2a540d773"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information, such as might be shown on the quiz view page, relating to this restriction.  <br /></td></tr>
<tr class="separator:a8dbb05d817a94faf85a2d6a2a540d773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c140731290970245e49ea8331b07974" id="r_a8c140731290970245e49ea8331b07974"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a8c140731290970245e49ea8331b07974">end_time</a> ($attempt)</td></tr>
<tr class="memdesc:a8c140731290970245e49ea8331b07974"><td class="mdescLeft">&#160;</td><td class="mdescRight">If, because of this rule, the user has to finish their attempt by a certain time, you should override this method to return the attempt end time.  <br /></td></tr>
<tr class="separator:a8c140731290970245e49ea8331b07974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab465ea72926529536d1e110e57720819" id="r_ab465ea72926529536d1e110e57720819"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#ab465ea72926529536d1e110e57720819">get_popup_options</a> ()</td></tr>
<tr class="separator:ab465ea72926529536d1e110e57720819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811e856f89fc3b242e891ad9fa63c638" id="r_a811e856f89fc3b242e891ad9fa63c638"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a811e856f89fc3b242e891ad9fa63c638">get_superceded_rules</a> ()</td></tr>
<tr class="memdesc:a811e856f89fc3b242e891ad9fa63c638"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is possible for one rule to override other rules.  <br /></td></tr>
<tr class="separator:a811e856f89fc3b242e891ad9fa63c638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6111ad32d1e7c88f00d8cde85627e6a" id="r_ad6111ad32d1e7c88f00d8cde85627e6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#ad6111ad32d1e7c88f00d8cde85627e6a">is_finished</a> ($numprevattempts, $lastattempt)</td></tr>
<tr class="memdesc:ad6111ad32d1e7c88f00d8cde85627e6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this rule can determine that this user will never be allowed another attempt at this quiz, then return true.  <br /></td></tr>
<tr class="separator:ad6111ad32d1e7c88f00d8cde85627e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3861e6df1c31a0edb999ada794ee38b6" id="r_a3861e6df1c31a0edb999ada794ee38b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a3861e6df1c31a0edb999ada794ee38b6">is_preflight_check_required</a> ($attemptid)</td></tr>
<tr class="separator:a3861e6df1c31a0edb999ada794ee38b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a51243db069c92df5ba9dc6280fe566" id="r_a0a51243db069c92df5ba9dc6280fe566"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a0a51243db069c92df5ba9dc6280fe566">notify_preflight_check_passed</a> ($attemptid)</td></tr>
<tr class="memdesc:a0a51243db069c92df5ba9dc6280fe566"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pre-flight check has passed.  <br /></td></tr>
<tr class="separator:a0a51243db069c92df5ba9dc6280fe566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcfb66fbe42005ddc540c118b2c43688" id="r_afcfb66fbe42005ddc540c118b2c43688"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcfb66fbe42005ddc540c118b2c43688">prevent_access</a> ()</td></tr>
<tr class="memdesc:afcfb66fbe42005ddc540c118b2c43688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the user should be blocked from starting a new attempt or continuing an attempt now.  <br /></td></tr>
<tr class="separator:afcfb66fbe42005ddc540c118b2c43688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d2b94786fa64068cdcefb44be4bc51" id="r_a38d2b94786fa64068cdcefb44be4bc51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a38d2b94786fa64068cdcefb44be4bc51">prevent_new_attempt</a> ($numprevattempts, $lastattempt)</td></tr>
<tr class="memdesc:a38d2b94786fa64068cdcefb44be4bc51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not a user should be allowed to start a new attempt at this quiz now.  <br /></td></tr>
<tr class="separator:a38d2b94786fa64068cdcefb44be4bc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae661eb285100710968acbf1377b766b9" id="r_ae661eb285100710968acbf1377b766b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae661eb285100710968acbf1377b766b9">setup_attempt_page</a> ($page)</td></tr>
<tr class="memdesc:ae661eb285100710968acbf1377b766b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the attempt (review or summary) page with any special extra properties required by this rule.  <br /></td></tr>
<tr class="separator:ae661eb285100710968acbf1377b766b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a665bdfed095735b2db24756aefabddf5" id="r_a665bdfed095735b2db24756aefabddf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a665bdfed095735b2db24756aefabddf5">time_left_display</a> ($attempt, $timenow)</td></tr>
<tr class="memdesc:a665bdfed095735b2db24756aefabddf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the user should be shown a different amount of time than $timenow - $this-&gt;<a class="el" href="../../d7/def/classquiz__access__rule__base.html#a8c140731290970245e49ea8331b07974" title="If, because of this rule, the user has to finish their attempt by a certain time, you should override...">end_time()</a>, then override this method.  <br /></td></tr>
<tr class="separator:a665bdfed095735b2db24756aefabddf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93dcd31f50632c2e703986ebe5bbd851" id="r_a93dcd31f50632c2e703986ebe5bbd851"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a93dcd31f50632c2e703986ebe5bbd851">validate_preflight_check</a> ($data, $files, $errors, $attemptid)</td></tr>
<tr class="memdesc:a93dcd31f50632c2e703986ebe5bbd851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the pre-flight check form submission.  <br /></td></tr>
<tr class="separator:a93dcd31f50632c2e703986ebe5bbd851"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abc4939d0a5b3539946f52e82ffc14e90" id="r_abc4939d0a5b3539946f52e82ffc14e90"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc4939d0a5b3539946f52e82ffc14e90">add_settings_form_fields</a> (<a class="el" href="../../d4/de5/classmod__quiz__mod__form.html">mod_quiz_mod_form</a> $quizform, <a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a> $mform)</td></tr>
<tr class="memdesc:abc4939d0a5b3539946f52e82ffc14e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add any fields that this rule requires to the quiz settings form.  <br /></td></tr>
<tr class="separator:abc4939d0a5b3539946f52e82ffc14e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32213af518dd68adc7e13b4c8991a21b" id="r_a32213af518dd68adc7e13b4c8991a21b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32213af518dd68adc7e13b4c8991a21b">delete_settings</a> ($<a class="el" href="../../dc/d8f/classquiz.html">quiz</a>)</td></tr>
<tr class="memdesc:a32213af518dd68adc7e13b4c8991a21b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete any rule-specific settings when the quiz is deleted.  <br /></td></tr>
<tr class="separator:a32213af518dd68adc7e13b4c8991a21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3684e93b87cb83468855808465474862" id="r_a3684e93b87cb83468855808465474862"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a3684e93b87cb83468855808465474862">get_browser_security_choices</a> ()</td></tr>
<tr class="separator:a3684e93b87cb83468855808465474862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4ea3806c2eeb21f8be06f27f53b14e" id="r_a6f4ea3806c2eeb21f8be06f27f53b14e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/def/classquiz__access__rule__base.html#a6f4ea3806c2eeb21f8be06f27f53b14e">get_extra_settings</a> ($quizid)</td></tr>
<tr class="memdesc:a6f4ea3806c2eeb21f8be06f27f53b14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">You can use this method to load any extra settings your plugin has that cannot be loaded efficiently with <a class="el" href="../../d7/def/classquiz__access__rule__base.html#adfbcd74e68a531e5c9fba697d52c60e1" title="Return the bits of SQL needed to load all the settings from all the access plugins in one DB query.">get_settings_sql()</a>.  <br /></td></tr>
<tr class="separator:a6f4ea3806c2eeb21f8be06f27f53b14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b8bd28123bcdf5d559ca3f54653abc" id="r_a57b8bd28123bcdf5d559ca3f54653abc"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57b8bd28123bcdf5d559ca3f54653abc">get_settings_sql</a> ($quizid)</td></tr>
<tr class="memdesc:a57b8bd28123bcdf5d559ca3f54653abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the bits of SQL needed to load all the settings from all the access plugins in one <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> query.  <br /></td></tr>
<tr class="separator:a57b8bd28123bcdf5d559ca3f54653abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b98d0aa0f4bef4cb44186b78dbd348" id="r_a94b98d0aa0f4bef4cb44186b78dbd348"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94b98d0aa0f4bef4cb44186b78dbd348">make</a> (<a class="el" href="../../dc/d8f/classquiz.html">quiz</a> $quizobj, $timenow, $canignoretimelimits)</td></tr>
<tr class="memdesc:a94b98d0aa0f4bef4cb44186b78dbd348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an appropriately configured instance of this rule, if it is applicable to the given quiz, otherwise return null.  <br /></td></tr>
<tr class="separator:a94b98d0aa0f4bef4cb44186b78dbd348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944f9d50a0052b19c90935079d6b37b3" id="r_a944f9d50a0052b19c90935079d6b37b3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a944f9d50a0052b19c90935079d6b37b3">save_settings</a> ($<a class="el" href="../../dc/d8f/classquiz.html">quiz</a>)</td></tr>
<tr class="memdesc:a944f9d50a0052b19c90935079d6b37b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save any submitted settings when the quiz settings form is submitted.  <br /></td></tr>
<tr class="separator:a944f9d50a0052b19c90935079d6b37b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfbee9fdd2abd3d4dc4833c1736ac4db" id="r_abfbee9fdd2abd3d4dc4833c1736ac4db"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abfbee9fdd2abd3d4dc4833c1736ac4db">validate_settings_form_fields</a> (array $errors, array $data, $files, <a class="el" href="../../d4/de5/classmod__quiz__mod__form.html">mod_quiz_mod_form</a> $quizform)</td></tr>
<tr class="memdesc:abfbee9fdd2abd3d4dc4833c1736ac4db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the data from any form fields added using <a class="el" href="">add_settings_form_fields()</a>.  <br /></td></tr>
<tr class="separator:abfbee9fdd2abd3d4dc4833c1736ac4db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae99d2fb2a91cb836b882808a2da55de2" id="r_ae99d2fb2a91cb836b882808a2da55de2"><td class="memItemLeft" align="right" valign="top"><a id="ae99d2fb2a91cb836b882808a2da55de2" name="ae99d2fb2a91cb836b882808a2da55de2"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>$quiz</b></td></tr>
<tr class="memdesc:ae99d2fb2a91cb836b882808a2da55de2"><td class="mdescLeft">&#160;</td><td class="mdescRight">the quiz settings. <br /></td></tr>
<tr class="separator:ae99d2fb2a91cb836b882808a2da55de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe450a4c8d2c9102f1e28c1d74340219" id="r_abe450a4c8d2c9102f1e28c1d74340219"><td class="memItemLeft" align="right" valign="top"><a id="abe450a4c8d2c9102f1e28c1d74340219" name="abe450a4c8d2c9102f1e28c1d74340219"></a>
<a class="el" href="../../dc/d8f/classquiz.html">quiz</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$quizobj</b></td></tr>
<tr class="memdesc:abe450a4c8d2c9102f1e28c1d74340219"><td class="mdescLeft">&#160;</td><td class="mdescRight">the quiz object. <br /></td></tr>
<tr class="separator:abe450a4c8d2c9102f1e28c1d74340219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4083cfb0f5c92fe93206069d8b1a5ff1" id="r_a4083cfb0f5c92fe93206069d8b1a5ff1"><td class="memItemLeft" align="right" valign="top"><a id="a4083cfb0f5c92fe93206069d8b1a5ff1" name="a4083cfb0f5c92fe93206069d8b1a5ff1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$timenow</b></td></tr>
<tr class="memdesc:a4083cfb0f5c92fe93206069d8b1a5ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">the time to use as 'now'. <br /></td></tr>
<tr class="separator:a4083cfb0f5c92fe93206069d8b1a5ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the <a class="el" href="../../de/db5/classquizaccess__seb.html" title="Implementation of the quizaccess_seb plugin.">quizaccess_seb</a> plugin. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2020 Catalyst IT </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac544ff86a9dc3cc57c507caad25dcc04" name="ac544ff86a9dc3cc57c507caad25dcc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac544ff86a9dc3cc57c507caad25dcc04">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_seb::__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d8f/classquiz.html">quiz</a></td>          <td class="paramname"><span class="paramname"><em>$quizobj</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$timenow</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d1b/classquizaccess__seb_1_1access__manager.html">access_manager</a></td>          <td class="paramname"><span class="paramname"><em>$accessmanager</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an instance of this rule for a particular quiz. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">quiz</td><td class="paramname">$quizobj</td><td>information about the quiz in question. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timenow</td><td>the time that should be considered as 'now'. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../db/d1b/classquizaccess__seb_1_1access__manager.html" title="Manage the access to the quiz.">access_manager</a></td><td class="paramname">$accessmanager</td><td>the quiz accessmanager. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afaf41b911a119407cdd700d2e68ddfcf" name="afaf41b911a119407cdd700d2e68ddfcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaf41b911a119407cdd700d2e68ddfcf">&#9670;&#160;</a></span>add_preflight_check_form_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::add_preflight_check_form_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dfd/classmod__quiz__preflight__check__form.html">mod_quiz_preflight_check_form</a></td>          <td class="paramname"><span class="paramname"><em>$quizform</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td>          <td class="paramname"><span class="paramname"><em>$mform</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add any field you want to pre-flight check form. </p>
<p>You should only do something here if <a class="el" href="">is_preflight_check_required()</a> returned true.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../db/dfd/classmod__quiz__preflight__check__form.html" title="A form that limits student&#39;s access to attempt a quiz.">mod_quiz_preflight_check_form</a></td><td class="paramname">$quizform</td><td>the form being built. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td><td class="paramname">$mform</td><td>The wrapped <a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a>. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$attemptid</td><td>the id of the current attempt, if there is one, otherwise null. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a93d51ace4fa44068813e2cb8db06311a">quizaccess_offlineattempts</a>, <a class="el" href="../../d4/d4d/classquizaccess__password.html#a088259221691ec5da0859e68471de705">quizaccess_password</a>, and <a class="el" href="../../d9/d36/classquizaccess__timelimit.html#aba80dbdfe26911a8262c5d22813e25fe">quizaccess_timelimit</a>.</p>

</div>
</div>
<a id="abc4939d0a5b3539946f52e82ffc14e90" name="abc4939d0a5b3539946f52e82ffc14e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4939d0a5b3539946f52e82ffc14e90">&#9670;&#160;</a></span>add_settings_form_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quizaccess_seb::add_settings_form_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de5/classmod__quiz__mod__form.html">mod_quiz_mod_form</a></td>          <td class="paramname"><span class="paramname"><em>$quizform</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td>          <td class="paramname"><span class="paramname"><em>$mform</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add any fields that this rule requires to the quiz settings form. </p>
<p>This method is called from <a class="el" href="../../d4/de5/classmod__quiz__mod__form.html#a635848606a7c3c1007a03a2ab2d70fc3">mod_quiz_mod_form::definition()</a>, while the security section is being built.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/de5/classmod__quiz__mod__form.html" title="Settings form for the quiz module.">mod_quiz_mod_form</a></td><td class="paramname">$quizform</td><td>the quiz settings form that is being built. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td><td class="paramname">$mform</td><td>the wrapped <a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#ae9490735b130ec344d7808d5ab536349">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="a083cd88481dda5dad7f567986eb89a33" name="a083cd88481dda5dad7f567986eb89a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a083cd88481dda5dad7f567986eb89a33">&#9670;&#160;</a></span>attempt_must_be_in_popup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::attempt_must_be_in_popup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>whether this rule requires that the attemp (and review) pages must be displayed in a pop-up window. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/da5/classquizaccess__securewindow.html#a588b9dc4c0db8e9317375b7c5f975989">quizaccess_securewindow</a>.</p>

</div>
</div>
<a id="acf0837b80459474f1219be80b015ce6b" name="acf0837b80459474f1219be80b015ce6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0837b80459474f1219be80b015ce6b">&#9670;&#160;</a></span>current_attempt_finished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_seb::current_attempt_finished </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is called when the current attempt at the quiz is finished. </p>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#a39f8a5d873f6643784760d2a2acbaca4">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="a32213af518dd68adc7e13b4c8991a21b" name="a32213af518dd68adc7e13b4c8991a21b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32213af518dd68adc7e13b4c8991a21b">&#9670;&#160;</a></span>delete_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quizaccess_seb::delete_settings </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$quiz</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete any rule-specific settings when the quiz is deleted. </p>
<p>This is called from <a class="el" href="../../dd/df0/group__mod__quiz.html#ga41e300aad72ab1216c9fc977a2874f93">quiz_delete_instance()</a> in lib.php.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$quiz</td><td>the data from the database, including $quiz-&gt;id which is the id of the quiz being deleted. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#a0002721459b962607e1114637ff34db4">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="a8dbb05d817a94faf85a2d6a2a540d773" name="a8dbb05d817a94faf85a2d6a2a540d773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbb05d817a94faf85a2d6a2a540d773">&#9670;&#160;</a></span>description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_seb::description </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Information, such as might be shown on the quiz view page, relating to this restriction. </p>
<p>There is no obligation to return anything. If it is not appropriate to tell students about this rule, then just return ''.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>a message, or array of messages, explaining the restriction (may be '' if no message is appropriate). </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#a8e4f324144ad21f46a0b16e4805d5950">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="a8c140731290970245e49ea8331b07974" name="a8c140731290970245e49ea8331b07974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c140731290970245e49ea8331b07974">&#9670;&#160;</a></span>end_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::end_time </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attempt</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If, because of this rule, the user has to finish their attempt by a certain time, you should override this method to return the attempt end time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$attempt</td><td>the current attempt </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the attempt close time, or false if there is no close time. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d5/dfe/classquizaccess__openclosedate.html#a345373594a419813e8a830132d97c505">quizaccess_openclosedate</a>, and <a class="el" href="../../d9/d36/classquizaccess__timelimit.html#a5a3468101c229673df53cbdeae3f5211">quizaccess_timelimit</a>.</p>

</div>
</div>
<a id="a3684e93b87cb83468855808465474862" name="a3684e93b87cb83468855808465474862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3684e93b87cb83468855808465474862">&#9670;&#160;</a></span>get_browser_security_choices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quiz_access_rule_base::get_browser_security_choices </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>key =&gt; lang string any choices to add to the quiz Browser security settings menu. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/da5/classquizaccess__securewindow.html#a16922f9c136bcbf4aab55dc8e7b9e5e0">quizaccess_securewindow</a>.</p>

</div>
</div>
<a id="a6f4ea3806c2eeb21f8be06f27f53b14e" name="a6f4ea3806c2eeb21f8be06f27f53b14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f4ea3806c2eeb21f8be06f27f53b14e">&#9670;&#160;</a></span>get_extra_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quiz_access_rule_base::get_extra_settings </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$quizid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>You can use this method to load any extra settings your plugin has that cannot be loaded efficiently with get_settings_sql(). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$quizid</td><td>the quiz id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>setting value name =&gt; value. The value names should all start with the name of your plugin to avoid collisions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab465ea72926529536d1e110e57720819" name="ab465ea72926529536d1e110e57720819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab465ea72926529536d1e110e57720819">&#9670;&#160;</a></span>get_popup_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::get_popup_options </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>any options that are required for showing the attempt page in a popup window. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/da5/classquizaccess__securewindow.html#aed1441433c0d815d98dfed4ba616337f">quizaccess_securewindow</a>.</p>

</div>
</div>
<a id="a57b8bd28123bcdf5d559ca3f54653abc" name="a57b8bd28123bcdf5d559ca3f54653abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b8bd28123bcdf5d559ca3f54653abc">&#9670;&#160;</a></span>get_settings_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quizaccess_seb::get_settings_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$quizid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the bits of SQL needed to load all the settings from all the access plugins in one <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> query. </p>
<p>The easiest way to understand what you need to do here is probalby to read the code of <a class="el" href="">quiz_access_manager::load_settings()</a>.</p>
<p>If you have some settings that cannot be loaded in this way, then you can use the <a class="el" href="">get_extra_settings()</a> method instead, but that has performance implications.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$quizid</td><td>the id of the quiz we are loading settings for. This can also be accessed as quiz.id in the SQL. (quiz is a table alisas for {quiz}.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with three elements:<ol type="1">
<li>fields: any fields to add to the select list. These should be alised if neccessary so that the field name starts the name of the plugin.</li>
<li>joins: any joins (should probably be LEFT JOINS) with other tables that are needed.</li>
<li>params: array of placeholder values that are needed by the SQL. You must used named placeholders, and the placeholder names should start with the plugin name, to avoid collisions. </li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#adfbcd74e68a531e5c9fba697d52c60e1">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="a811e856f89fc3b242e891ad9fa63c638" name="a811e856f89fc3b242e891ad9fa63c638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811e856f89fc3b242e891ad9fa63c638">&#9670;&#160;</a></span>get_superceded_rules()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::get_superceded_rules </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is possible for one rule to override other rules. </p>
<p>The aim is that third-party rules should be able to replace sandard rules if they want. See, for example <a href="https://tracker.moodle.org/browse/MDL-13592" class="el">MDL-13592</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>plugin names of other rules that this one replaces. For example array('ipaddress', 'password'). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6111ad32d1e7c88f00d8cde85627e6a" name="ad6111ad32d1e7c88f00d8cde85627e6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6111ad32d1e7c88f00d8cde85627e6a">&#9670;&#160;</a></span>is_finished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::is_finished </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numprevattempts</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$lastattempt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If this rule can determine that this user will never be allowed another attempt at this quiz, then return true. </p>
<p>This is used so we can know whether to display a final grade on the view page. This will only be called if there is not a currently active attempt for this user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$numattempts</td><td>the number of previous attempts this user has made. </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$lastattempt</td><td>information about the user's last completed attempt. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if this rule means that this user will never be allowed another attempt at this quiz. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/de8/classquizaccess__delaybetweenattempts.html#aef93f034fa96b8bfce2ffb3fa6f8e719">quizaccess_delaybetweenattempts</a>, <a class="el" href="../../d1/d86/classquizaccess__numattempts.html#a1426d047026708a05b3321009cefec6e">quizaccess_numattempts</a>, and <a class="el" href="../../d5/dfe/classquizaccess__openclosedate.html#acd4c410dacad2b8275efed17b9565a03">quizaccess_openclosedate</a>.</p>

</div>
</div>
<a id="a3861e6df1c31a0edb999ada794ee38b6" name="a3861e6df1c31a0edb999ada794ee38b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3861e6df1c31a0edb999ada794ee38b6">&#9670;&#160;</a></span>is_preflight_check_required()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::is_preflight_check_required </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$attemptid</td><td>the id of the current attempt, if there is one, otherwise null. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether a check is required before the user starts/continues their attempt. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a251d01544a9f4947bf30637b36342b8b">quizaccess_offlineattempts</a>, <a class="el" href="../../d4/d4d/classquizaccess__password.html#ab3f25cb6d8d77a3f92c9e6b522c56128">quizaccess_password</a>, and <a class="el" href="../../d9/d36/classquizaccess__timelimit.html#a0b46bcc1ff41544c6b69567270f0ec49">quizaccess_timelimit</a>.</p>

</div>
</div>
<a id="a94b98d0aa0f4bef4cb44186b78dbd348" name="a94b98d0aa0f4bef4cb44186b78dbd348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94b98d0aa0f4bef4cb44186b78dbd348">&#9670;&#160;</a></span>make()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quizaccess_seb::make </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d8f/classquiz.html">quiz</a></td>          <td class="paramname"><span class="paramname"><em>$quizobj</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timenow</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$canignoretimelimits</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an appropriately configured instance of this rule, if it is applicable to the given quiz, otherwise return null. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">quiz</td><td class="paramname">$quizobj</td><td>information about the quiz in question. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timenow</td><td>the time that should be considered as 'now'. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$canignoretimelimits</td><td>whether the current user is exempt from time limits by the mod/quiz:ignoretimelimits capability. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">quiz_access_rule_base|null</td><td>the rule, if applicable, else null. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#ad1ab996312b537383dad272415beac33">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="a0a51243db069c92df5ba9dc6280fe566" name="a0a51243db069c92df5ba9dc6280fe566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a51243db069c92df5ba9dc6280fe566">&#9670;&#160;</a></span>notify_preflight_check_passed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::notify_preflight_check_passed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pre-flight check has passed. </p>
<p>This is a chance to record that fact in some way. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$attemptid</td><td>the id of the current attempt, if there is one, otherwise null. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a523ec22cc8d68344719c743757ee66dd">quizaccess_offlineattempts</a>, and <a class="el" href="../../d4/d4d/classquizaccess__password.html#aeeaf1ea0f375e8bc5aae6d568a53c12d">quizaccess_password</a>.</p>

</div>
</div>
<a id="afcfb66fbe42005ddc540c118b2c43688" name="afcfb66fbe42005ddc540c118b2c43688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcfb66fbe42005ddc540c118b2c43688">&#9670;&#160;</a></span>prevent_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_seb::prevent_access </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the user should be blocked from starting a new attempt or continuing an attempt now. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>false if access should be allowed, a message explaining the reason if access should be prevented. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#ac278bc38c831b5886d9e17dde48dc6a4">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="a38d2b94786fa64068cdcefb44be4bc51" name="a38d2b94786fa64068cdcefb44be4bc51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d2b94786fa64068cdcefb44be4bc51">&#9670;&#160;</a></span>prevent_new_attempt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::prevent_new_attempt </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numprevattempts</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$lastattempt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether or not a user should be allowed to start a new attempt at this quiz now. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$numattempts</td><td>the number of previous attempts this user has made. </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$lastattempt</td><td>information about the user's last completed attempt. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>false if access should be allowed, a message explaining the reason if access should be prevented. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/de8/classquizaccess__delaybetweenattempts.html#a9520cfa578af4473f82f43df677215fb">quizaccess_delaybetweenattempts</a>, and <a class="el" href="../../d1/d86/classquizaccess__numattempts.html#ad3813d930025a46b47fbce52caed3b58">quizaccess_numattempts</a>.</p>

</div>
</div>
<a id="a944f9d50a0052b19c90935079d6b37b3" name="a944f9d50a0052b19c90935079d6b37b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a944f9d50a0052b19c90935079d6b37b3">&#9670;&#160;</a></span>save_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quizaccess_seb::save_settings </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$quiz</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save any submitted settings when the quiz settings form is submitted. </p>
<p>This is called from <a class="el" href="../../dd/df0/group__mod__quiz.html#gaab02f7896e9cc90b405fc7134d239cbc">quiz_after_add_or_update()</a> in lib.php.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$quiz</td><td>the data from the quiz form, including $quiz-&gt;id which is the id of the quiz being saved. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#af9a6afcef4c3b93af37a6dfe0d539e93">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="ae661eb285100710968acbf1377b766b9" name="ae661eb285100710968acbf1377b766b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae661eb285100710968acbf1377b766b9">&#9670;&#160;</a></span>setup_attempt_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_seb::setup_attempt_page </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the attempt (review or summary) page with any special extra properties required by this rule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a></td><td class="paramname">$page</td><td>the page object to initialise. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#a8516d4d5d6b798191bc6e0b40e9f700f">quiz_access_rule_base</a>.</p>

</div>
</div>
<a id="a665bdfed095735b2db24756aefabddf5" name="a665bdfed095735b2db24756aefabddf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a665bdfed095735b2db24756aefabddf5">&#9670;&#160;</a></span>time_left_display()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::time_left_display </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attempt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timenow</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the user should be shown a different amount of time than $timenow - $this-&gt;end_time(), then override this method. </p>
<p>This is useful if the time remaining is large enough to be omitted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$attempt</td><td>the current attempt </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timenow</td><td>the time now. We don't use $this-&gt;timenow, so we can give the user a more accurate indication of how much time is left. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the time left in seconds (can be negative) or false if there is no limit. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d5/dfe/classquizaccess__openclosedate.html#a6cc06f346b332f8f03a13cc4880aebdf">quizaccess_openclosedate</a>, and <a class="el" href="../../d9/d36/classquizaccess__timelimit.html#a556872790cf5114a5f660ac811298cb7">quizaccess_timelimit</a>.</p>

</div>
</div>
<a id="a93dcd31f50632c2e703986ebe5bbd851" name="a93dcd31f50632c2e703986ebe5bbd851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93dcd31f50632c2e703986ebe5bbd851">&#9670;&#160;</a></span>validate_preflight_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">quiz_access_rule_base::validate_preflight_check </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$files</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$errors</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate the pre-flight check form submission. </p>
<p>You should only do something here if <a class="el" href="">is_preflight_check_required()</a> returned true.</p>
<p>If the form validates, the user will be allowed to continue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>the submitted form data. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$files</td><td>any files in the submission. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>the list of validation errors that is being built up. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$attemptid</td><td>the id of the current attempt, if there is one, otherwise null. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the update $errors array; </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a942bc86188ab38109803d7bca26cc0a5">quizaccess_offlineattempts</a>, and <a class="el" href="../../d4/d4d/classquizaccess__password.html#a1a0482c4f90c5763356cd82c1743f1ad">quizaccess_password</a>.</p>

</div>
</div>
<a id="abfbee9fdd2abd3d4dc4833c1736ac4db" name="abfbee9fdd2abd3d4dc4833c1736ac4db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfbee9fdd2abd3d4dc4833c1736ac4db">&#9670;&#160;</a></span>validate_settings_form_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quizaccess_seb::validate_settings_form_fields </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$errors</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$files</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de5/classmod__quiz__mod__form.html">mod_quiz_mod_form</a></td>          <td class="paramname"><span class="paramname"><em>$quizform</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate the data from any form fields added using <a class="el" href="">add_settings_form_fields()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>the errors found so far. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>the submitted form data. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$files</td><td>information about any uploaded files. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d4/de5/classmod__quiz__mod__form.html" title="Settings form for the quiz module.">mod_quiz_mod_form</a></td><td class="paramname">$quizform</td><td>the quiz form object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array::$errors</td><td>the updated $errors array. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/def/classquiz__access__rule__base.html#ac3970a73d9a2c1e203492c987d2d0864">quiz_access_rule_base</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mod/quiz/accessrule/seb/<b>rule.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 21 2024 02:24:45 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
