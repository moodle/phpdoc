<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: tool_uploadcourse_helper Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.10+ (Build: 20240530) (aa230649d96)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d8/d33/classtool__uploadcourse__helper-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">tool_uploadcourse_helper Class Reference<div class="ingroups"><a class="el" href="../../db/d6c/group__tool__uploadcourse.html">tool_uploadcourse</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Class containing a set of helpers.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a95df4348d58e4c9551c7e24972342f86" id="r_a95df4348d58e4c9551c7e24972342f86"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95df4348d58e4c9551c7e24972342f86">generate_shortname</a> ($data, $templateshortname)</td></tr>
<tr class="memdesc:a95df4348d58e4c9551c7e24972342f86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a shortname based on a template.  <br /></td></tr>
<tr class="separator:a95df4348d58e4c9551c7e24972342f86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f6fc9ad07c9f18b89a04fedfaa24b3" id="r_a43f6fc9ad07c9f18b89a04fedfaa24b3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43f6fc9ad07c9f18b89a04fedfaa24b3">generate_shortname_callback</a> ($<a class="el" href="../../d0/de1/group__core.html#ga22ae943f55a27f3b9cca15f8ddd05db7">fullname</a>, $idnumber, $block)</td></tr>
<tr class="memdesc:a43f6fc9ad07c9f18b89a04fedfaa24b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback used when generating a shortname based on a template.  <br /></td></tr>
<tr class="separator:a43f6fc9ad07c9f18b89a04fedfaa24b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae45628874fd57e6b9201dd4a804713b" id="r_aae45628874fd57e6b9201dd4a804713b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae45628874fd57e6b9201dd4a804713b">get_course_formats</a> ()</td></tr>
<tr class="memdesc:aae45628874fd57e6b9201dd4a804713b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the available course formats.  <br /></td></tr>
<tr class="separator:aae45628874fd57e6b9201dd4a804713b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3767bad1b482a8ecba2d91a05ab13ee6" id="r_a3767bad1b482a8ecba2d91a05ab13ee6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3767bad1b482a8ecba2d91a05ab13ee6">get_coursesection_count</a> ($shortname)</td></tr>
<tr class="memdesc:a3767bad1b482a8ecba2d91a05ab13ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to detect how many sections a course with a given shortname has.  <br /></td></tr>
<tr class="separator:a3767bad1b482a8ecba2d91a05ab13ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae84f3b4d45fd25e42f969140771097" id="r_a2ae84f3b4d45fd25e42f969140771097"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ae84f3b4d45fd25e42f969140771097">get_custom_course_field_data</a> (array $data, array $defaults, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, array &amp;$errors=[])</td></tr>
<tr class="memdesc:a2ae84f3b4d45fd25e42f969140771097"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return any elements from passed $data whose key matches one of the custom course fields defined for the site.  <br /></td></tr>
<tr class="separator:a2ae84f3b4d45fd25e42f969140771097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59bc85c17755e5c7c348fcf7b31b3e7" id="r_ac59bc85c17755e5c7c348fcf7b31b3e7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac59bc85c17755e5c7c348fcf7b31b3e7">get_custom_course_field_names</a> ()</td></tr>
<tr class="memdesc:ac59bc85c17755e5c7c348fcf7b31b3e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return array of custom field element names.  <br /></td></tr>
<tr class="separator:ac59bc85c17755e5c7c348fcf7b31b3e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d59a311b6eb996615e524914c57da5" id="r_a71d59a311b6eb996615e524914c57da5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71d59a311b6eb996615e524914c57da5">get_custom_course_fields</a> ()</td></tr>
<tr class="memdesc:a71d59a311b6eb996615e524914c57da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return array of all custom course fields indexed by their shortname.  <br /></td></tr>
<tr class="separator:a71d59a311b6eb996615e524914c57da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec50dfa45efa97aff86d0133fb355f9" id="r_afec50dfa45efa97aff86d0133fb355f9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afec50dfa45efa97aff86d0133fb355f9">get_enrolment_data</a> ($data)</td></tr>
<tr class="memdesc:afec50dfa45efa97aff86d0133fb355f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract enrolment data from passed data.  <br /></td></tr>
<tr class="separator:afec50dfa45efa97aff86d0133fb355f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1844e0488f10fd035b2ad7962032b9" id="r_a5d1844e0488f10fd035b2ad7962032b9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d1844e0488f10fd035b2ad7962032b9">get_enrolment_plugins</a> ()</td></tr>
<tr class="memdesc:a5d1844e0488f10fd035b2ad7962032b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the enrolment plugins.  <br /></td></tr>
<tr class="separator:a5d1844e0488f10fd035b2ad7962032b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c8e1014d06b11473bdad6b5eff6917" id="r_a53c8e1014d06b11473bdad6b5eff6917"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53c8e1014d06b11473bdad6b5eff6917">get_restore_content_dir</a> ($backupfile=null, $shortname=null, &amp;$errors=array())</td></tr>
<tr class="memdesc:a53c8e1014d06b11473bdad6b5eff6917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the restore content tempdir.  <br /></td></tr>
<tr class="separator:a53c8e1014d06b11473bdad6b5eff6917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17a7c30dea518bc66404d6a0be78ca4" id="r_ac17a7c30dea518bc66404d6a0be78ca4"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac17a7c30dea518bc66404d6a0be78ca4">get_role_ids</a> ()</td></tr>
<tr class="memdesc:ac17a7c30dea518bc66404d6a0be78ca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the role IDs.  <br /></td></tr>
<tr class="separator:ac17a7c30dea518bc66404d6a0be78ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6a27fb08c97c588c6bc5c0f520e852" id="r_aad6a27fb08c97c588c6bc5c0f520e852"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad6a27fb08c97c588c6bc5c0f520e852">get_role_names</a> ($data, &amp;$errors=array())</td></tr>
<tr class="memdesc:aad6a27fb08c97c588c6bc5c0f520e852"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the role renaming data from the passed data.  <br /></td></tr>
<tr class="separator:aad6a27fb08c97c588c6bc5c0f520e852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e7a2b0dbd18c04ccf3fae202431cd6" id="r_ad0e7a2b0dbd18c04ccf3fae202431cd6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0e7a2b0dbd18c04ccf3fae202431cd6">increment_idnumber</a> ($idnumber)</td></tr>
<tr class="memdesc:ad0e7a2b0dbd18c04ccf3fae202431cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to increment an ID number.  <br /></td></tr>
<tr class="separator:ad0e7a2b0dbd18c04ccf3fae202431cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d1ae1d9ce099acd9dbaddc5c6a6f03" id="r_a93d1ae1d9ce099acd9dbaddc5c6a6f03"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93d1ae1d9ce099acd9dbaddc5c6a6f03">increment_shortname</a> ($shortname)</td></tr>
<tr class="memdesc:a93d1ae1d9ce099acd9dbaddc5c6a6f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to increment a shortname.  <br /></td></tr>
<tr class="separator:a93d1ae1d9ce099acd9dbaddc5c6a6f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25390e8b6fc050f8c0811ef25b01851" id="r_aa25390e8b6fc050f8c0811ef25b01851"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa25390e8b6fc050f8c0811ef25b01851">resolve_category</a> ($data, &amp;$errors=array())</td></tr>
<tr class="memdesc:aa25390e8b6fc050f8c0811ef25b01851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolve a category based on the data passed.  <br /></td></tr>
<tr class="separator:aa25390e8b6fc050f8c0811ef25b01851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add73ab718b79b662b3aa397a21a11fb8" id="r_add73ab718b79b662b3aa397a21a11fb8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add73ab718b79b662b3aa397a21a11fb8">resolve_category_by_idnumber</a> ($idnumber)</td></tr>
<tr class="memdesc:add73ab718b79b662b3aa397a21a11fb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolve a category by ID number.  <br /></td></tr>
<tr class="separator:add73ab718b79b662b3aa397a21a11fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596dec8c64b5e74dbbd48f616735f183" id="r_a596dec8c64b5e74dbbd48f616735f183"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a596dec8c64b5e74dbbd48f616735f183">resolve_category_by_path</a> (array $path)</td></tr>
<tr class="memdesc:a596dec8c64b5e74dbbd48f616735f183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolve a category by path.  <br /></td></tr>
<tr class="separator:a596dec8c64b5e74dbbd48f616735f183"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class containing a set of helpers. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2013 Frédéric Massart </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a95df4348d58e4c9551c7e24972342f86" name="a95df4348d58e4c9551c7e24972342f86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95df4348d58e4c9551c7e24972342f86">&#9670;&#160;</a></span>generate_shortname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::generate_shortname </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$templateshortname</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a shortname based on a template. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;object</td><td class="paramname">$data</td><td>course data. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$templateshortname</td><td>template of shortname. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null|string</td><td>shortname based on the template, or null when an error occured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a43f6fc9ad07c9f18b89a04fedfaa24b3" name="a43f6fc9ad07c9f18b89a04fedfaa24b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f6fc9ad07c9f18b89a04fedfaa24b3">&#9670;&#160;</a></span>generate_shortname_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::generate_shortname_callback </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fullname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idnumber</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$block</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback used when generating a shortname based on a template. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fullname</td><td>full name. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idnumber</td><td>ID number. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$block</td><td>result from preg_replace_callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae45628874fd57e6b9201dd4a804713b" name="aae45628874fd57e6b9201dd4a804713b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae45628874fd57e6b9201dd4a804713b">&#9670;&#160;</a></span>get_course_formats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_course_formats </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the available course formats. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3767bad1b482a8ecba2d91a05ab13ee6" name="a3767bad1b482a8ecba2d91a05ab13ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3767bad1b482a8ecba2d91a05ab13ee6">&#9670;&#160;</a></span>get_coursesection_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_coursesection_count </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$shortname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to detect how many sections a course with a given shortname has. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$shortname</td><td>shortname of a course to count sections from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">integer</td><td>count of sections. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2ae84f3b4d45fd25e42f969140771097" name="a2ae84f3b4d45fd25e42f969140771097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae84f3b4d45fd25e42f969140771097">&#9670;&#160;</a></span>get_custom_course_field_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_custom_course_field_data </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$defaults</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a></td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array &amp;</td>          <td class="paramname"><span class="paramname"><em>$errors</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return any elements from passed $data whose key matches one of the custom course fields defined for the site. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$defaults</td><td></td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>Will be populated with any errors </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac59bc85c17755e5c7c348fcf7b31b3e7" name="ac59bc85c17755e5c7c348fcf7b31b3e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac59bc85c17755e5c7c348fcf7b31b3e7">&#9670;&#160;</a></span>get_custom_course_field_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_custom_course_field_names </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return array of custom field element names. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a71d59a311b6eb996615e524914c57da5" name="a71d59a311b6eb996615e524914c57da5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d59a311b6eb996615e524914c57da5">&#9670;&#160;</a></span>get_custom_course_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_custom_course_fields </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return array of all custom course fields indexed by their shortname. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_customfield\field_controller[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afec50dfa45efa97aff86d0133fb355f9" name="afec50dfa45efa97aff86d0133fb355f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec50dfa45efa97aff86d0133fb355f9">&#9670;&#160;</a></span>get_enrolment_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_enrolment_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract enrolment data from passed data. </p>
<p>Constructs an array of methods, and their options: array( 'method1' =&gt; array( 'option1' =&gt; value, 'option2' =&gt; value ), 'method2' =&gt; array( 'option1' =&gt; value, 'option2' =&gt; value ) )</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>data to extract the enrolment data from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d1844e0488f10fd035b2ad7962032b9" name="a5d1844e0488f10fd035b2ad7962032b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d1844e0488f10fd035b2ad7962032b9">&#9670;&#160;</a></span>get_enrolment_plugins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_enrolment_plugins </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the enrolment plugins. </p>
<p>The result is cached for faster execution.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">enrol_plugin[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a53c8e1014d06b11473bdad6b5eff6917" name="a53c8e1014d06b11473bdad6b5eff6917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c8e1014d06b11473bdad6b5eff6917">&#9670;&#160;</a></span>get_restore_content_dir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_restore_content_dir </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$backupfile</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$shortname</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$errors</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the restore content tempdir. </p>
<p>The tempdir is the sub directory in which the backup has been extracted.</p>
<p>This caches the result for better performance, but $CFG-&gt;keeptempdirectoriesonbackup needs to be enabled, otherwise the cache is ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$backupfile</td><td>path to a backup file. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$shortname</td><td>shortname of a course. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>will be populated with errors found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|false</td><td>false when the backup couldn't retrieved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac17a7c30dea518bc66404d6a0be78ca4" name="ac17a7c30dea518bc66404d6a0be78ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17a7c30dea518bc66404d6a0be78ca4">&#9670;&#160;</a></span>get_role_ids()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_role_ids </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the role IDs. </p>
<p>The result is cached for faster execution.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad6a27fb08c97c588c6bc5c0f520e852" name="aad6a27fb08c97c588c6bc5c0f520e852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad6a27fb08c97c588c6bc5c0f520e852">&#9670;&#160;</a></span>get_role_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::get_role_names </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$errors</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the role renaming data from the passed data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>data to extract the names from. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>will be populated with errors found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>where the key is the role_&lt;id&gt;, the value is the new name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad0e7a2b0dbd18c04ccf3fae202431cd6" name="ad0e7a2b0dbd18c04ccf3fae202431cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e7a2b0dbd18c04ccf3fae202431cd6">&#9670;&#160;</a></span>increment_idnumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::increment_idnumber </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idnumber</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to increment an ID number. </p>
<p>This first checks if the ID number is in use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$idnumber</td><td>ID number to increment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>new ID number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a93d1ae1d9ce099acd9dbaddc5c6a6f03" name="a93d1ae1d9ce099acd9dbaddc5c6a6f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d1ae1d9ce099acd9dbaddc5c6a6f03">&#9670;&#160;</a></span>increment_shortname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::increment_shortname </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$shortname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to increment a shortname. </p>
<p>This considers that the shortname passed has to be incremented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$shortname</td><td>shortname to increment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>new shortname. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa25390e8b6fc050f8c0811ef25b01851" name="aa25390e8b6fc050f8c0811ef25b01851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25390e8b6fc050f8c0811ef25b01851">&#9670;&#160;</a></span>resolve_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::resolve_category </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$errors</em></span><span class="paramdefsep"> = </span><span class="paramdefval">array()</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resolve a category based on the data passed. </p>
<p>Key accepted are:</p><ul>
<li>category, which is supposed to be a category ID.</li>
<li>category_idnumber</li>
<li>category_path, array of categories from parent to child.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>to resolve the category from. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>will be populated with errors found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>category ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add73ab718b79b662b3aa397a21a11fb8" name="add73ab718b79b662b3aa397a21a11fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add73ab718b79b662b3aa397a21a11fb8">&#9670;&#160;</a></span>resolve_category_by_idnumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::resolve_category_by_idnumber </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idnumber</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resolve a category by ID number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$idnumber</td><td>category ID number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>category ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a596dec8c64b5e74dbbd48f616735f183" name="a596dec8c64b5e74dbbd48f616735f183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596dec8c64b5e74dbbd48f616735f183">&#9670;&#160;</a></span>resolve_category_by_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_uploadcourse_helper::resolve_category_by_path </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resolve a category by path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$path</td><td>category names indexed from parent to children. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>category ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>admin/tool/uploadcourse/classes/<b>helper.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 02:36:35 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
