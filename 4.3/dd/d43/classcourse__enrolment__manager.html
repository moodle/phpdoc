<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: course_enrolment_manager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.3</span>
   </div>
   <div id="projectbrief">Moodle 4.3.4+ (Build: 20240524) (130165c8cc5)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../de/d38/classcourse__enrolment__manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">course_enrolment_manager Class Reference<div class="ingroups"><a class="el" href="../../d7/d91/group__core__enrol.html">core_enrol</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This class provides a targeted tied together means of interfacing the enrolment tasks together with a course.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aedf99dc768814ea6487d85ae3326e512" id="r_aedf99dc768814ea6487d85ae3326e512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aedf99dc768814ea6487d85ae3326e512">__construct</a> (<a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a> $moodlepage, $course, $instancefilter=null, $rolefilter=0, $searchfilter='', $groupfilter=0, $statusfilter=-1)</td></tr>
<tr class="memdesc:aedf99dc768814ea6487d85ae3326e512"><td class="mdescLeft">&#160;</td><td class="mdescRight">#-  <br /></td></tr>
<tr class="separator:aedf99dc768814ea6487d85ae3326e512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3dd67f9f160fb580f704bda6260e88" id="r_aad3dd67f9f160fb580f704bda6260e88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad3dd67f9f160fb580f704bda6260e88">add_user_to_group</a> ($user, $groupid)</td></tr>
<tr class="memdesc:aad3dd67f9f160fb580f704bda6260e88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a user to a group.  <br /></td></tr>
<tr class="separator:aad3dd67f9f160fb580f704bda6260e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc54b8c91a3d552922bd7686ea7403ca" id="r_abc54b8c91a3d552922bd7686ea7403ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc54b8c91a3d552922bd7686ea7403ca">assign_role_to_user</a> ($roleid, $userid)</td></tr>
<tr class="memdesc:abc54b8c91a3d552922bd7686ea7403ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns a role to a user.  <br /></td></tr>
<tr class="separator:abc54b8c91a3d552922bd7686ea7403ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2900da559fb3d69b6d1bf17d1b99e9" id="r_a7b2900da559fb3d69b6d1bf17d1b99e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b2900da559fb3d69b6d1bf17d1b99e9">edit_enrolment</a> ($userenrolment, $data)</td></tr>
<tr class="memdesc:a7b2900da559fb3d69b6d1bf17d1b99e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edits an enrolment.  <br /></td></tr>
<tr class="separator:a7b2900da559fb3d69b6d1bf17d1b99e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e46955d48c1ec5890c20cf9ed5a9c48" id="r_a6e46955d48c1ec5890c20cf9ed5a9c48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e46955d48c1ec5890c20cf9ed5a9c48">get_all_groups</a> ()</td></tr>
<tr class="memdesc:a6e46955d48c1ec5890c20cf9ed5a9c48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the groups for this course.  <br /></td></tr>
<tr class="separator:a6e46955d48c1ec5890c20cf9ed5a9c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae39d27261c91fcef20aac2ed3f71fc6a" id="r_ae39d27261c91fcef20aac2ed3f71fc6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae39d27261c91fcef20aac2ed3f71fc6a">get_all_roles</a> ()</td></tr>
<tr class="memdesc:ae39d27261c91fcef20aac2ed3f71fc6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the roles this course can contain.  <br /></td></tr>
<tr class="separator:ae39d27261c91fcef20aac2ed3f71fc6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc1853468f54d8b79f6f87fe44b7024" id="r_a9fc1853468f54d8b79f6f87fe44b7024"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9fc1853468f54d8b79f6f87fe44b7024">get_assignable_roles</a> ($otherusers=false)</td></tr>
<tr class="memdesc:a9fc1853468f54d8b79f6f87fe44b7024"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the assignable roles for this course.  <br /></td></tr>
<tr class="separator:a9fc1853468f54d8b79f6f87fe44b7024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7c92165e7121f30f1fdbd2b8e24528b" id="r_ae7c92165e7121f30f1fdbd2b8e24528b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7c92165e7121f30f1fdbd2b8e24528b">get_assignable_roles_for_json</a> ($otherusers=false)</td></tr>
<tr class="memdesc:ae7c92165e7121f30f1fdbd2b8e24528b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the assignable roles for this course, wrapped in an array to ensure role sort order is not lost during json deserialisation.  <br /></td></tr>
<tr class="separator:ae7c92165e7121f30f1fdbd2b8e24528b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9bbc9736782946a19e8bf5ee26f04c3" id="r_ae9bbc9736782946a19e8bf5ee26f04c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9bbc9736782946a19e8bf5ee26f04c3">get_context</a> ()</td></tr>
<tr class="memdesc:ae9bbc9736782946a19e8bf5ee26f04c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the course context.  <br /></td></tr>
<tr class="separator:ae9bbc9736782946a19e8bf5ee26f04c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9e43cd58305438f8c2d21f8f68e537" id="r_a6e9e43cd58305438f8c2d21f8f68e537"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e9e43cd58305438f8c2d21f8f68e537">get_course</a> ()</td></tr>
<tr class="memdesc:a6e9e43cd58305438f8c2d21f8f68e537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the course this object is managing enrolments for.  <br /></td></tr>
<tr class="separator:a6e9e43cd58305438f8c2d21f8f68e537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dcf16699e34f4fb45c5b9e4f1be0e12" id="r_a4dcf16699e34f4fb45c5b9e4f1be0e12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4dcf16699e34f4fb45c5b9e4f1be0e12">get_enrolment_filter</a> ()</td></tr>
<tr class="memdesc:a4dcf16699e34f4fb45c5b9e4f1be0e12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current enrolment filter that is being applied by this class.  <br /></td></tr>
<tr class="separator:a4dcf16699e34f4fb45c5b9e4f1be0e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c5e90f312b4c80ad5cb2b9aed16ada" id="r_a49c5e90f312b4c80ad5cb2b9aed16ada"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49c5e90f312b4c80ad5cb2b9aed16ada">get_enrolment_instance_names</a> ($onlyenabled=false)</td></tr>
<tr class="memdesc:a49c5e90f312b4c80ad5cb2b9aed16ada"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the names for all of the enrolment instances for this course.  <br /></td></tr>
<tr class="separator:a49c5e90f312b4c80ad5cb2b9aed16ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97abdf33a8b09cdd3470bdc08826e8b0" id="r_a97abdf33a8b09cdd3470bdc08826e8b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97abdf33a8b09cdd3470bdc08826e8b0">get_enrolment_instances</a> ($onlyenabled=false)</td></tr>
<tr class="memdesc:a97abdf33a8b09cdd3470bdc08826e8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all of the enrolment instances for this course.  <br /></td></tr>
<tr class="separator:a97abdf33a8b09cdd3470bdc08826e8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6008897adffbb0202d9ebf102ed8c277" id="r_a6008897adffbb0202d9ebf102ed8c277"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6008897adffbb0202d9ebf102ed8c277">get_enrolment_plugins</a> ($onlyenabled=true)</td></tr>
<tr class="memdesc:a6008897adffbb0202d9ebf102ed8c277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the enrolment plugins that are available for this course.  <br /></td></tr>
<tr class="separator:a6008897adffbb0202d9ebf102ed8c277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7301995e879a82c13d5ff57aed1d9df3" id="r_a7301995e879a82c13d5ff57aed1d9df3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7301995e879a82c13d5ff57aed1d9df3">get_filtered_enrolment_plugin</a> ()</td></tr>
<tr class="memdesc:a7301995e879a82c13d5ff57aed1d9df3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the enrolment plugin that the course manager was being filtered to.  <br /></td></tr>
<tr class="separator:a7301995e879a82c13d5ff57aed1d9df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d22afea23be77dada80823d07f7bf04" id="r_a0d22afea23be77dada80823d07f7bf04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d22afea23be77dada80823d07f7bf04">get_group</a> ($groupid)</td></tr>
<tr class="memdesc:a0d22afea23be77dada80823d07f7bf04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the requested group.  <br /></td></tr>
<tr class="separator:a0d22afea23be77dada80823d07f7bf04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9394a214a52352e2ba9c372ad288de8" id="r_ad9394a214a52352e2ba9c372ad288de8"><td class="memItemLeft" align="right" valign="top"><a id="ad9394a214a52352e2ba9c372ad288de8" name="ad9394a214a52352e2ba9c372ad288de8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get_manual_enrol_buttons</b> ()</td></tr>
<tr class="separator:ad9394a214a52352e2ba9c372ad288de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855655517101287de554bed9fe770a07" id="r_a855655517101287de554bed9fe770a07"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a855655517101287de554bed9fe770a07">get_moodlepage</a> ()</td></tr>
<tr class="memdesc:a855655517101287de554bed9fe770a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current moodle page.  <br /></td></tr>
<tr class="separator:a855655517101287de554bed9fe770a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87cfed87befe83e650805560020b8d37" id="r_a87cfed87befe83e650805560020b8d37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87cfed87befe83e650805560020b8d37">get_other_users</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#ga4bd31bcedb7b4943aac2da78d0d84afe">sort</a>, $direction='ASC', $page=0, $perpage=25)</td></tr>
<tr class="memdesc:a87cfed87befe83e650805560020b8d37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets and array of other users.  <br /></td></tr>
<tr class="separator:a87cfed87befe83e650805560020b8d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f349c2ae472c259b1efba9a38f10d09" id="r_a3f349c2ae472c259b1efba9a38f10d09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f349c2ae472c259b1efba9a38f10d09">get_other_users_for_display</a> (<a class="el" href="../../d0/dfb/classcore__enrol__renderer.html">core_enrol_renderer</a> $renderer, <a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a> $pageurl, $<a class="el" href="../../dc/d71/group___imap___client.html#ga4bd31bcedb7b4943aac2da78d0d84afe">sort</a>, $direction, $page, $perpage)</td></tr>
<tr class="memdesc:a3f349c2ae472c259b1efba9a38f10d09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an array of other users in this course ready for display.  <br /></td></tr>
<tr class="separator:a3f349c2ae472c259b1efba9a38f10d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff3029c2fac9979fbac080f32f3acbe" id="r_a0ff3029c2fac9979fbac080f32f3acbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ff3029c2fac9979fbac080f32f3acbe">get_potential_users</a> ($enrolid, $<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>='', $searchanywhere=false, $page=0, $perpage=25, $addedenrollment=0, $returnexactcount=false)</td></tr>
<tr class="memdesc:a0ff3029c2fac9979fbac080f32f3acbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an array of the users that can be enrolled in this course.  <br /></td></tr>
<tr class="separator:a0ff3029c2fac9979fbac080f32f3acbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8579b435ad7975700131c5ad567d59fd" id="r_a8579b435ad7975700131c5ad567d59fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8579b435ad7975700131c5ad567d59fd">get_total_other_users</a> ()</td></tr>
<tr class="memdesc:a8579b435ad7975700131c5ad567d59fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of enrolled users in the course.  <br /></td></tr>
<tr class="separator:a8579b435ad7975700131c5ad567d59fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad950250285e17244b32d88a490d34e11" id="r_ad950250285e17244b32d88a490d34e11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad950250285e17244b32d88a490d34e11">get_total_users</a> ()</td></tr>
<tr class="memdesc:ad950250285e17244b32d88a490d34e11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of enrolled users in the course.  <br /></td></tr>
<tr class="separator:ad950250285e17244b32d88a490d34e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb47bf0f5d98914d036bcd50b935fe4e" id="r_aeb47bf0f5d98914d036bcd50b935fe4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb47bf0f5d98914d036bcd50b935fe4e">get_url_params</a> ()</td></tr>
<tr class="memdesc:aeb47bf0f5d98914d036bcd50b935fe4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retursn an array of params that would go into the URL to return to this exact page.  <br /></td></tr>
<tr class="separator:aeb47bf0f5d98914d036bcd50b935fe4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a24e0fbe741d076f7d024e67e98249c" id="r_a2a24e0fbe741d076f7d024e67e98249c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a24e0fbe741d076f7d024e67e98249c">get_user_enrolment_components</a> ($userenrolment)</td></tr>
<tr class="memdesc:a2a24e0fbe741d076f7d024e67e98249c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a user enrolment record this method returns the plugin and enrolment instance that relate to it.  <br /></td></tr>
<tr class="separator:a2a24e0fbe741d076f7d024e67e98249c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a696f06d5d919123bc2cab614a921ff6a" id="r_a696f06d5d919123bc2cab614a921ff6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a696f06d5d919123bc2cab614a921ff6a">get_user_enrolments</a> ($userid)</td></tr>
<tr class="memdesc:a696f06d5d919123bc2cab614a921ff6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the enrolments this user has in the course - including all suspended plugins and instances.  <br /></td></tr>
<tr class="separator:a696f06d5d919123bc2cab614a921ff6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad275841511590df68f2299c31015552" id="r_aad275841511590df68f2299c31015552"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad275841511590df68f2299c31015552">get_user_groups</a> ($userid)</td></tr>
<tr class="memdesc:aad275841511590df68f2299c31015552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the groups this user belongs to.  <br /></td></tr>
<tr class="separator:aad275841511590df68f2299c31015552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526d92f876732c76cd682d98d98a135e" id="r_a526d92f876732c76cd682d98d98a135e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a526d92f876732c76cd682d98d98a135e">get_user_roles</a> ($userid)</td></tr>
<tr class="memdesc:a526d92f876732c76cd682d98d98a135e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the roles assigned to this user that are applicable for this course.  <br /></td></tr>
<tr class="separator:a526d92f876732c76cd682d98d98a135e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab213802db050677a89586508e18090f8" id="r_ab213802db050677a89586508e18090f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab213802db050677a89586508e18090f8">get_users</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#ga4bd31bcedb7b4943aac2da78d0d84afe">sort</a>, $direction='ASC', $page=0, $perpage=25)</td></tr>
<tr class="memdesc:ab213802db050677a89586508e18090f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the users enrolled in this course.  <br /></td></tr>
<tr class="separator:ab213802db050677a89586508e18090f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb1c2028b13afedf72da157535eee2ae" id="r_aeb1c2028b13afedf72da157535eee2ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb1c2028b13afedf72da157535eee2ae">get_users_enrolments</a> (array $userids)</td></tr>
<tr class="memdesc:aeb1c2028b13afedf72da157535eee2ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns and array of users + enrolment details.  <br /></td></tr>
<tr class="separator:aeb1c2028b13afedf72da157535eee2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b5fe999a333940f3b7bb7d68a4bb28" id="r_ad6b5fe999a333940f3b7bb7d68a4bb28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6b5fe999a333940f3b7bb7d68a4bb28">get_users_for_display</a> (<a class="el" href="../../dd/d43/classcourse__enrolment__manager.html">course_enrolment_manager</a> $manager, $<a class="el" href="../../dc/d71/group___imap___client.html#ga4bd31bcedb7b4943aac2da78d0d84afe">sort</a>, $direction, $page, $perpage)</td></tr>
<tr class="memdesc:ad6b5fe999a333940f3b7bb7d68a4bb28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an array of users for display, this includes minimal user information as well as minimal information on the users roles, groups, and enrolments.  <br /></td></tr>
<tr class="separator:ad6b5fe999a333940f3b7bb7d68a4bb28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d2409dd97ce3f35172e208fc8557e5" id="r_a95d2409dd97ce3f35172e208fc8557e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95d2409dd97ce3f35172e208fc8557e5">get_viewable_roles</a> ()</td></tr>
<tr class="memdesc:a95d2409dd97ce3f35172e208fc8557e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the roles this course can contain.  <br /></td></tr>
<tr class="separator:a95d2409dd97ce3f35172e208fc8557e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5318417facb8faa5203c6dd24ced5860" id="r_a5318417facb8faa5203c6dd24ced5860"><td class="memItemLeft" align="right" valign="top"><a id="a5318417facb8faa5203c6dd24ced5860" name="a5318417facb8faa5203c6dd24ced5860"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>has_instance</b> ($enrolpluginname)</td></tr>
<tr class="separator:a5318417facb8faa5203c6dd24ced5860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f11b4350cfdfecf24b76e9a8907cb7f" id="r_a6f11b4350cfdfecf24b76e9a8907cb7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f11b4350cfdfecf24b76e9a8907cb7f">remove_user_from_group</a> ($user, $groupid)</td></tr>
<tr class="memdesc:a6f11b4350cfdfecf24b76e9a8907cb7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a user from a group.  <br /></td></tr>
<tr class="separator:a6f11b4350cfdfecf24b76e9a8907cb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33254ccbc7f878cd4474d4bf6452723d" id="r_a33254ccbc7f878cd4474d4bf6452723d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a33254ccbc7f878cd4474d4bf6452723d">search_other_users</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>='', $searchanywhere=false, $page=0, $perpage=25, $returnexactcount=false)</td></tr>
<tr class="memdesc:a33254ccbc7f878cd4474d4bf6452723d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches other users and returns paginated results.  <br /></td></tr>
<tr class="separator:a33254ccbc7f878cd4474d4bf6452723d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192a119eb07b358c5c5a48890aaf9068" id="r_a192a119eb07b358c5c5a48890aaf9068"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a192a119eb07b358c5c5a48890aaf9068">search_users</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>='', bool $searchanywhere=false, int $page=0, int $perpage=25, bool $returnexactcount=false, ?int $contextid=null)</td></tr>
<tr class="memdesc:a192a119eb07b358c5c5a48890aaf9068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches through the enrolled users in this course.  <br /></td></tr>
<tr class="separator:a192a119eb07b358c5c5a48890aaf9068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abafca521c66c6c5785579d0928222a1c" id="r_abafca521c66c6c5785579d0928222a1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abafca521c66c6c5785579d0928222a1c">unassign_role_from_user</a> ($userid, $roleid)</td></tr>
<tr class="memdesc:abafca521c66c6c5785579d0928222a1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an assigned role from a user.  <br /></td></tr>
<tr class="separator:abafca521c66c6c5785579d0928222a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444cd3f761db4e298510fe3ef9a8b417" id="r_a444cd3f761db4e298510fe3ef9a8b417"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a444cd3f761db4e298510fe3ef9a8b417">unenrol_user</a> ($ue)</td></tr>
<tr class="memdesc:a444cd3f761db4e298510fe3ef9a8b417"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unenrols a user from the course given the users ue entry.  <br /></td></tr>
<tr class="separator:a444cd3f761db4e298510fe3ef9a8b417"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:affea0fa649cc0aa0c21e8dd918d6e430" id="r_affea0fa649cc0aa0c21e8dd918d6e430"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affea0fa649cc0aa0c21e8dd918d6e430">execute_search_queries</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>, $<a class="el" href="../../df/d37/classcore__user_1_1fields.html">fields</a>, $countfields, $sql, array $params, $page, $perpage, $addedenrollment=0, $returnexactcount=false)</td></tr>
<tr class="memdesc:affea0fa649cc0aa0c21e8dd918d6e430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method used by <a class="el" href="#a0ff3029c2fac9979fbac080f32f3acbe">get_potential_users()</a> and <a class="el" href="#a33254ccbc7f878cd4474d4bf6452723d">search_other_users()</a>.  <br /></td></tr>
<tr class="separator:affea0fa649cc0aa0c21e8dd918d6e430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81922ad83f5bf3aeda1359013ad58cd9" id="r_a81922ad83f5bf3aeda1359013ad58cd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81922ad83f5bf3aeda1359013ad58cd9">get_basic_search_conditions</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>, $searchanywhere)</td></tr>
<tr class="memdesc:a81922ad83f5bf3aeda1359013ad58cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method used by <a class="el" href="#a0ff3029c2fac9979fbac080f32f3acbe">get_potential_users()</a> and <a class="el" href="#a33254ccbc7f878cd4474d4bf6452723d">search_other_users()</a>.  <br /></td></tr>
<tr class="separator:a81922ad83f5bf3aeda1359013ad58cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa8fc6ac75212150094e084612de959" id="r_a5aa8fc6ac75212150094e084612de959"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5aa8fc6ac75212150094e084612de959">get_filter_sql</a> ()</td></tr>
<tr class="memdesc:a5aa8fc6ac75212150094e084612de959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains WHERE clause to filter results by defined search and role filter (instance filter is handled separately in JOIN clause, see get_instance_sql).  <br /></td></tr>
<tr class="separator:a5aa8fc6ac75212150094e084612de959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad884e7f33d8e0068895291c1d45d3c6f" id="r_ad884e7f33d8e0068895291c1d45d3c6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad884e7f33d8e0068895291c1d45d3c6f">get_instance_sql</a> ()</td></tr>
<tr class="memdesc:ad884e7f33d8e0068895291c1d45d3c6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an array containing some SQL to user for when selecting, params for that SQL, and the filter that was used in constructing the sql.  <br /></td></tr>
<tr class="separator:ad884e7f33d8e0068895291c1d45d3c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2e77c9e2449724ae937c2d03fbfac2c1" id="r_a2e77c9e2449724ae937c2d03fbfac2c1"><td class="memItemLeft" align="right" valign="top"><a id="a2e77c9e2449724ae937c2d03fbfac2c1" name="a2e77c9e2449724ae937c2d03fbfac2c1"></a>
context&#160;</td><td class="memItemRight" valign="bottom"><b>$context</b></td></tr>
<tr class="memdesc:a2e77c9e2449724ae937c2d03fbfac2c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The course context. <br /></td></tr>
<tr class="separator:a2e77c9e2449724ae937c2d03fbfac2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95814aa142e8d1347a3f28f494caacd6" id="r_a95814aa142e8d1347a3f28f494caacd6"><td class="memItemLeft" align="right" valign="top"><a id="a95814aa142e8d1347a3f28f494caacd6" name="a95814aa142e8d1347a3f28f494caacd6"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>$course</b> = null</td></tr>
<tr class="memdesc:a95814aa142e8d1347a3f28f494caacd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The course we are managing enrolments for. <br /></td></tr>
<tr class="separator:a95814aa142e8d1347a3f28f494caacd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515b5e584382b89f31e17ceae25efa9e" id="r_a515b5e584382b89f31e17ceae25efa9e"><td class="memItemLeft" align="right" valign="top"><a id="a515b5e584382b89f31e17ceae25efa9e" name="a515b5e584382b89f31e17ceae25efa9e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$groupfilter</b> = 0</td></tr>
<tr class="memdesc:a515b5e584382b89f31e17ceae25efa9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limits the focus of the manager to users in specified group. <br /></td></tr>
<tr class="separator:a515b5e584382b89f31e17ceae25efa9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd8053efbbd8701ce319b516e0fbdc3" id="r_a8fd8053efbbd8701ce319b516e0fbdc3"><td class="memItemLeft" align="right" valign="top"><a id="a8fd8053efbbd8701ce319b516e0fbdc3" name="a8fd8053efbbd8701ce319b516e0fbdc3"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$instancefilter</b> = null</td></tr>
<tr class="memdesc:a8fd8053efbbd8701ce319b516e0fbdc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limits the focus of the manager to one enrolment plugin instance. <br /></td></tr>
<tr class="separator:a8fd8053efbbd8701ce319b516e0fbdc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2d32e4d76122b888398b5a8873ddc6" id="r_ada2d32e4d76122b888398b5a8873ddc6"><td class="memItemLeft" align="right" valign="top"><a id="ada2d32e4d76122b888398b5a8873ddc6" name="ada2d32e4d76122b888398b5a8873ddc6"></a>
<a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$moodlepage</b> = null</td></tr>
<tr class="memdesc:ada2d32e4d76122b888398b5a8873ddc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current <a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a> object. <br /></td></tr>
<tr class="separator:ada2d32e4d76122b888398b5a8873ddc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b2ac864e9ba3b9c49966b6c1931681" id="r_ae3b2ac864e9ba3b9c49966b6c1931681"><td class="memItemLeft" align="right" valign="top"><a id="ae3b2ac864e9ba3b9c49966b6c1931681" name="ae3b2ac864e9ba3b9c49966b6c1931681"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$otherusers</b> = array()</td></tr>
<tr class="memdesc:ae3b2ac864e9ba3b9c49966b6c1931681"><td class="mdescLeft">&#160;</td><td class="mdescRight">An array of users who have roles within this course but who have not been enrolled in the course. <br /></td></tr>
<tr class="separator:ae3b2ac864e9ba3b9c49966b6c1931681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270b13b9208117bfe70ca89d75fb5b69" id="r_a270b13b9208117bfe70ca89d75fb5b69"><td class="memItemLeft" align="right" valign="top"><a id="a270b13b9208117bfe70ca89d75fb5b69" name="a270b13b9208117bfe70ca89d75fb5b69"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$rolefilter</b> = 0</td></tr>
<tr class="memdesc:a270b13b9208117bfe70ca89d75fb5b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limits the focus of the manager to users with specified role. <br /></td></tr>
<tr class="separator:a270b13b9208117bfe70ca89d75fb5b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344ea09b8448d2c8d935a7b7f653a8a5" id="r_a344ea09b8448d2c8d935a7b7f653a8a5"><td class="memItemLeft" align="right" valign="top"><a id="a344ea09b8448d2c8d935a7b7f653a8a5" name="a344ea09b8448d2c8d935a7b7f653a8a5"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$searchfilter</b> = ''</td></tr>
<tr class="memdesc:a344ea09b8448d2c8d935a7b7f653a8a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limits the focus of the manager to users who match search string. <br /></td></tr>
<tr class="separator:a344ea09b8448d2c8d935a7b7f653a8a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4cb83f847e52b2fa56c74459df7d1e4" id="r_ad4cb83f847e52b2fa56c74459df7d1e4"><td class="memItemLeft" align="right" valign="top"><a id="ad4cb83f847e52b2fa56c74459df7d1e4" name="ad4cb83f847e52b2fa56c74459df7d1e4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$statusfilter</b> = -1</td></tr>
<tr class="memdesc:ad4cb83f847e52b2fa56c74459df7d1e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limits the focus of the manager to users who match status active/inactive. <br /></td></tr>
<tr class="separator:ad4cb83f847e52b2fa56c74459df7d1e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b33ab979a34e5031002a6c278ac5949" id="r_a6b33ab979a34e5031002a6c278ac5949"><td class="memItemLeft" align="right" valign="top"><a id="a6b33ab979a34e5031002a6c278ac5949" name="a6b33ab979a34e5031002a6c278ac5949"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$totalotherusers</b> = null</td></tr>
<tr class="memdesc:a6b33ab979a34e5031002a6c278ac5949"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of users who hold a role within the course but who arn't enrolled. <br /></td></tr>
<tr class="separator:a6b33ab979a34e5031002a6c278ac5949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9993d2c2dadd667dfa6cbb06ade464a" id="r_af9993d2c2dadd667dfa6cbb06ade464a"><td class="memItemLeft" align="right" valign="top"><a id="af9993d2c2dadd667dfa6cbb06ade464a" name="af9993d2c2dadd667dfa6cbb06ade464a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$totalusers</b> = null</td></tr>
<tr class="memdesc:af9993d2c2dadd667dfa6cbb06ade464a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of users enrolled in the course Populated by <a class="el" href="#ad950250285e17244b32d88a490d34e11" title="Returns the total number of enrolled users in the course.">course_enrolment_manager\get_total_users</a>. <br /></td></tr>
<tr class="separator:af9993d2c2dadd667dfa6cbb06ade464a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a697c5d6765d96cbea307f80e6c843" id="r_af5a697c5d6765d96cbea307f80e6c843"><td class="memItemLeft" align="right" valign="top"><a id="af5a697c5d6765d96cbea307f80e6c843" name="af5a697c5d6765d96cbea307f80e6c843"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$users</b> = array()</td></tr>
<tr class="memdesc:af5a697c5d6765d96cbea307f80e6c843"><td class="mdescLeft">&#160;</td><td class="mdescRight">An array of users currently enrolled in the course Populated by <a class="el" href="#ab213802db050677a89586508e18090f8" title="Gets all of the users enrolled in this course.">course_enrolment_manager\get_users</a>. <br /></td></tr>
<tr class="separator:af5a697c5d6765d96cbea307f80e6c843"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides a targeted tied together means of interfacing the enrolment tasks together with a course. </p>
<p>It is provided as a convenience more than anything else.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>2010 Sam Hemelryk </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aedf99dc768814ea6487d85ae3326e512" name="aedf99dc768814ea6487d85ae3326e512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf99dc768814ea6487d85ae3326e512">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a></td>          <td class="paramname"><span class="paramname"><em>$moodlepage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$course</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$instancefilter</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$rolefilter</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$searchfilter</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$groupfilter</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$statusfilter</em></span><span class="paramdefsep"> = </span><span class="paramdefval">-1</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>#- </p>
<p>Constructs the course enrolment manager</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a></td><td class="paramname">$moodlepage</td><td></td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$course</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$instancefilter</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rolefilter</td><td>If non-zero, filters to users with specified role </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$searchfilter</td><td>If non-blank, filters to users with search text </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$groupfilter</td><td>if non-zero, filter users with specified group </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$statusfilter</td><td>if not -1, filter users with active/inactive enrollment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aad3dd67f9f160fb580f704bda6260e88" name="aad3dd67f9f160fb580f704bda6260e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3dd67f9f160fb580f704bda6260e88">&#9670;&#160;</a></span>add_user_to_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::add_user_to_group </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$groupid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a user to a group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$groupid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc54b8c91a3d552922bd7686ea7403ca" name="abc54b8c91a3d552922bd7686ea7403ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc54b8c91a3d552922bd7686ea7403ca">&#9670;&#160;</a></span>assign_role_to_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::assign_role_to_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$roleid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns a role to a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|false</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b2900da559fb3d69b6d1bf17d1b99e9" name="a7b2900da559fb3d69b6d1bf17d1b99e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2900da559fb3d69b6d1bf17d1b99e9">&#9670;&#160;</a></span>edit_enrolment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::edit_enrolment </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userenrolment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Edits an enrolment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$userenrolment</td><td></td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="affea0fa649cc0aa0c21e8dd918d6e430" name="affea0fa649cc0aa0c21e8dd918d6e430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affea0fa649cc0aa0c21e8dd918d6e430">&#9670;&#160;</a></span>execute_search_queries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::execute_search_queries </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$search</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fields</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$countfields</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sql</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$perpage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$addedenrollment</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$returnexactcount</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method used by <a class="el" href="#a0ff3029c2fac9979fbac080f32f3acbe">get_potential_users()</a> and <a class="el" href="#a33254ccbc7f878cd4474d4bf6452723d">search_other_users()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>the search string, if any. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>the first bit of the SQL when returning some users. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$countfields</td><td>fhe first bit of the SQL when counting the users. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>the bulk of the SQL statement. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>query parameters. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$page</td><td>which page number of the results to show. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perpage</td><td>number of users per page. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$addedenrollment</td><td>number of users added to enrollment. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnexactcount</td><td>Return the exact total users using count_record or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with two or three elements: int totalusers Number users matching the search. (This element only exist if $returnexactcount was set to true) array users List of user objects returned by the query. boolean moreusers True if there are still more users, otherwise is False. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e46955d48c1ec5890c20cf9ed5a9c48" name="a6e46955d48c1ec5890c20cf9ed5a9c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e46955d48c1ec5890c20cf9ed5a9c48">&#9670;&#160;</a></span>get_all_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_all_groups </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all of the groups for this course. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae39d27261c91fcef20aac2ed3f71fc6a" name="ae39d27261c91fcef20aac2ed3f71fc6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae39d27261c91fcef20aac2ed3f71fc6a">&#9670;&#160;</a></span>get_all_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_all_roles </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all of the roles this course can contain. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9fc1853468f54d8b79f6f87fe44b7024" name="a9fc1853468f54d8b79f6f87fe44b7024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fc1853468f54d8b79f6f87fe44b7024">&#9670;&#160;</a></span>get_assignable_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_assignable_roles </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$otherusers</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all of the assignable roles for this course. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae7c92165e7121f30f1fdbd2b8e24528b" name="ae7c92165e7121f30f1fdbd2b8e24528b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7c92165e7121f30f1fdbd2b8e24528b">&#9670;&#160;</a></span>get_assignable_roles_for_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_assignable_roles_for_json </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$otherusers</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all of the assignable roles for this course, wrapped in an array to ensure role sort order is not lost during json deserialisation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$otherusers</td><td>whether to include the assignable roles for other users </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81922ad83f5bf3aeda1359013ad58cd9" name="a81922ad83f5bf3aeda1359013ad58cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81922ad83f5bf3aeda1359013ad58cd9">&#9670;&#160;</a></span>get_basic_search_conditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_basic_search_conditions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$search</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$searchanywhere</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method used by <a class="el" href="#a0ff3029c2fac9979fbac080f32f3acbe">get_potential_users()</a> and <a class="el" href="#a33254ccbc7f878cd4474d4bf6452723d">search_other_users()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>the search term, if any. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$searchanywhere</td><td>Can the search term be anywhere, or must it be at the start. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with three elements: string list of fields to SELECT, string possible database joins for user fields string contents of SQL WHERE clause, array query params. Note that the SQL snippets use named parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9bbc9736782946a19e8bf5ee26f04c3" name="ae9bbc9736782946a19e8bf5ee26f04c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9bbc9736782946a19e8bf5ee26f04c3">&#9670;&#160;</a></span>get_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_context </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the course context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">context</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e9e43cd58305438f8c2d21f8f68e537" name="a6e9e43cd58305438f8c2d21f8f68e537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9e43cd58305438f8c2d21f8f68e537">&#9670;&#160;</a></span>get_course()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_course </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the course this object is managing enrolments for. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4dcf16699e34f4fb45c5b9e4f1be0e12" name="a4dcf16699e34f4fb45c5b9e4f1be0e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dcf16699e34f4fb45c5b9e4f1be0e12">&#9670;&#160;</a></span>get_enrolment_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_enrolment_filter </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current enrolment filter that is being applied by this class. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a49c5e90f312b4c80ad5cb2b9aed16ada" name="a49c5e90f312b4c80ad5cb2b9aed16ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c5e90f312b4c80ad5cb2b9aed16ada">&#9670;&#160;</a></span>get_enrolment_instance_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_enrolment_instance_names </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$onlyenabled</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the names for all of the enrolment instances for this course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$onlyenabled</td><td>Whether to return data from enabled enrolment instance names only. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97abdf33a8b09cdd3470bdc08826e8b0" name="a97abdf33a8b09cdd3470bdc08826e8b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97abdf33a8b09cdd3470bdc08826e8b0">&#9670;&#160;</a></span>get_enrolment_instances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_enrolment_instances </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$onlyenabled</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all of the enrolment instances for this course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$onlyenabled</td><td>Whether to return data from enabled enrolment instance names only. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6008897adffbb0202d9ebf102ed8c277" name="a6008897adffbb0202d9ebf102ed8c277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6008897adffbb0202d9ebf102ed8c277">&#9670;&#160;</a></span>get_enrolment_plugins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_enrolment_plugins </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$onlyenabled</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all of the enrolment plugins that are available for this course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$onlyenabled</td><td>return only enabled enrol plugins </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5aa8fc6ac75212150094e084612de959" name="a5aa8fc6ac75212150094e084612de959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa8fc6ac75212150094e084612de959">&#9670;&#160;</a></span>get_filter_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_filter_sql </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtains WHERE clause to filter results by defined search and role filter (instance filter is handled separately in JOIN clause, see get_instance_sql). </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Two-element array with SQL and params for WHERE clause </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7301995e879a82c13d5ff57aed1d9df3" name="a7301995e879a82c13d5ff57aed1d9df3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7301995e879a82c13d5ff57aed1d9df3">&#9670;&#160;</a></span>get_filtered_enrolment_plugin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_filtered_enrolment_plugin </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the enrolment plugin that the course manager was being filtered to. </p>
<p>If no filter was being applied then this function returns false.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/d0e/classenrol__plugin.html" title="Enrolment plugins abstract class.">enrol_plugin</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d22afea23be77dada80823d07f7bf04" name="a0d22afea23be77dada80823d07f7bf04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d22afea23be77dada80823d07f7bf04">&#9670;&#160;</a></span>get_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_group </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$groupid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the requested group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$groupid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad884e7f33d8e0068895291c1d45d3c6f" name="ad884e7f33d8e0068895291c1d45d3c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad884e7f33d8e0068895291c1d45d3c6f">&#9670;&#160;</a></span>get_instance_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::get_instance_sql </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets an array containing some SQL to user for when selecting, params for that SQL, and the filter that was used in constructing the sql. </p>
<p>$DB </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a855655517101287de554bed9fe770a07" name="a855655517101287de554bed9fe770a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a855655517101287de554bed9fe770a07">&#9670;&#160;</a></span>get_moodlepage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_moodlepage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current moodle page. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a87cfed87befe83e650805560020b8d37" name="a87cfed87befe83e650805560020b8d37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87cfed87befe83e650805560020b8d37">&#9670;&#160;</a></span>get_other_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::get_other_users </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$direction</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'ASC'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$perpage</em></span><span class="paramdefsep"> = </span><span class="paramdefval">25</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets and array of other users. </p>
<p>Other users are users who have been assigned roles or inherited roles within this course but who have not been enrolled in the course</p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$direction</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$page</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perpage</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f349c2ae472c259b1efba9a38f10d09" name="a3f349c2ae472c259b1efba9a38f10d09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f349c2ae472c259b1efba9a38f10d09">&#9670;&#160;</a></span>get_other_users_for_display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_other_users_for_display </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dfb/classcore__enrol__renderer.html">core_enrol_renderer</a></td>          <td class="paramname"><span class="paramname"><em>$renderer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a></td>          <td class="paramname"><span class="paramname"><em>$pageurl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$direction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$perpage</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an array of other users in this course ready for display. </p>
<p>Other users are users who have been assigned or inherited roles within this course but have not been enrolled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/dfb/classcore__enrol__renderer.html" title="This is the core renderer.">core_enrol_renderer</a></td><td class="paramname">$renderer</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td class="paramname">$pageurl</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$direction</td><td>ASC | DESC </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$page</td><td>Starting from 0 </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perpage</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ff3029c2fac9979fbac080f32f3acbe" name="a0ff3029c2fac9979fbac080f32f3acbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff3029c2fac9979fbac080f32f3acbe">&#9670;&#160;</a></span>get_potential_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::get_potential_users </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$enrolid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$search</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$searchanywhere</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$perpage</em></span><span class="paramdefsep"> = </span><span class="paramdefval">25</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$addedenrollment</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$returnexactcount</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an array of the users that can be enrolled in this course. </p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$enrolid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$searchanywhere</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$page</td><td>Defaults to 0 </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perpage</td><td>Defaults to 25 </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$addedenrollment</td><td>Defaults to 0 </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnexactcount</td><td>Return the exact total users using count_record or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with two or three elements: int totalusers Number users matching the search. (This element only exist if $returnexactcount was set to true) array users List of user objects returned by the query. boolean moreusers True if there are still more users, otherwise is False. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8579b435ad7975700131c5ad567d59fd" name="a8579b435ad7975700131c5ad567d59fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8579b435ad7975700131c5ad567d59fd">&#9670;&#160;</a></span>get_total_other_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::get_total_other_users </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total number of enrolled users in the course. </p>
<p>If a filter was specificed this will be the total number of users enrolled in this course by means of that instance.</p>
<p>$DB </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad950250285e17244b32d88a490d34e11" name="ad950250285e17244b32d88a490d34e11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad950250285e17244b32d88a490d34e11">&#9670;&#160;</a></span>get_total_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::get_total_users </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total number of enrolled users in the course. </p>
<p>If a filter was specificed this will be the total number of users enrolled in this course by means of that instance.</p>
<p>$DB </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeb47bf0f5d98914d036bcd50b935fe4e" name="aeb47bf0f5d98914d036bcd50b935fe4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb47bf0f5d98914d036bcd50b935fe4e">&#9670;&#160;</a></span>get_url_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_url_params </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retursn an array of params that would go into the URL to return to this exact page. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a24e0fbe741d076f7d024e67e98249c" name="a2a24e0fbe741d076f7d024e67e98249c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a24e0fbe741d076f7d024e67e98249c">&#9670;&#160;</a></span>get_user_enrolment_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_user_enrolment_components </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userenrolment</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a user enrolment record this method returns the plugin and enrolment instance that relate to it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass&#160;|&#160;int</td><td class="paramname">$userenrolment</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>array($instance, $plugin) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a696f06d5d919123bc2cab614a921ff6a" name="a696f06d5d919123bc2cab614a921ff6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a696f06d5d919123bc2cab614a921ff6a">&#9670;&#160;</a></span>get_user_enrolments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::get_user_enrolments </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the enrolments this user has in the course - including all suspended plugins and instances. </p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad275841511590df68f2299c31015552" name="aad275841511590df68f2299c31015552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad275841511590df68f2299c31015552">&#9670;&#160;</a></span>get_user_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_user_groups </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the groups this user belongs to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a526d92f876732c76cd682d98d98a135e" name="a526d92f876732c76cd682d98d98a135e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a526d92f876732c76cd682d98d98a135e">&#9670;&#160;</a></span>get_user_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_user_roles </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the roles assigned to this user that are applicable for this course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab213802db050677a89586508e18090f8" name="ab213802db050677a89586508e18090f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab213802db050677a89586508e18090f8">&#9670;&#160;</a></span>get_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::get_users </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$direction</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'ASC'</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$perpage</em></span><span class="paramdefsep"> = </span><span class="paramdefval">25</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all of the users enrolled in this course. </p>
<p>If a filter was specified this will be the users who were enrolled in this course by means of that instance. If role or search filters were specified then these will also be applied.</p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$direction</td><td>ASC or DESC </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$page</td><td>First page should be 0 </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perpage</td><td>Defaults to 25 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeb1c2028b13afedf72da157535eee2ae" name="aeb1c2028b13afedf72da157535eee2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb1c2028b13afedf72da157535eee2ae">&#9670;&#160;</a></span>get_users_enrolments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::get_users_enrolments </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$userids</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns and array of users + enrolment details. </p>
<p>Given an array of user id's this function returns and array of user enrolments for those users as well as enough user information to display the users name and picture for each enrolment.</p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6b5fe999a333940f3b7bb7d68a4bb28" name="ad6b5fe999a333940f3b7bb7d68a4bb28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b5fe999a333940f3b7bb7d68a4bb28">&#9670;&#160;</a></span>get_users_for_display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_users_for_display </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d43/classcourse__enrolment__manager.html">course_enrolment_manager</a></td>          <td class="paramname"><span class="paramname"><em>$manager</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$direction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$perpage</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an array of users for display, this includes minimal user information as well as minimal information on the users roles, groups, and enrolments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/dfb/classcore__enrol__renderer.html" title="This is the core renderer.">core_enrol_renderer</a></td><td class="paramname">$renderer</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td class="paramname">$pageurl</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$sort</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$direction</td><td>ASC or DESC </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$page</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perpage</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95d2409dd97ce3f35172e208fc8557e5" name="a95d2409dd97ce3f35172e208fc8557e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d2409dd97ce3f35172e208fc8557e5">&#9670;&#160;</a></span>get_viewable_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::get_viewable_roles </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all of the roles this course can contain. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f11b4350cfdfecf24b76e9a8907cb7f" name="a6f11b4350cfdfecf24b76e9a8907cb7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f11b4350cfdfecf24b76e9a8907cb7f">&#9670;&#160;</a></span>remove_user_from_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::remove_user_from_group </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$groupid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a user from a group. </p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">StdClass</td><td class="paramname">$user</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$groupid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a33254ccbc7f878cd4474d4bf6452723d" name="a33254ccbc7f878cd4474d4bf6452723d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33254ccbc7f878cd4474d4bf6452723d">&#9670;&#160;</a></span>search_other_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::search_other_users </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$search</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$searchanywhere</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$perpage</em></span><span class="paramdefsep"> = </span><span class="paramdefval">25</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$returnexactcount</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches other users and returns paginated results. </p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$searchanywhere</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$page</td><td>Starting at 0 </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perpage</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnexactcount</td><td>Return the exact total users using count_record or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with two or three elements: int totalusers Number users matching the search. (This element only exist if $returnexactcount was set to true) array users List of user objects returned by the query. boolean moreusers True if there are still more users, otherwise is False. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a192a119eb07b358c5c5a48890aaf9068" name="a192a119eb07b358c5c5a48890aaf9068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192a119eb07b358c5c5a48890aaf9068">&#9670;&#160;</a></span>search_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">course_enrolment_manager::search_users </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$search</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$searchanywhere</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$page</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$perpage</em></span><span class="paramdefsep"> = </span><span class="paramdefval">25</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$returnexactcount</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?int</td>          <td class="paramname"><span class="paramname"><em>$contextid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches through the enrolled users in this course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>The search term. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$searchanywhere</td><td>Can the search term be anywhere, or must it be at the start. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$page</td><td>Starting at 0. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perpage</td><td>Number of users returned per page. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnexactcount</td><td>Return the exact total users using count_record or not. </td></tr>
    <tr><td class="paramtype">?int</td><td class="paramname">$contextid</td><td>Context ID we are in - we might use search on activity level and its group mode can be different from course group mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with two or three elements: int totalusers Number users matching the search. (This element only exist if $returnexactcount was set to true) array users List of user objects returned by the query. boolean moreusers True if there are still more users, otherwise is False. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abafca521c66c6c5785579d0928222a1c" name="abafca521c66c6c5785579d0928222a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abafca521c66c6c5785579d0928222a1c">&#9670;&#160;</a></span>unassign_role_from_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::unassign_role_from_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$roleid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes an assigned role from a user. </p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a444cd3f761db4e298510fe3ef9a8b417" name="a444cd3f761db4e298510fe3ef9a8b417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a444cd3f761db4e298510fe3ef9a8b417">&#9670;&#160;</a></span>unenrol_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> course_enrolment_manager::unenrol_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$ue</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unenrols a user from the course given the users ue entry. </p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$ue</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mnet/service/enrol/<b>locallib.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 26 2024 02:42:03 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
