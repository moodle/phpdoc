<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_search\manager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.3</span>
   </div>
   <div id="projectbrief">Moodle 4.3.4+ (Build: 20240530) (11a2641a137)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d4/dbc/namespacecore__search.html">core_search</a></li><li class="navelem"><a class="el" href="../../d8/df9/classcore__search_1_1manager.html">manager</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../d8/d46/classcore__search_1_1manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_search\manager Class Reference<div class="ingroups"><a class="el" href="../../dc/da9/group__core__search.html">core_search</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Search subsystem manager.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad87883e052509ff8a16df4fd47ce76f7" id="r_ad87883e052509ff8a16df4fd47ce76f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad87883e052509ff8a16df4fd47ce76f7">__construct</a> ($<a class="el" href="../../d0/d66/classcore__search_1_1engine.html">engine</a>)</td></tr>
<tr class="memdesc:ad87883e052509ff8a16df4fd47ce76f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor, use <a class="el" href="#a1b1f99b006569b8ceca5f508c4a2ed37" title="Returns an initialised core_search instance.">core_search\manager\instance</a> instead to get a class instance.  <br /></td></tr>
<tr class="separator:ad87883e052509ff8a16df4fd47ce76f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3e3afdafd0628b1e6563abf410fe33" id="r_aab3e3afdafd0628b1e6563abf410fe33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab3e3afdafd0628b1e6563abf410fe33">delete_index</a> ($areaid=false)</td></tr>
<tr class="memdesc:aab3e3afdafd0628b1e6563abf410fe33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an area's documents or all areas documents.  <br /></td></tr>
<tr class="separator:aab3e3afdafd0628b1e6563abf410fe33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4785c31c0d23bfb4347e5708dcefbcd5" id="r_a4785c31c0d23bfb4347e5708dcefbcd5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4785c31c0d23bfb4347e5708dcefbcd5">delete_index_by_id</a> ($id)</td></tr>
<tr class="memdesc:a4785c31c0d23bfb4347e5708dcefbcd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes index by id.  <br /></td></tr>
<tr class="separator:a4785c31c0d23bfb4347e5708dcefbcd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5820dd37f43d55e6413146b68feeec3" id="r_ad5820dd37f43d55e6413146b68feeec3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5820dd37f43d55e6413146b68feeec3">get_areas_config</a> ($searchareas)</td></tr>
<tr class="memdesc:ad5820dd37f43d55e6413146b68feeec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns search areas configuration.  <br /></td></tr>
<tr class="separator:ad5820dd37f43d55e6413146b68feeec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79c0408165590e3e54bafe4f16c3440" id="r_ac79c0408165590e3e54bafe4f16c3440"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac79c0408165590e3e54bafe4f16c3440">get_engine</a> ()</td></tr>
<tr class="memdesc:ac79c0408165590e3e54bafe4f16c3440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the search engine.  <br /></td></tr>
<tr class="separator:ac79c0408165590e3e54bafe4f16c3440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0a02c9b6bb4cd0228b97026c8218268" id="r_ae0a02c9b6bb4cd0228b97026c8218268"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0a02c9b6bb4cd0228b97026c8218268">get_index_requests_info</a> ()</td></tr>
<tr class="memdesc:ae0a02c9b6bb4cd0228b97026c8218268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets information about the request queue, in the form of a plain object suitable for passing to a template for rendering.  <br /></td></tr>
<tr class="separator:ae0a02c9b6bb4cd0228b97026c8218268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fde90b67d2f3910542bcce37c5345dc" id="r_a0fde90b67d2f3910542bcce37c5345dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fde90b67d2f3910542bcce37c5345dc">index</a> ($fullindex=false, $timelimit=0, <a class="el" href="../../dd/d5e/classprogress__trace.html">progress_trace</a> $progress=null)</td></tr>
<tr class="memdesc:a0fde90b67d2f3910542bcce37c5345dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index all documents.  <br /></td></tr>
<tr class="separator:a0fde90b67d2f3910542bcce37c5345dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19c6c42a06be11e25b9d923b69a6d66" id="r_af19c6c42a06be11e25b9d923b69a6d66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af19c6c42a06be11e25b9d923b69a6d66">index_context</a> ($context, $singleareaid='', $timelimit=0, <a class="el" href="../../dd/d5e/classprogress__trace.html">progress_trace</a> $progress=null, $startfromarea='', $startfromtime=0)</td></tr>
<tr class="memdesc:af19c6c42a06be11e25b9d923b69a6d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indexes or reindexes a specific context of the system, e.g.  <br /></td></tr>
<tr class="separator:af19c6c42a06be11e25b9d923b69a6d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46db5903bdce8a3bddb1702dcf25b09" id="r_ac46db5903bdce8a3bddb1702dcf25b09"><td class="memItemLeft" align="right" valign="top"><a id="ac46db5903bdce8a3bddb1702dcf25b09" name="ac46db5903bdce8a3bddb1702dcf25b09"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>optimize_index</b> ()</td></tr>
<tr class="memdesc:ac46db5903bdce8a3bddb1702dcf25b09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge separate index segments into one. <br /></td></tr>
<tr class="separator:ac46db5903bdce8a3bddb1702dcf25b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d55d1e0e8b2fed03cd9e3f3351dc167" id="r_a9d55d1e0e8b2fed03cd9e3f3351dc167"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d55d1e0e8b2fed03cd9e3f3351dc167">paged_search</a> (\stdClass $formdata, $pagenum)</td></tr>
<tr class="memdesc:a9d55d1e0e8b2fed03cd9e3f3351dc167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns requested page of documents plus additional information for paging.  <br /></td></tr>
<tr class="separator:a9d55d1e0e8b2fed03cd9e3f3351dc167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4290b2610242deb90d354ebc60d7341" id="r_ab4290b2610242deb90d354ebc60d7341"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4290b2610242deb90d354ebc60d7341">process_index_requests</a> ($timelimit=0.0, <a class="el" href="../../dd/d5e/classprogress__trace.html">progress_trace</a> $progress=null)</td></tr>
<tr class="memdesc:ab4290b2610242deb90d354ebc60d7341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes outstanding index requests.  <br /></td></tr>
<tr class="separator:ab4290b2610242deb90d354ebc60d7341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b50074e0e14ea8e2ba3711abc48c56" id="r_a48b50074e0e14ea8e2ba3711abc48c56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48b50074e0e14ea8e2ba3711abc48c56">reset_config</a> ($areaid=false)</td></tr>
<tr class="memdesc:a48b50074e0e14ea8e2ba3711abc48c56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets areas config.  <br /></td></tr>
<tr class="separator:a48b50074e0e14ea8e2ba3711abc48c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079b0e4837a9d4889863e90463bae23b" id="r_a079b0e4837a9d4889863e90463bae23b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a079b0e4837a9d4889863e90463bae23b">search</a> (\stdClass $formdata, $limit=0)</td></tr>
<tr class="memdesc:a079b0e4837a9d4889863e90463bae23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns documents from the engine based on the data provided.  <br /></td></tr>
<tr class="separator:a079b0e4837a9d4889863e90463bae23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3777ea0f6dcd529d70b1195169895940" id="r_a3777ea0f6dcd529d70b1195169895940"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3777ea0f6dcd529d70b1195169895940">search_top</a> (\stdClass $formdata)</td></tr>
<tr class="memdesc:a3777ea0f6dcd529d70b1195169895940"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for top ranked result.  <br /></td></tr>
<tr class="separator:a3777ea0f6dcd529d70b1195169895940"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:adeb7e9af7f97055aa9c23bd1bc3f73df" id="r_adeb7e9af7f97055aa9c23bd1bc3f73df"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adeb7e9af7f97055aa9c23bd1bc3f73df">can_replace_course_search</a> ()</td></tr>
<tr class="memdesc:adeb7e9af7f97055aa9c23bd1bc3f73df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if global search is configured to be equivalent to the front page course search.  <br /></td></tr>
<tr class="separator:adeb7e9af7f97055aa9c23bd1bc3f73df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d202b8e778e1f8b7025146f760cac86" id="r_a4d202b8e778e1f8b7025146f760cac86"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d202b8e778e1f8b7025146f760cac86">clean_up_non_existing_area</a> ($areaid)</td></tr>
<tr class="memdesc:a4d202b8e778e1f8b7025146f760cac86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up non existing search area.  <br /></td></tr>
<tr class="separator:a4d202b8e778e1f8b7025146f760cac86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92519f99036a48683c29638775498ff6" id="r_a92519f99036a48683c29638775498ff6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92519f99036a48683c29638775498ff6">clear_static</a> ()</td></tr>
<tr class="memdesc:a92519f99036a48683c29638775498ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all static caches.  <br /></td></tr>
<tr class="separator:a92519f99036a48683c29638775498ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac99e3efa9dae0bc2bd4a9bb3d25d8405" id="r_ac99e3efa9dae0bc2bd4a9bb3d25d8405"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac99e3efa9dae0bc2bd4a9bb3d25d8405">context_deleted</a> (\context $context)</td></tr>
<tr class="memdesc:ac99e3efa9dae0bc2bd4a9bb3d25d8405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the search system that a context has been deleted.  <br /></td></tr>
<tr class="separator:ac99e3efa9dae0bc2bd4a9bb3d25d8405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a49ec8f056c01b4af9eca79ecf6b16" id="r_a91a49ec8f056c01b4af9eca79ecf6b16"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91a49ec8f056c01b4af9eca79ecf6b16">course_deleting_finish</a> (int $courseid)</td></tr>
<tr class="memdesc:a91a49ec8f056c01b4af9eca79ecf6b16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the search engine that a course has now been deleted.  <br /></td></tr>
<tr class="separator:a91a49ec8f056c01b4af9eca79ecf6b16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ec8be1ac2af734b576c26d655fceca" id="r_a54ec8be1ac2af734b576c26d655fceca"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54ec8be1ac2af734b576c26d655fceca">course_deleting_start</a> (int $courseid)</td></tr>
<tr class="memdesc:a54ec8be1ac2af734b576c26d655fceca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the search system that a course is about to be deleted.  <br /></td></tr>
<tr class="separator:a54ec8be1ac2af734b576c26d655fceca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c892ccf226a1ee3c07d711fce397f2" id="r_a99c892ccf226a1ee3c07d711fce397f2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99c892ccf226a1ee3c07d711fce397f2">extract_areaid_parts</a> ($areaid)</td></tr>
<tr class="memdesc:a99c892ccf226a1ee3c07d711fce397f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all areaid string components (component name and area name).  <br /></td></tr>
<tr class="separator:a99c892ccf226a1ee3c07d711fce397f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac306f6434d0e90d1d21647fedce82a62" id="r_ac306f6434d0e90d1d21647fedce82a62"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac306f6434d0e90d1d21647fedce82a62">generate_areaid</a> ($componentname, $areaname)</td></tr>
<tr class="memdesc:ac306f6434d0e90d1d21647fedce82a62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates an area id from the componentname and the area name.  <br /></td></tr>
<tr class="separator:ac306f6434d0e90d1d21647fedce82a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5fc4702a8f8c2e9aefd59181dbad849" id="r_aa5fc4702a8f8c2e9aefd59181dbad849"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5fc4702a8f8c2e9aefd59181dbad849">get_course_search_url</a> ()</td></tr>
<tr class="memdesc:aa5fc4702a8f8c2e9aefd59181dbad849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the search URL for course search.  <br /></td></tr>
<tr class="separator:aa5fc4702a8f8c2e9aefd59181dbad849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae39605292c55f78fc29866179fe3987a" id="r_ae39605292c55f78fc29866179fe3987a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae39605292c55f78fc29866179fe3987a">get_current_time</a> ()</td></tr>
<tr class="memdesc:ae39605292c55f78fc29866179fe3987a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets current time for use in search system.  <br /></td></tr>
<tr class="separator:ae39605292c55f78fc29866179fe3987a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3842509ee055d5736e3a76dc9a94313" id="r_ab3842509ee055d5736e3a76dc9a94313"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3842509ee055d5736e3a76dc9a94313">get_default_area_category_name</a> ()</td></tr>
<tr class="memdesc:ab3842509ee055d5736e3a76dc9a94313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns default search area category name.  <br /></td></tr>
<tr class="separator:ab3842509ee055d5736e3a76dc9a94313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01978f9e67bdaf2c889b3285b143001" id="r_af01978f9e67bdaf2c889b3285b143001"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af01978f9e67bdaf2c889b3285b143001">get_search_area</a> ($areaid)</td></tr>
<tr class="memdesc:af01978f9e67bdaf2c889b3285b143001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new area search indexer instance.  <br /></td></tr>
<tr class="separator:af01978f9e67bdaf2c889b3285b143001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866ef6dc3c80ab0d4066ec4f1bfbb8d7" id="r_a866ef6dc3c80ab0d4066ec4f1bfbb8d7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a866ef6dc3c80ab0d4066ec4f1bfbb8d7">get_search_area_categories</a> ()</td></tr>
<tr class="memdesc:a866ef6dc3c80ab0d4066ec4f1bfbb8d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a list of existing search area categories.  <br /></td></tr>
<tr class="separator:a866ef6dc3c80ab0d4066ec4f1bfbb8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488d1946da152ea39dc62a79ec50bc54" id="r_a488d1946da152ea39dc62a79ec50bc54"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a488d1946da152ea39dc62a79ec50bc54">get_search_area_category_by_name</a> ($name)</td></tr>
<tr class="memdesc:a488d1946da152ea39dc62a79ec50bc54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return search area category instance by category name.  <br /></td></tr>
<tr class="separator:a488d1946da152ea39dc62a79ec50bc54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9722d433b8e59523c0728e12f7eab2" id="r_aee9722d433b8e59523c0728e12f7eab2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee9722d433b8e59523c0728e12f7eab2">get_search_areas_list</a> ($enabled=false)</td></tr>
<tr class="memdesc:aee9722d433b8e59523c0728e12f7eab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the list of available search areas.  <br /></td></tr>
<tr class="separator:aee9722d433b8e59523c0728e12f7eab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e35927b9662ee6395605e8b25cefc5" id="r_ac1e35927b9662ee6395605e8b25cefc5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1e35927b9662ee6395605e8b25cefc5">include_all_courses</a> ()</td></tr>
<tr class="memdesc:ac1e35927b9662ee6395605e8b25cefc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if search all courses setting is enabled.  <br /></td></tr>
<tr class="separator:ac1e35927b9662ee6395605e8b25cefc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1f99b006569b8ceca5f508c4a2ed37" id="r_a1b1f99b006569b8ceca5f508c4a2ed37"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b1f99b006569b8ceca5f508c4a2ed37">instance</a> (bool $fast=false, bool $<a class="el" href="../../dc/d71/group___imap___client.html#gae0ccb7bceda061e460576520b09aa443">query</a>=false)</td></tr>
<tr class="memdesc:a1b1f99b006569b8ceca5f508c4a2ed37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an initialised <a class="el" href="../../d4/dbc/namespacecore__search.html" title="&#160;">core_search</a> instance.  <br /></td></tr>
<tr class="separator:a1b1f99b006569b8ceca5f508c4a2ed37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c346117bd94323f5b1f035e3c28f36" id="r_aa1c346117bd94323f5b1f035e3c28f36"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1c346117bd94323f5b1f035e3c28f36">is_global_search_enabled</a> ()</td></tr>
<tr class="memdesc:aa1c346117bd94323f5b1f035e3c28f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether global search is enabled or not.  <br /></td></tr>
<tr class="separator:aa1c346117bd94323f5b1f035e3c28f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a134a92815b0afb9b81ffe79226befa9e" id="r_a134a92815b0afb9b81ffe79226befa9e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a134a92815b0afb9b81ffe79226befa9e">is_indexing_enabled</a> ()</td></tr>
<tr class="memdesc:a134a92815b0afb9b81ffe79226befa9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether indexing is enabled or not (you can enable indexing even when search is not enabled at the moment, so as to have it ready for students).  <br /></td></tr>
<tr class="separator:a134a92815b0afb9b81ffe79226befa9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382f02b532ab68cbff547f8a408bd06f" id="r_a382f02b532ab68cbff547f8a408bd06f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a382f02b532ab68cbff547f8a408bd06f">is_search_area_categories_enabled</a> ()</td></tr>
<tr class="memdesc:a382f02b532ab68cbff547f8a408bd06f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if search area categories functionality is enabled.  <br /></td></tr>
<tr class="separator:a382f02b532ab68cbff547f8a408bd06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96fff92b444bf8e5bc781e8caae27d8a" id="r_a96fff92b444bf8e5bc781e8caae27d8a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96fff92b444bf8e5bc781e8caae27d8a">parse_areaid</a> ($areaid)</td></tr>
<tr class="memdesc:a96fff92b444bf8e5bc781e8caae27d8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a search area id and get plugin name and config name prefix from it.  <br /></td></tr>
<tr class="separator:a96fff92b444bf8e5bc781e8caae27d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae77a4e3e57dea6ce53464f82248ad2" id="r_a2ae77a4e3e57dea6ce53464f82248ad2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ae77a4e3e57dea6ce53464f82248ad2">request_index</a> (\context $context, $areaid='', $priority=self::INDEX_PRIORITY_NORMAL)</td></tr>
<tr class="memdesc:a2ae77a4e3e57dea6ce53464f82248ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests that a specific context is indexed by the scheduled task.  <br /></td></tr>
<tr class="separator:a2ae77a4e3e57dea6ce53464f82248ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a532be820745a6a4901b4b723cc0e6b28" id="r_a532be820745a6a4901b4b723cc0e6b28"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a532be820745a6a4901b4b723cc0e6b28">search_engine_instance</a> (bool $<a class="el" href="../../dc/d71/group___imap___client.html#gae0ccb7bceda061e460576520b09aa443">query</a>=false)</td></tr>
<tr class="memdesc:a532be820745a6a4901b4b723cc0e6b28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an instance of the search engine.  <br /></td></tr>
<tr class="separator:a532be820745a6a4901b4b723cc0e6b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f654704a8a8b03ede73e5d6c17a88b" id="r_af8f654704a8a8b03ede73e5d6c17a88b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8f654704a8a8b03ede73e5d6c17a88b">should_hide_all_results_category</a> ()</td></tr>
<tr class="memdesc:af8f654704a8a8b03ede73e5d6c17a88b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all results category should be hidden.  <br /></td></tr>
<tr class="separator:af8f654704a8a8b03ede73e5d6c17a88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ee50440d591ab76a25e448b3032ebb" id="r_ae0ee50440d591ab76a25e448b3032ebb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0ee50440d591ab76a25e448b3032ebb">trigger_search_results_viewed</a> ($other)</td></tr>
<tr class="memdesc:ae0ee50440d591ab76a25e448b3032ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers search_results_viewed event.  <br /></td></tr>
<tr class="separator:ae0ee50440d591ab76a25e448b3032ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9c5e01891b74f079b1dfa2ffee50830f" id="r_a9c5e01891b74f079b1dfa2ffee50830f"><td class="memItemLeft" align="right" valign="top"><a id="a9c5e01891b74f079b1dfa2ffee50830f" name="a9c5e01891b74f079b1dfa2ffee50830f"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>ACCESS_DELETED</b> = 2</td></tr>
<tr class="memdesc:a9c5e01891b74f079b1dfa2ffee50830f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The document was deleted. <br /></td></tr>
<tr class="separator:a9c5e01891b74f079b1dfa2ffee50830f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627e4d666f07815455e39cca638a2cf3" id="r_a627e4d666f07815455e39cca638a2cf3"><td class="memItemLeft" align="right" valign="top"><a id="a627e4d666f07815455e39cca638a2cf3" name="a627e4d666f07815455e39cca638a2cf3"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>ACCESS_DENIED</b> = 0</td></tr>
<tr class="memdesc:a627e4d666f07815455e39cca638a2cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">User can not access the document. <br /></td></tr>
<tr class="separator:a627e4d666f07815455e39cca638a2cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79815eb61610c16b1c34dea9166be8a3" id="r_a79815eb61610c16b1c34dea9166be8a3"><td class="memItemLeft" align="right" valign="top"><a id="a79815eb61610c16b1c34dea9166be8a3" name="a79815eb61610c16b1c34dea9166be8a3"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>ACCESS_GRANTED</b> = 1</td></tr>
<tr class="memdesc:a79815eb61610c16b1c34dea9166be8a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">User can access the document. <br /></td></tr>
<tr class="separator:a79815eb61610c16b1c34dea9166be8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae1f1c901cc464be92b11f8ce4216be" id="r_a9ae1f1c901cc464be92b11f8ce4216be"><td class="memItemLeft" align="right" valign="top"><a id="a9ae1f1c901cc464be92b11f8ce4216be" name="a9ae1f1c901cc464be92b11f8ce4216be"></a>
float const&#160;</td><td class="memItemRight" valign="bottom"><b>DISPLAY_INDEXING_PROGRESS_EVERY</b> = 30.0</td></tr>
<tr class="memdesc:a9ae1f1c901cc464be92b11f8ce4216be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds indexing progress within one search area to cron log every N seconds. <br /></td></tr>
<tr class="separator:a9ae1f1c901cc464be92b11f8ce4216be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c076fce55fb2aa092a17273aa7e4ea" id="r_a20c076fce55fb2aa092a17273aa7e4ea"><td class="memItemLeft" align="right" valign="top"><a id="a20c076fce55fb2aa092a17273aa7e4ea" name="a20c076fce55fb2aa092a17273aa7e4ea"></a>
float const&#160;</td><td class="memItemRight" valign="bottom"><b>DISPLAY_LONG_QUERY_TIME</b> = 5.0</td></tr>
<tr class="memdesc:a20c076fce55fb2aa092a17273aa7e4ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">If initial query takes longer than N seconds, this will be shown in cron log. <br /></td></tr>
<tr class="separator:a20c076fce55fb2aa092a17273aa7e4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8dbbad0dd9496ed7f6a08c2eac8b2f" id="r_aae8dbbad0dd9496ed7f6a08c2eac8b2f"><td class="memItemLeft" align="right" valign="top"><a id="aae8dbbad0dd9496ed7f6a08c2eac8b2f" name="aae8dbbad0dd9496ed7f6a08c2eac8b2f"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>DISPLAY_RESULTS_PER_PAGE</b> = 10</td></tr>
<tr class="memdesc:aae8dbbad0dd9496ed7f6a08c2eac8b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of results per page. <br /></td></tr>
<tr class="separator:aae8dbbad0dd9496ed7f6a08c2eac8b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1715e2cb8a5637fd00cbddb2cef383" id="r_a7f1715e2cb8a5637fd00cbddb2cef383"><td class="memItemLeft" align="right" valign="top"><a id="a7f1715e2cb8a5637fd00cbddb2cef383" name="a7f1715e2cb8a5637fd00cbddb2cef383"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>INDEX_PRIORITY_NORMAL</b> = 100</td></tr>
<tr class="memdesc:a7f1715e2cb8a5637fd00cbddb2cef383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Context indexing: normal priority. <br /></td></tr>
<tr class="separator:a7f1715e2cb8a5637fd00cbddb2cef383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eecf661f899f7896c26aa078a2bdfa6" id="r_a5eecf661f899f7896c26aa078a2bdfa6"><td class="memItemLeft" align="right" valign="top"><a id="a5eecf661f899f7896c26aa078a2bdfa6" name="a5eecf661f899f7896c26aa078a2bdfa6"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>INDEX_PRIORITY_REINDEXING</b> = 50</td></tr>
<tr class="memdesc:a5eecf661f899f7896c26aa078a2bdfa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Context indexing: low priority for reindexing. <br /></td></tr>
<tr class="separator:a5eecf661f899f7896c26aa078a2bdfa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae06b04886dae528dff0b50879480a700" id="r_ae06b04886dae528dff0b50879480a700"><td class="memItemLeft" align="right" valign="top"><a id="ae06b04886dae528dff0b50879480a700" name="ae06b04886dae528dff0b50879480a700"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_RESULTS</b> = 100</td></tr>
<tr class="memdesc:ae06b04886dae528dff0b50879480a700"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of results that will be retrieved from the search engine. <br /></td></tr>
<tr class="separator:ae06b04886dae528dff0b50879480a700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332086d804edce9b660b1c2b62dbebd3" id="r_a332086d804edce9b660b1c2b62dbebd3"><td class="memItemLeft" align="right" valign="top"><a id="a332086d804edce9b660b1c2b62dbebd3" name="a332086d804edce9b660b1c2b62dbebd3"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>NO_OWNER_ID</b> = 0</td></tr>
<tr class="memdesc:a332086d804edce9b660b1c2b62dbebd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id to be placed in owneruserid when there is no owner. <br /></td></tr>
<tr class="separator:a332086d804edce9b660b1c2b62dbebd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85126af86f39f0c44c1174a7967399c2" id="r_a85126af86f39f0c44c1174a7967399c2"><td class="memItemLeft" align="right" valign="top"><a id="a85126af86f39f0c44c1174a7967399c2" name="a85126af86f39f0c44c1174a7967399c2"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>SCHEMA_CHECK_REQUIRED_EVERY</b> = 4 * 3600</td></tr>
<tr class="memdesc:a85126af86f39f0c44c1174a7967399c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Require a new schema check at least every 4 hours. <br /></td></tr>
<tr class="separator:a85126af86f39f0c44c1174a7967399c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad12ccd8e5980b354959154ba4ee4a03" id="r_aad12ccd8e5980b354959154ba4ee4a03"><td class="memItemLeft" align="right" valign="top"><a id="aad12ccd8e5980b354959154ba4ee4a03" name="aad12ccd8e5980b354959154ba4ee4a03"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>SCHEMA_CHECK_TRACKING_DELAY</b> = 10 * 60</td></tr>
<tr class="memdesc:aad12ccd8e5980b354959154ba4ee4a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record time of each successful schema check, but not more than once per 10 minutes. <br /></td></tr>
<tr class="separator:aad12ccd8e5980b354959154ba4ee4a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f6e2b55f80ad448854a4bd9b2459e1b" id="r_a4f6e2b55f80ad448854a4bd9b2459e1b"><td class="memItemLeft" align="right" valign="top"><a id="a4f6e2b55f80ad448854a4bd9b2459e1b" name="a4f6e2b55f80ad448854a4bd9b2459e1b"></a>
string const&#160;</td><td class="memItemRight" valign="bottom"><b>SEARCH_AREA_CATEGORY_ALL</b> = 'core-all'</td></tr>
<tr class="memdesc:a4f6e2b55f80ad448854a4bd9b2459e1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core search area category for all results. <br /></td></tr>
<tr class="separator:a4f6e2b55f80ad448854a4bd9b2459e1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4da10283c3a7d1aac2f61077af1a68" id="r_a7b4da10283c3a7d1aac2f61077af1a68"><td class="memItemLeft" align="right" valign="top"><a id="a7b4da10283c3a7d1aac2f61077af1a68" name="a7b4da10283c3a7d1aac2f61077af1a68"></a>
string const&#160;</td><td class="memItemRight" valign="bottom"><b>SEARCH_AREA_CATEGORY_COURSE_CONTENT</b> = 'core-course-content'</td></tr>
<tr class="memdesc:a7b4da10283c3a7d1aac2f61077af1a68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core search area category for course content. <br /></td></tr>
<tr class="separator:a7b4da10283c3a7d1aac2f61077af1a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e28835b1ac68c348363bc71a37d6936" id="r_a4e28835b1ac68c348363bc71a37d6936"><td class="memItemLeft" align="right" valign="top"><a id="a4e28835b1ac68c348363bc71a37d6936" name="a4e28835b1ac68c348363bc71a37d6936"></a>
string const&#160;</td><td class="memItemRight" valign="bottom"><b>SEARCH_AREA_CATEGORY_COURSES</b> = 'core-courses'</td></tr>
<tr class="memdesc:a4e28835b1ac68c348363bc71a37d6936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core search area category for courses. <br /></td></tr>
<tr class="separator:a4e28835b1ac68c348363bc71a37d6936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aca4fc0bab17769e8328a84069d4988" id="r_a4aca4fc0bab17769e8328a84069d4988"><td class="memItemLeft" align="right" valign="top"><a id="a4aca4fc0bab17769e8328a84069d4988" name="a4aca4fc0bab17769e8328a84069d4988"></a>
string const&#160;</td><td class="memItemRight" valign="bottom"><b>SEARCH_AREA_CATEGORY_OTHER</b> = 'core-other'</td></tr>
<tr class="memdesc:a4aca4fc0bab17769e8328a84069d4988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core search area category for results that do not fit into any of existing categories. <br /></td></tr>
<tr class="separator:a4aca4fc0bab17769e8328a84069d4988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4db1399395bca367afb70f9ffb50352" id="r_aa4db1399395bca367afb70f9ffb50352"><td class="memItemLeft" align="right" valign="top"><a id="aa4db1399395bca367afb70f9ffb50352" name="aa4db1399395bca367afb70f9ffb50352"></a>
string const&#160;</td><td class="memItemRight" valign="bottom"><b>SEARCH_AREA_CATEGORY_USERS</b> = 'core-users'</td></tr>
<tr class="memdesc:aa4db1399395bca367afb70f9ffb50352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core search area category for users. <br /></td></tr>
<tr class="separator:aa4db1399395bca367afb70f9ffb50352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e0090b1cc51cba73b1afc08cd319b8" id="r_a56e0090b1cc51cba73b1afc08cd319b8"><td class="memItemLeft" align="right" valign="top"><a id="a56e0090b1cc51cba73b1afc08cd319b8" name="a56e0090b1cc51cba73b1afc08cd319b8"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>TYPE_FILE</b> = 2</td></tr>
<tr class="memdesc:a56e0090b1cc51cba73b1afc08cd319b8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> contents. <br /></td></tr>
<tr class="separator:a56e0090b1cc51cba73b1afc08cd319b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0e4b858d327b7914191892707d1cc8b" id="r_ae0e4b858d327b7914191892707d1cc8b"><td class="memItemLeft" align="right" valign="top"><a id="ae0e4b858d327b7914191892707d1cc8b" name="ae0e4b858d327b7914191892707d1cc8b"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>TYPE_TEXT</b> = 1</td></tr>
<tr class="memdesc:ae0e4b858d327b7914191892707d1cc8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text contents. <br /></td></tr>
<tr class="separator:ae0e4b858d327b7914191892707d1cc8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7d0a56de20cfc23b96d4b9d24937a2ef" id="r_a7d0a56de20cfc23b96d4b9d24937a2ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d0a56de20cfc23b96d4b9d24937a2ef">build_limitcourseids</a> (\stdClass $formdata)</td></tr>
<tr class="memdesc:a7d0a56de20cfc23b96d4b9d24937a2ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a list of course ids to limit the search based on submitted form data.  <br /></td></tr>
<tr class="separator:a7d0a56de20cfc23b96d4b9d24937a2ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb3a7fc74c317a6a96207c95f388992" id="r_a8fb3a7fc74c317a6a96207c95f388992"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8fb3a7fc74c317a6a96207c95f388992">get_all_courses</a> ($limitcourseids)</td></tr>
<tr class="memdesc:a8fb3a7fc74c317a6a96207c95f388992"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of all courses limited by ids if required.  <br /></td></tr>
<tr class="separator:a8fb3a7fc74c317a6a96207c95f388992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add460888758e07ec029c4adba5e8d53f" id="r_add460888758e07ec029c4adba5e8d53f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add460888758e07ec029c4adba5e8d53f">get_areas_user_accesses</a> ($limitcourseids=false, $limitcontextids=false)</td></tr>
<tr class="memdesc:add460888758e07ec029c4adba5e8d53f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about the areas which the user can access.  <br /></td></tr>
<tr class="separator:add460888758e07ec029c4adba5e8d53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21e9513115968e18b1d4836900a38d9" id="r_af21e9513115968e18b1d4836900a38d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af21e9513115968e18b1d4836900a38d9">get_my_courses</a> ($allaccessible)</td></tr>
<tr class="memdesc:af21e9513115968e18b1d4836900a38d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of courses as user can access.  <br /></td></tr>
<tr class="separator:af21e9513115968e18b1d4836900a38d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:aa7339d10da5d11a6a3d5bcb64847708b" id="r_aa7339d10da5d11a6a3d5bcb64847708b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7339d10da5d11a6a3d5bcb64847708b">get_additional_search_area_categories</a> ()</td></tr>
<tr class="memdesc:aa7339d10da5d11a6a3d5bcb64847708b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a list of additional search area categories.  <br /></td></tr>
<tr class="separator:aa7339d10da5d11a6a3d5bcb64847708b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab453ff03014c88dacac7701d04f4b8cc" id="r_ab453ff03014c88dacac7701d04f4b8cc"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab453ff03014c88dacac7701d04f4b8cc">get_area_classname</a> ($areaid)</td></tr>
<tr class="memdesc:ab453ff03014c88dacac7701d04f4b8cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a search area class name.  <br /></td></tr>
<tr class="separator:ab453ff03014c88dacac7701d04f4b8cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa757296e75288c4d07e1a152d935a3" id="r_a9fa757296e75288c4d07e1a152d935a3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9fa757296e75288c4d07e1a152d935a3">get_core_search_area_categories</a> ()</td></tr>
<tr class="memdesc:a9fa757296e75288c4d07e1a152d935a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of core search area categories.  <br /></td></tr>
<tr class="separator:a9fa757296e75288c4d07e1a152d935a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4152ab1c06a459c03fa0bcd0d24391df" id="r_a4152ab1c06a459c03fa0bcd0d24391df"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4152ab1c06a459c03fa0bcd0d24391df">is_search_area</a> ($classname)</td></tr>
<tr class="memdesc:a4152ab1c06a459c03fa0bcd0d24391df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a classname is of an actual search area.  <br /></td></tr>
<tr class="separator:a4152ab1c06a459c03fa0bcd0d24391df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e476bab87475297d20a805c50ac8c1d" id="r_a6e476bab87475297d20a805c50ac8c1d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e476bab87475297d20a805c50ac8c1d">is_valid_area_category</a> ($areacategory)</td></tr>
<tr class="memdesc:a6e476bab87475297d20a805c50ac8c1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if provided instance of area category is valid.  <br /></td></tr>
<tr class="separator:a6e476bab87475297d20a805c50ac8c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863c5d74881fc829af6218a7a8259983" id="r_a863c5d74881fc829af6218a7a8259983"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a863c5d74881fc829af6218a7a8259983">search_engine_instance_from_setting</a> (string $setting)</td></tr>
<tr class="memdesc:a863c5d74881fc829af6218a7a8259983"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a search engine based on the name given in settings, which can optionally include '-alternate' to indicate that an alternate version should be used.  <br /></td></tr>
<tr class="separator:a863c5d74881fc829af6218a7a8259983"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3dc714baa2f469f234a2e954b815f896" id="r_a3dc714baa2f469f234a2e954b815f896"><td class="memItemLeft" align="right" valign="top"><a id="a3dc714baa2f469f234a2e954b815f896" name="a3dc714baa2f469f234a2e954b815f896"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$behatresultcount</b> = 0</td></tr>
<tr class="memdesc:a3dc714baa2f469f234a2e954b815f896"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result count when used with mock results for Behat tests. <br /></td></tr>
<tr class="separator:a3dc714baa2f469f234a2e954b815f896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cca9059cf3f1c2a3e7870171e2cb517" id="r_a9cca9059cf3f1c2a3e7870171e2cb517"><td class="memItemLeft" align="right" valign="top"><a id="a9cca9059cf3f1c2a3e7870171e2cb517" name="a9cca9059cf3f1c2a3e7870171e2cb517"></a>
core_search <a class="el" href="../../d0/d66/classcore__search_1_1engine.html">engine</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$engine</b> = null</td></tr>
<tr class="separator:a9cca9059cf3f1c2a3e7870171e2cb517"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a9c6032b9d6e356d972f3736c623dae1c" id="r_a9c6032b9d6e356d972f3736c623dae1c"><td class="memItemLeft" align="right" valign="top"><a id="a9c6032b9d6e356d972f3736c623dae1c" name="a9c6032b9d6e356d972f3736c623dae1c"></a>
static core_search <a class="el" href="../../d4/dd1/classcore__search_1_1base.html">base</a>[]&#160;</td><td class="memItemRight" valign="bottom"><b>$allsearchareas</b> = null</td></tr>
<tr class="memdesc:a9c6032b9d6e356d972f3736c623dae1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">All system search areas. <br /></td></tr>
<tr class="separator:a9c6032b9d6e356d972f3736c623dae1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4880a70b6df8c7e1b1c42940df1610c" id="r_aa4880a70b6df8c7e1b1c42940df1610c"><td class="memItemLeft" align="right" valign="top"><a id="aa4880a70b6df8c7e1b1c42940df1610c" name="aa4880a70b6df8c7e1b1c42940df1610c"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>$coursedeleting</b> = []</td></tr>
<tr class="memdesc:aa4880a70b6df8c7e1b1c42940df1610c"><td class="mdescLeft">&#160;</td><td class="mdescRight">IDs (as keys) of course deletions in progress in this requuest, if any. <br /></td></tr>
<tr class="separator:aa4880a70b6df8c7e1b1c42940df1610c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b5ce6c450ef14cca1258a4ea651b0e" id="r_a24b5ce6c450ef14cca1258a4ea651b0e"><td class="memItemLeft" align="right" valign="top"><a id="a24b5ce6c450ef14cca1258a4ea651b0e" name="a24b5ce6c450ef14cca1258a4ea651b0e"></a>
static core_search <a class="el" href="../../d4/dd1/classcore__search_1_1base.html">base</a>[]&#160;</td><td class="memItemRight" valign="bottom"><b>$enabledsearchareas</b> = null</td></tr>
<tr class="memdesc:a24b5ce6c450ef14cca1258a4ea651b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enabled search areas. <br /></td></tr>
<tr class="separator:a24b5ce6c450ef14cca1258a4ea651b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56524db1898a88fe6e0534739b7eedd" id="r_ad56524db1898a88fe6e0534739b7eedd"><td class="memItemLeft" align="right" valign="top"><a id="ad56524db1898a88fe6e0534739b7eedd" name="ad56524db1898a88fe6e0534739b7eedd"></a>
static core_search <a class="el" href="../../d8/df9/classcore__search_1_1manager.html">manager</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$instance</b> = null</td></tr>
<tr class="separator:ad56524db1898a88fe6e0534739b7eedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5038b3e52e9c635d8fd7eb4e0604085" id="r_af5038b3e52e9c635d8fd7eb4e0604085"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5038b3e52e9c635d8fd7eb4e0604085">$phpunitfaketime</a> = 0</td></tr>
<tr class="memdesc:af5038b3e52e9c635d8fd7eb4e0604085"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note: This should be removed once possible (see <a href="https://tracker.moodle.org/browse/MDL-60644" class="el">MDL-60644</a>).  <br /></td></tr>
<tr class="separator:af5038b3e52e9c635d8fd7eb4e0604085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a129f06bf745b7630ebdadfa48a0fba85" id="r_a129f06bf745b7630ebdadfa48a0fba85"><td class="memItemLeft" align="right" valign="top"><a id="a129f06bf745b7630ebdadfa48a0fba85" name="a129f06bf745b7630ebdadfa48a0fba85"></a>
static core_search <a class="el" href="../../d2/d26/classcore__search_1_1area__category.html">area_category</a>[]&#160;</td><td class="memItemRight" valign="bottom"><b>$searchareacategories</b> = null</td></tr>
<tr class="memdesc:a129f06bf745b7630ebdadfa48a0fba85"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of search area categories. <br /></td></tr>
<tr class="separator:a129f06bf745b7630ebdadfa48a0fba85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Search subsystem manager. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Prateek Sachan <a href="http://prateeksachan.com" class="el externalurl"></a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad87883e052509ff8a16df4fd47ce76f7" name="ad87883e052509ff8a16df4fd47ce76f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad87883e052509ff8a16df4fd47ce76f7">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::__construct </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$engine</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor, use <a class="el" href="#a1b1f99b006569b8ceca5f508c4a2ed37" title="Returns an initialised core_search instance.">core_search\manager\instance</a> instead to get a class instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search\base</a></td><td>The search engine to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7d0a56de20cfc23b96d4b9d24937a2ef" name="a7d0a56de20cfc23b96d4b9d24937a2ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d0a56de20cfc23b96d4b9d24937a2ef">&#9670;&#160;</a></span>build_limitcourseids()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::build_limitcourseids </td>
          <td>(</td>
          <td class="paramtype">\stdClass</td>          <td class="paramname"><span class="paramname"><em>$formdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build a list of course ids to limit the search based on submitted form data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$formdata</td><td>Submitted search form data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adeb7e9af7f97055aa9c23bd1bc3f73df" name="adeb7e9af7f97055aa9c23bd1bc3f73df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeb7e9af7f97055aa9c23bd1bc3f73df">&#9670;&#160;</a></span>can_replace_course_search()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::can_replace_course_search </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests if global search is configured to be equivalent to the front page course search. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4d202b8e778e1f8b7025146f760cac86" name="a4d202b8e778e1f8b7025146f760cac86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d202b8e778e1f8b7025146f760cac86">&#9670;&#160;</a></span>clean_up_non_existing_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::clean_up_non_existing_area </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleans up non existing search area. </p>
<ol type="1">
<li>Remove all configs from {config_plugins} table.</li>
<li>Delete all related indexed documents.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td>Search area id. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a92519f99036a48683c29638775498ff6" name="a92519f99036a48683c29638775498ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92519f99036a48683c29638775498ff6">&#9670;&#160;</a></span>clear_static()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::clear_static </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all static caches. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac99e3efa9dae0bc2bd4a9bb3d25d8405" name="ac99e3efa9dae0bc2bd4a9bb3d25d8405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac99e3efa9dae0bc2bd4a9bb3d25d8405">&#9670;&#160;</a></span>context_deleted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::context_deleted </td>
          <td>(</td>
          <td class="paramtype">\context</td>          <td class="paramname"><span class="paramname"><em>$context</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Informs the search system that a context has been deleted. </p>
<p>This will clear the data from the search index, where the search engine supports that.</p>
<p>This function does not usually throw an exception (so as not to get in the way of the context deletion finishing).</p>
<p>This is called for all types of context deletion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>Context object that has just been deleted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a91a49ec8f056c01b4af9eca79ecf6b16" name="a91a49ec8f056c01b4af9eca79ecf6b16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a49ec8f056c01b4af9eca79ecf6b16">&#9670;&#160;</a></span>course_deleting_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::course_deleting_finish </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$courseid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Informs the search engine that a course has now been deleted. </p>
<p>This causes the search engine to actually delete the index for the whole course.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>Course id that no longer exists </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a54ec8be1ac2af734b576c26d655fceca" name="a54ec8be1ac2af734b576c26d655fceca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ec8be1ac2af734b576c26d655fceca">&#9670;&#160;</a></span>course_deleting_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::course_deleting_start </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$courseid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Informs the search system that a course is about to be deleted. </p>
<p>This prevents it from sending hundreds of 'delete context' updates for all the individual contexts that are deleted.</p>
<p>If you call this, you must call course_deleting_finish().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>Course id that is being deleted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab3e3afdafd0628b1e6563abf410fe33" name="aab3e3afdafd0628b1e6563abf410fe33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab3e3afdafd0628b1e6563abf410fe33">&#9670;&#160;</a></span>delete_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::delete_index </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an area's documents or all areas documents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td>The area id or false for all </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4785c31c0d23bfb4347e5708dcefbcd5" name="a4785c31c0d23bfb4347e5708dcefbcd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4785c31c0d23bfb4347e5708dcefbcd5">&#9670;&#160;</a></span>delete_index_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::delete_index_by_id </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes index by id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Solr Document string $id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a99c892ccf226a1ee3c07d711fce397f2" name="a99c892ccf226a1ee3c07d711fce397f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c892ccf226a1ee3c07d711fce397f2">&#9670;&#160;</a></span>extract_areaid_parts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::extract_areaid_parts </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all areaid string components (component name and area name). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Component name (Frankenstyle) and area name (search area class name) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac306f6434d0e90d1d21647fedce82a62" name="ac306f6434d0e90d1d21647fedce82a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac306f6434d0e90d1d21647fedce82a62">&#9670;&#160;</a></span>generate_areaid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::generate_areaid </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$componentname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaname</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates an area id from the componentname and the area name. </p>
<p>There should not be any naming conflict as the area name is the class name in component/classes/search/.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$componentname</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$areaname</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7339d10da5d11a6a3d5bcb64847708b" name="aa7339d10da5d11a6a3d5bcb64847708b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7339d10da5d11a6a3d5bcb64847708b">&#9670;&#160;</a></span>get_additional_search_area_categories()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_additional_search_area_categories </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a list of additional search area categories. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search\area_category[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8fb3a7fc74c317a6a96207c95f388992" name="a8fb3a7fc74c317a6a96207c95f388992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb3a7fc74c317a6a96207c95f388992">&#9670;&#160;</a></span>get_all_courses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::get_all_courses </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitcourseids</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of all courses limited by ids if required. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;false</td><td class="paramname">$limitcourseids</td><td>An array of course ids to limit the search to. False for no limiting. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab453ff03014c88dacac7701d04f4b8cc" name="ab453ff03014c88dacac7701d04f4b8cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab453ff03014c88dacac7701d04f4b8cc">&#9670;&#160;</a></span>get_area_classname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_area_classname </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a search area class name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad5820dd37f43d55e6413146b68feeec3" name="ad5820dd37f43d55e6413146b68feeec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5820dd37f43d55e6413146b68feeec3">&#9670;&#160;</a></span>get_areas_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::get_areas_config </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$searchareas</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns search areas configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search\base</a>[]</td><td class="paramname">$searchareas</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass[]\$configsettings</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add460888758e07ec029c4adba5e8d53f" name="add460888758e07ec029c4adba5e8d53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add460888758e07ec029c4adba5e8d53f">&#9670;&#160;</a></span>get_areas_user_accesses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::get_areas_user_accesses </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitcourseids</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limitcontextids</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information about the areas which the user can access. </p>
<p>The returned value is a stdClass object with the following fields:</p><ul>
<li>everything (bool, true for admin only)</li>
<li>usercontexts (indexed by area identifier then context</li>
<li>separategroupscontexts (contexts within which group restrictions apply)</li>
<li>visiblegroupscontextsareas (overrides to the above when the same contexts also have 'visible groups' for certain search area ids - hopefully rare)</li>
<li>usergroups (groups which the current user belongs to)</li>
</ul>
<p>The areas can be limited by course id and context id. If specifying context ids, results are limited to the exact context ids specified and not their children (for example, giving the course context id would result in including search items with the course context id, and not anything from a context inside the course). For performance, you should also specify course id(s) when using context ids.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array&#160;|&#160;false</td><td class="paramname">$limitcourseids</td><td>An array of course ids to limit the search to. False for no limiting. </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;false</td><td class="paramname">$limitcontextids</td><td>An array of context ids to limit the search to. False for no limiting. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>Object as described above </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9fa757296e75288c4d07e1a152d935a3" name="a9fa757296e75288c4d07e1a152d935a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fa757296e75288c4d07e1a152d935a3">&#9670;&#160;</a></span>get_core_search_area_categories()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_core_search_area_categories </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get list of core search area categories. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search\area_category[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa5fc4702a8f8c2e9aefd59181dbad849" name="aa5fc4702a8f8c2e9aefd59181dbad849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5fc4702a8f8c2e9aefd59181dbad849">&#9670;&#160;</a></span>get_course_search_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_course_search_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the search URL for course search. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae39605292c55f78fc29866179fe3987a" name="ae39605292c55f78fc29866179fe3987a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae39605292c55f78fc29866179fe3987a">&#9670;&#160;</a></span>get_current_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_current_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets current time for use in search system. </p>
<p>Note: This should be replaced with generic core functionality once possible (see <a href="https://tracker.moodle.org/browse/MDL-60644" class="el">MDL-60644</a>).</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">float</td><td>Current time in seconds (with decimals) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3842509ee055d5736e3a76dc9a94313" name="ab3842509ee055d5736e3a76dc9a94313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3842509ee055d5736e3a76dc9a94313">&#9670;&#160;</a></span>get_default_area_category_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_default_area_category_name </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns default search area category name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac79c0408165590e3e54bafe4f16c3440" name="ac79c0408165590e3e54bafe4f16c3440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79c0408165590e3e54bafe4f16c3440">&#9670;&#160;</a></span>get_engine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::get_engine </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the search engine. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html" title="Base class for search engines.">core_search\engine</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0a02c9b6bb4cd0228b97026c8218268" name="ae0a02c9b6bb4cd0228b97026c8218268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0a02c9b6bb4cd0228b97026c8218268">&#9670;&#160;</a></span>get_index_requests_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::get_index_requests_info </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets information about the request queue, in the form of a plain object suitable for passing to a template for rendering. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>Information about queued index requests </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af21e9513115968e18b1d4836900a38d9" name="af21e9513115968e18b1d4836900a38d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af21e9513115968e18b1d4836900a38d9">&#9670;&#160;</a></span>get_my_courses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::get_my_courses </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$allaccessible</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of courses as user can access. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$allaccessible</td><td>Include courses user is not enrolled in, but can access. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af01978f9e67bdaf2c889b3285b143001" name="af01978f9e67bdaf2c889b3285b143001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af01978f9e67bdaf2c889b3285b143001">&#9670;&#160;</a></span>get_search_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_search_area </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new area search indexer instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search\base|bool</td><td>False if the area is not available. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a866ef6dc3c80ab0d4066ec4f1bfbb8d7" name="a866ef6dc3c80ab0d4066ec4f1bfbb8d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866ef6dc3c80ab0d4066ec4f1bfbb8d7">&#9670;&#160;</a></span>get_search_area_categories()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_search_area_categories </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a list of existing search area categories. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search\area_category[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a488d1946da152ea39dc62a79ec50bc54" name="a488d1946da152ea39dc62a79ec50bc54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a488d1946da152ea39dc62a79ec50bc54">&#9670;&#160;</a></span>get_search_area_category_by_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_search_area_category_by_name </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return search area category instance by category name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td><a class="el" href="../../d7/df3/class_category.html" title="Manages all category-related data.">Category</a> name. If name is not valid will return default category.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d2/d26/classcore__search_1_1area__category.html" title="Search area category.">core_search\area_category</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aee9722d433b8e59523c0728e12f7eab2" name="aee9722d433b8e59523c0728e12f7eab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9722d433b8e59523c0728e12f7eab2">&#9670;&#160;</a></span>get_search_areas_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::get_search_areas_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$enabled</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the list of available search areas. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$enabled</td><td>Return only the enabled ones. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search\base[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac1e35927b9662ee6395605e8b25cefc5" name="ac1e35927b9662ee6395605e8b25cefc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e35927b9662ee6395605e8b25cefc5">&#9670;&#160;</a></span>include_all_courses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::include_all_courses </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if search all courses setting is enabled. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0fde90b67d2f3910542bcce37c5345dc" name="a0fde90b67d2f3910542bcce37c5345dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fde90b67d2f3910542bcce37c5345dc">&#9670;&#160;</a></span>index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::index </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fullindex</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timelimit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d5e/classprogress__trace.html">progress_trace</a></td>          <td class="paramname"><span class="paramname"><em>$progress</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index all documents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>Whether we should reindex everything or not. </td></tr>
    <tr><td class="paramtype">float</td><td class="paramname">$timelimit</td><td>Time limit in seconds (0 = no time limit) </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dd/d5e/classprogress__trace.html" title="Progress trace class.">progress_trace</a>&#160;|&#160;null</td><td class="paramname">$progress</td><td>Optional class for tracking progress </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Whether there was any updated document or not. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af19c6c42a06be11e25b9d923b69a6d66" name="af19c6c42a06be11e25b9d923b69a6d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19c6c42a06be11e25b9d923b69a6d66">&#9670;&#160;</a></span>index_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::index_context </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$singleareaid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timelimit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d5e/classprogress__trace.html">progress_trace</a></td>          <td class="paramname"><span class="paramname"><em>$progress</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$startfromarea</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$startfromtime</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indexes or reindexes a specific context of the system, e.g. </p>
<p>one course.</p>
<p>The function returns an object with field 'complete' (true or false).</p>
<p>This function supports partial indexing via the time limit parameter. If the time limit expires, it will return values for $startfromarea and $startfromtime which can be passed next time to continue indexing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>Context to restrict index. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$singleareaid</td><td>If specified, indexes only the given area. </td></tr>
    <tr><td class="paramtype">float</td><td class="paramname">$timelimit</td><td>Time limit in seconds (0 = no time limit) </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dd/d5e/classprogress__trace.html" title="Progress trace class.">progress_trace</a>&#160;|&#160;null</td><td class="paramname">$progress</td><td>Optional class for tracking progress </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$startfromarea</td><td>Area to start from </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$startfromtime</td><td>Timestamp to start from </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>Object indicating success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b1f99b006569b8ceca5f508c4a2ed37" name="a1b1f99b006569b8ceca5f508c4a2ed37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1f99b006569b8ceca5f508c4a2ed37">&#9670;&#160;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::instance </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$fast</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$query</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an initialised <a class="el" href="../../d4/dbc/namespacecore__search.html" title="&#160;">core_search</a> instance. </p>
<p>While constructing the instance, checks on the search schema may be carried out. The $fast parameter provides a way to skip those checks on pages which are used frequently. It has no effect if an instance has already been constructed in this request.</p>
<p>The $query parameter indicates that the page is used for queries rather than indexing. If configured, this will cause the query-only search engine to be used instead of the 'normal' one.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#afe026f1679e656208d6a2842cb802e20" title="Does the system satisfy all the requirements.">core_search\engine\is_installed</a> </dd>
<dd>
<a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a6e1d119c0b55f696a5cb9091e3a7b8d2" title="Is the server ready to use?">core_search\engine\is_server_ready</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$fast</td><td>Set to true when calling on a page that requires high performance </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$query</td><td>Set true on a page that is used for querying </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search\engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d8/df9/classcore__search_1_1manager.html" title="Search subsystem manager.">core_search\manager</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1c346117bd94323f5b1f035e3c28f36" name="aa1c346117bd94323f5b1f035e3c28f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1c346117bd94323f5b1f035e3c28f36">&#9670;&#160;</a></span>is_global_search_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::is_global_search_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether global search is enabled or not. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a134a92815b0afb9b81ffe79226befa9e" name="a134a92815b0afb9b81ffe79226befa9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a134a92815b0afb9b81ffe79226befa9e">&#9670;&#160;</a></span>is_indexing_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::is_indexing_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether indexing is enabled or not (you can enable indexing even when search is not enabled at the moment, so as to have it ready for students). </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if indexing is enabled. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4152ab1c06a459c03fa0bcd0d24391df" name="a4152ab1c06a459c03fa0bcd0d24391df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4152ab1c06a459c03fa0bcd0d24391df">&#9670;&#160;</a></span>is_search_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::is_search_area </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$classname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether a classname is of an actual search area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$classname</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a382f02b532ab68cbff547f8a408bd06f" name="a382f02b532ab68cbff547f8a408bd06f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382f02b532ab68cbff547f8a408bd06f">&#9670;&#160;</a></span>is_search_area_categories_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::is_search_area_categories_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if search area categories functionality is enabled. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e476bab87475297d20a805c50ac8c1d" name="a6e476bab87475297d20a805c50ac8c1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e476bab87475297d20a805c50ac8c1d">&#9670;&#160;</a></span>is_valid_area_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::is_valid_area_category </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areacategory</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if provided instance of area category is valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$areacategory</td><td>Area category instance. Potentially could be anything.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d55d1e0e8b2fed03cd9e3f3351dc167" name="a9d55d1e0e8b2fed03cd9e3f3351dc167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d55d1e0e8b2fed03cd9e3f3351dc167">&#9670;&#160;</a></span>paged_search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::paged_search </td>
          <td>(</td>
          <td class="paramtype">\stdClass</td>          <td class="paramname"><span class="paramname"><em>$formdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$pagenum</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns requested page of documents plus additional information for paging. </p>
<p>This function does not perform any kind of security checking for access, the caller code should check that the current user have moodle/search:query capability.</p>
<p>If a page is requested that is beyond the last result, the last valid page is returned in results, and actualpage indicates which page was returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$formdata</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$pagenum</td><td>The 0 based page number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">object</td><td>An object with 3 properties: results =&gt; An array of core_search\documents for the actual page. totalcount =&gt; Number of records that are possibly available, to base paging on. actualpage =&gt; The actual page returned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a96fff92b444bf8e5bc781e8caae27d8a" name="a96fff92b444bf8e5bc781e8caae27d8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96fff92b444bf8e5bc781e8caae27d8a">&#9670;&#160;</a></span>parse_areaid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::parse_areaid </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse a search area id and get plugin name and config name prefix from it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td>Search area id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Where the first element is a plugin name and the second is config names prefix. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4290b2610242deb90d354ebc60d7341" name="ab4290b2610242deb90d354ebc60d7341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4290b2610242deb90d354ebc60d7341">&#9670;&#160;</a></span>process_index_requests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::process_index_requests </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timelimit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d5e/classprogress__trace.html">progress_trace</a></td>          <td class="paramname"><span class="paramname"><em>$progress</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes outstanding index requests. </p>
<p>This will take the first item from the queue (taking account the indexing priority) and process it, continuing until an optional time limit is reached.</p>
<p>If there are no index requests, the function will do nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">float</td><td class="paramname">$timelimit</td><td>Time limit (0 = none) </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dd/d5e/classprogress__trace.html" title="Progress trace class.">progress_trace</a>&#160;|&#160;null</td><td class="paramname">$progress</td><td>Optional progress indicator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2ae77a4e3e57dea6ce53464f82248ad2" name="a2ae77a4e3e57dea6ce53464f82248ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae77a4e3e57dea6ce53464f82248ad2">&#9670;&#160;</a></span>request_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::request_index </td>
          <td>(</td>
          <td class="paramtype">\context</td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$priority</em></span><span class="paramdefsep"> = </span><span class="paramdefval">self::INDEX_PRIORITY_NORMAL</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests that a specific context is indexed by the scheduled task. </p>
<p>The context will be added to a queue which is processed by the task.</p>
<p>This is used after a restore to ensure that restored items are indexed, even though their modified time will be older than the latest indexed. It is also used by the 'Gradual reindex' admin feature from the search areas screen.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>Context to index within </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td>Area to index, '' = all areas </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$priority</td><td>Priority (INDEX_PRIORITY_xx constant) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48b50074e0e14ea8e2ba3711abc48c56" name="a48b50074e0e14ea8e2ba3711abc48c56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b50074e0e14ea8e2ba3711abc48c56">&#9670;&#160;</a></span>reset_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::reset_config </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$areaid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets areas config. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a079b0e4837a9d4889863e90463bae23b" name="a079b0e4837a9d4889863e90463bae23b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a079b0e4837a9d4889863e90463bae23b">&#9670;&#160;</a></span>search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::search </td>
          <td>(</td>
          <td class="paramtype">\stdClass</td>          <td class="paramname"><span class="paramname"><em>$formdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns documents from the engine based on the data provided. </p>
<p>This function does not perform any kind of security checking, the caller code should check that the current user have moodle/search:query capability.</p>
<p>It might return the results from the cache instead.</p>
<p>Valid formdata options include:</p><ul>
<li>q (query text)</li>
<li>courseids (optional list of course ids to restrict)</li>
<li>contextids (optional list of context ids to restrict)</li>
<li>context (<a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> context object for location user searched from)</li>
<li>order (optional ordering, one of the types supported by the search engine e.g. 'relevance')</li>
<li>userids (optional list of user ids to restrict)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$formdata</td><td>Query input data (usually from search form) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>The maximum number of documents to return </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search\document[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a532be820745a6a4901b4b723cc0e6b28" name="a532be820745a6a4901b4b723cc0e6b28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a532be820745a6a4901b4b723cc0e6b28">&#9670;&#160;</a></span>search_engine_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::search_engine_instance </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$query</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an instance of the search engine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$query</td><td>If true, gets the query-only search engine (where configured) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html" title="Base class for search engines.">core_search\engine</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a863c5d74881fc829af6218a7a8259983" name="a863c5d74881fc829af6218a7a8259983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a863c5d74881fc829af6218a7a8259983">&#9670;&#160;</a></span>search_engine_instance_from_setting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::search_engine_instance_from_setting </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$setting</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads a search engine based on the name given in settings, which can optionally include '-alternate' to indicate that an alternate version should be used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$setting</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">engine|null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3777ea0f6dcd529d70b1195169895940" name="a3777ea0f6dcd529d70b1195169895940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3777ea0f6dcd529d70b1195169895940">&#9670;&#160;</a></span>search_top()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_search\manager::search_top </td>
          <td>(</td>
          <td class="paramtype">\stdClass</td>          <td class="paramname"><span class="paramname"><em>$formdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for top ranked result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$formdata</td><td>search query data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|document[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af8f654704a8a8b03ede73e5d6c17a88b" name="af8f654704a8a8b03ede73e5d6c17a88b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f654704a8a8b03ede73e5d6c17a88b">&#9670;&#160;</a></span>should_hide_all_results_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::should_hide_all_results_category </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if all results category should be hidden. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0ee50440d591ab76a25e448b3032ebb" name="ae0ee50440d591ab76a25e448b3032ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0ee50440d591ab76a25e448b3032ebb">&#9670;&#160;</a></span>trigger_search_results_viewed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\manager::trigger_search_results_viewed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$other</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Triggers search_results_viewed event. </p>
<p>Other data required:</p><ul>
<li>q: The query string</li>
<li>page: The page number</li>
<li>title: Title filter</li>
<li>areaids: Search areas filter</li>
<li>courseids: Courses filter</li>
<li>timestart: Time start filter</li>
<li>timeend: Time end filter</li>
</ul>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.2 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$other</td><td>Other info for the event. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d4/d07/classcore_1_1event_1_1search__results__viewed.html">core\event\search_results_viewed</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af5038b3e52e9c635d8fd7eb4e0604085" name="af5038b3e52e9c635d8fd7eb4e0604085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5038b3e52e9c635d8fd7eb4e0604085">&#9670;&#160;</a></span>$phpunitfaketime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float core_search\manager::$phpunitfaketime = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Note: This should be removed once possible (see <a href="https://tracker.moodle.org/browse/MDL-60644" class="el">MDL-60644</a>). </p>
<p>Fake current time for use in PHPunit tests </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>search/classes/<b>manager.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 02:45:18 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
