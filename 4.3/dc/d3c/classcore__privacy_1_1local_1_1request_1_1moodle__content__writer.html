<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_privacy\local\request\moodle_content_writer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.3</span>
   </div>
   <div id="projectbrief">Moodle 4.3.4+ (Build: 20240530) (11a2641a137)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d3/d51/namespacecore__privacy.html">core_privacy</a></li><li class="navelem"><a class="el" href="../../dc/ddc/namespacecore__privacy_1_1local.html">local</a></li><li class="navelem"><a class="el" href="../../d9/d90/namespacecore__privacy_1_1local_1_1request.html">request</a></li><li class="navelem"><a class="el" href="../../dc/d3c/classcore__privacy_1_1local_1_1request_1_1moodle__content__writer.html">moodle_content_writer</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d5/de6/classcore__privacy_1_1local_1_1request_1_1moodle__content__writer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_privacy\local\request\moodle_content_writer Class Reference<div class="ingroups"><a class="el" href="../../dd/de6/group__core__privacy.html">core_privacy</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for core_privacy\local\request\moodle_content_writer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../dc/d3c/classcore__privacy_1_1local_1_1request_1_1moodle__content__writer.png" usemap="#core_5Fprivacy_5Clocal_5Crequest_5Cmoodle_5Fcontent_5Fwriter_map" alt=""/>
  <map id="core_5Fprivacy_5Clocal_5Crequest_5Cmoodle_5Fcontent_5Fwriter_map" name="core_5Fprivacy_5Clocal_5Crequest_5Cmoodle_5Fcontent_5Fwriter_map">
<area href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html" title="The interface for a Moodle content writer." alt="core_privacy\local\request\content_writer" shape="rect" coords="0,0,295,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a990d0c5ce8cac7c1fb951d536aa9aa9c" id="r_a990d0c5ce8cac7c1fb951d536aa9aa9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a990d0c5ce8cac7c1fb951d536aa9aa9c">__construct</a> (<a class="el" href="../../d7/d9c/classcore__privacy_1_1local_1_1request_1_1writer.html">writer</a> $<a class="el" href="../../d7/d9c/classcore__privacy_1_1local_1_1request_1_1writer.html">writer</a>)</td></tr>
<tr class="memdesc:a990d0c5ce8cac7c1fb951d536aa9aa9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the content writer.  <br /></td></tr>
<tr class="separator:a990d0c5ce8cac7c1fb951d536aa9aa9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48c37019d061708d71b38c5ffa04543" id="r_ab48c37019d061708d71b38c5ffa04543"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab48c37019d061708d71b38c5ffa04543">export_area_files</a> (array $subcontext, $component, $filearea, $itemid)</td></tr>
<tr class="memdesc:ab48c37019d061708d71b38c5ffa04543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export all files within the specified component, filearea, itemid combination.  <br /></td></tr>
<tr class="separator:ab48c37019d061708d71b38c5ffa04543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9126aa6dc9eaf1d1015edb925396f46a" id="r_a9126aa6dc9eaf1d1015edb925396f46a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9126aa6dc9eaf1d1015edb925396f46a">export_custom_file</a> (array $subcontext, $filename, $filecontent)</td></tr>
<tr class="memdesc:a9126aa6dc9eaf1d1015edb925396f46a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export a piece of data in a custom format.  <br /></td></tr>
<tr class="separator:a9126aa6dc9eaf1d1015edb925396f46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ac14140bf4a6f3b2b49bd62ac45902" id="r_a83ac14140bf4a6f3b2b49bd62ac45902"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83ac14140bf4a6f3b2b49bd62ac45902">export_data</a> (array $subcontext, stdClass $data)</td></tr>
<tr class="memdesc:a83ac14140bf4a6f3b2b49bd62ac45902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the supplied data within the current context, at the supplied subcontext.  <br /></td></tr>
<tr class="separator:a83ac14140bf4a6f3b2b49bd62ac45902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c766be4e823c1642e71d918fa072ca" id="r_a94c766be4e823c1642e71d918fa072ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94c766be4e823c1642e71d918fa072ca">export_file</a> (array $subcontext, <a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $file)</td></tr>
<tr class="memdesc:a94c766be4e823c1642e71d918fa072ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the specified file in the target location.  <br /></td></tr>
<tr class="separator:a94c766be4e823c1642e71d918fa072ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceed6e41d6837a5d3391f944932b285b" id="r_aceed6e41d6837a5d3391f944932b285b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aceed6e41d6837a5d3391f944932b285b">export_metadata</a> (array $subcontext, string $key, $value, string $description)</td></tr>
<tr class="memdesc:aceed6e41d6837a5d3391f944932b285b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export metadata about the supplied subcontext.  <br /></td></tr>
<tr class="separator:aceed6e41d6837a5d3391f944932b285b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0872dde6c5cb416fd9b91cc401efc30a" id="r_a0872dde6c5cb416fd9b91cc401efc30a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0872dde6c5cb416fd9b91cc401efc30a">export_related_data</a> (array $subcontext, $name, $data)</td></tr>
<tr class="memdesc:a0872dde6c5cb416fd9b91cc401efc30a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export a piece of related data.  <br /></td></tr>
<tr class="separator:a0872dde6c5cb416fd9b91cc401efc30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9bab8ba61d715883873206b60d402c0" id="r_ad9bab8ba61d715883873206b60d402c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9bab8ba61d715883873206b60d402c0">export_user_preference</a> (string $component, string $key, string $value, string $description)</td></tr>
<tr class="memdesc:ad9bab8ba61d715883873206b60d402c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the specified user preference.  <br /></td></tr>
<tr class="separator:ad9bab8ba61d715883873206b60d402c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1254c4b0c9fababdf1c4d24ed519f8" id="r_a2c1254c4b0c9fababdf1c4d24ed519f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c1254c4b0c9fababdf1c4d24ed519f8">finalise_content</a> ()</td></tr>
<tr class="memdesc:a2c1254c4b0c9fababdf1c4d24ed519f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform any required finalisation steps and return the location of the finalised export.  <br /></td></tr>
<tr class="separator:a2c1254c4b0c9fababdf1c4d24ed519f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf9716206fe18812e81a594c22e4d51e" id="r_aaf9716206fe18812e81a594c22e4d51e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf9716206fe18812e81a594c22e4d51e">rewrite_pluginfile_urls</a> (array $subcontext, $component, $filearea, $itemid, $text)</td></tr>
<tr class="memdesc:aaf9716206fe18812e81a594c22e4d51e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a text area by processing pluginfile URLs within it.  <br /></td></tr>
<tr class="separator:aaf9716206fe18812e81a594c22e4d51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528e3c34904606793faeb1ce36d35fbe" id="r_a528e3c34904606793faeb1ce36d35fbe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a528e3c34904606793faeb1ce36d35fbe">set_context</a> (\context $context)</td></tr>
<tr class="memdesc:a528e3c34904606793faeb1ce36d35fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the context for the current item being processed.  <br /></td></tr>
<tr class="separator:a528e3c34904606793faeb1ce36d35fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a595e197189730b28face0f9e228399d1" id="r_a595e197189730b28face0f9e228399d1"><td class="memItemLeft" align="right" valign="top"><a id="a595e197189730b28face0f9e228399d1" name="a595e197189730b28face0f9e228399d1"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_CONTEXT_NAME_LENGTH</b> = 32</td></tr>
<tr class="memdesc:a595e197189730b28face0f9e228399d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum context name char size. <br /></td></tr>
<tr class="separator:a595e197189730b28face0f9e228399d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad692b605fb2c4569bd796e43ce3be676" id="r_ad692b605fb2c4569bd796e43ce3be676"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad692b605fb2c4569bd796e43ce3be676">check_plugin_is_installed</a> (string $component)</td></tr>
<tr class="memdesc:ad692b605fb2c4569bd796e43ce3be676"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if a specified plugin is installed.  <br /></td></tr>
<tr class="separator:ad692b605fb2c4569bd796e43ce3be676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44a39a2e070d3dba5803b6531a2aa6e" id="r_ad44a39a2e070d3dba5803b6531a2aa6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad44a39a2e070d3dba5803b6531a2aa6e">condense_array</a> (array $array)</td></tr>
<tr class="memdesc:ad44a39a2e070d3dba5803b6531a2aa6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a multidimensional array out of array elements.  <br /></td></tr>
<tr class="separator:ad44a39a2e070d3dba5803b6531a2aa6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c0a1ba2eb69a7834c286018775f2a88" id="r_a0c0a1ba2eb69a7834c286018775f2a88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c0a1ba2eb69a7834c286018775f2a88">copy_data</a> (array $path, array $destination)</td></tr>
<tr class="memdesc:a0c0a1ba2eb69a7834c286018775f2a88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a file to the specified path.  <br /></td></tr>
<tr class="separator:a0c0a1ba2eb69a7834c286018775f2a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3a163d80d7e17f0074f67a2c34252a" id="r_a6d3a163d80d7e17f0074f67a2c34252a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d3a163d80d7e17f0074f67a2c34252a">get_context_path</a> ()</td></tr>
<tr class="memdesc:a6d3a163d80d7e17f0074f67a2c34252a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the path for the current context.  <br /></td></tr>
<tr class="separator:a6d3a163d80d7e17f0074f67a2c34252a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a677f488c50865842b8ef78ea9a070b" id="r_a2a677f488c50865842b8ef78ea9a070b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a677f488c50865842b8ef78ea9a070b">get_file_content</a> (string $filepath)</td></tr>
<tr class="memdesc:a2a677f488c50865842b8ef78ea9a070b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the contents of a file.  <br /></td></tr>
<tr class="separator:a2a677f488c50865842b8ef78ea9a070b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a78fa4f062fdc34032fc0ec95474d0" id="r_a76a78fa4f062fdc34032fc0ec95474d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76a78fa4f062fdc34032fc0ec95474d0">get_files_target_path</a> ($component, $filearea, $itemid)</td></tr>
<tr class="memdesc:a76a78fa4f062fdc34032fc0ec95474d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a path within a subcontext where exported files should be written to.  <br /></td></tr>
<tr class="separator:a76a78fa4f062fdc34032fc0ec95474d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1aa344417cbccd08814878d26b713d" id="r_a4d1aa344417cbccd08814878d26b713d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d1aa344417cbccd08814878d26b713d">get_files_target_url</a> ($component, $filearea, $itemid)</td></tr>
<tr class="memdesc:a4d1aa344417cbccd08814878d26b713d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a relative url to the directory of the exported files within a subcontext.  <br /></td></tr>
<tr class="separator:a4d1aa344417cbccd08814878d26b713d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1022db68c6a92a454cdfdb6bea9588" id="r_a5e1022db68c6a92a454cdfdb6bea9588"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e1022db68c6a92a454cdfdb6bea9588">get_full_path</a> (array $subcontext, string $name)</td></tr>
<tr class="memdesc:a5e1022db68c6a92a454cdfdb6bea9588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the fully-qualified file path within the current context, and subcontext, using the specified filename.  <br /></td></tr>
<tr class="separator:a5e1022db68c6a92a454cdfdb6bea9588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ab98c3cdbf355614d80ae830da85d0" id="r_ac2ab98c3cdbf355614d80ae830da85d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2ab98c3cdbf355614d80ae830da85d0">get_path</a> (array $subcontext, string $name)</td></tr>
<tr class="memdesc:ac2ab98c3cdbf355614d80ae830da85d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the relative file path within the current context, and subcontext, using the specified filename.  <br /></td></tr>
<tr class="separator:ac2ab98c3cdbf355614d80ae830da85d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfd3dc03fefff09e44519dfd652ffa7" id="r_a7cfd3dc03fefff09e44519dfd652ffa7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cfd3dc03fefff09e44519dfd652ffa7">make_tree_object</a> (array $tree, array $treekey, array $currentkey=[])</td></tr>
<tr class="memdesc:a7cfd3dc03fefff09e44519dfd652ffa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add more detail to the tree to help with sorting and display in the renderer.  <br /></td></tr>
<tr class="separator:a7cfd3dc03fefff09e44519dfd652ffa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7412075c26332d42ab1780e502c2303" id="r_aa7412075c26332d42ab1780e502c2303"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7412075c26332d42ab1780e502c2303">prepare_for_export</a> ()</td></tr>
<tr class="memdesc:aa7412075c26332d42ab1780e502c2303"><td class="mdescLeft">&#160;</td><td class="mdescRight">This creates three different bits of data from all of the files that will be exported.  <br /></td></tr>
<tr class="separator:aa7412075c26332d42ab1780e502c2303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d326f05235a6cb4db3950118e1dad6" id="r_aa7d326f05235a6cb4db3950118e1dad6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7d326f05235a6cb4db3950118e1dad6">sort_my_list</a> (array &amp;$tree)</td></tr>
<tr class="memdesc:aa7d326f05235a6cb4db3950118e1dad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sorts the tree list into an order that makes more sense.  <br /></td></tr>
<tr class="separator:aa7d326f05235a6cb4db3950118e1dad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf75712b39f8f2c1f6045a8b41b5fea" id="r_addf75712b39f8f2c1f6045a8b41b5fea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#addf75712b39f8f2c1f6045a8b41b5fea">write_data</a> (string $path, string $data)</td></tr>
<tr class="memdesc:addf75712b39f8f2c1f6045a8b41b5fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the data to the specified path.  <br /></td></tr>
<tr class="separator:addf75712b39f8f2c1f6045a8b41b5fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9763737827434fae7cf641ff09bb3f" id="r_a9f9763737827434fae7cf641ff09bb3f"><td class="memItemLeft" align="right" valign="top"><a id="a9f9763737827434fae7cf641ff09bb3f" name="a9f9763737827434fae7cf641ff09bb3f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>write_html_data</b> ()</td></tr>
<tr class="memdesc:a9f9763737827434fae7cf641ff09bb3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the appropriate files for creating an HTML index page for human navigation of the user data export. <br /></td></tr>
<tr class="separator:a9f9763737827434fae7cf641ff09bb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a653f08ac1e926231c6b1c12d0872eb35" id="r_a653f08ac1e926231c6b1c12d0872eb35"><td class="memItemLeft" align="right" valign="top"><a id="a653f08ac1e926231c6b1c12d0872eb35" name="a653f08ac1e926231c6b1c12d0872eb35"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$checkedplugins</b> = []</td></tr>
<tr class="memdesc:a653f08ac1e926231c6b1c12d0872eb35"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of plugins that have been checked to see if they are installed. <br /></td></tr>
<tr class="separator:a653f08ac1e926231c6b1c12d0872eb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a789f29dbb6bd42efddcfa203c70ef355" id="r_a789f29dbb6bd42efddcfa203c70ef355"><td class="memItemLeft" align="right" valign="top"><a id="a789f29dbb6bd42efddcfa203c70ef355" name="a789f29dbb6bd42efddcfa203c70ef355"></a>
context&#160;</td><td class="memItemRight" valign="bottom"><b>$context</b> = null</td></tr>
<tr class="memdesc:a789f29dbb6bd42efddcfa203c70ef355"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current context of the writer. <br /></td></tr>
<tr class="separator:a789f29dbb6bd42efddcfa203c70ef355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5bcdcfd798ce36d68d96c912b9cb9cc" id="r_ae5bcdcfd798ce36d68d96c912b9cb9cc"><td class="memItemLeft" align="right" valign="top"><a id="ae5bcdcfd798ce36d68d96c912b9cb9cc" name="ae5bcdcfd798ce36d68d96c912b9cb9cc"></a>
<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a>[]&#160;</td><td class="memItemRight" valign="bottom"><b>$files</b> = []</td></tr>
<tr class="memdesc:ae5bcdcfd798ce36d68d96c912b9cb9cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of files to be exported. <br /></td></tr>
<tr class="separator:ae5bcdcfd798ce36d68d96c912b9cb9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3509ab25eaf7a52399075378181ee665" id="r_a3509ab25eaf7a52399075378181ee665"><td class="memItemLeft" align="right" valign="top"><a id="a3509ab25eaf7a52399075378181ee665" name="a3509ab25eaf7a52399075378181ee665"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$path</b> = null</td></tr>
<tr class="memdesc:a3509ab25eaf7a52399075378181ee665"><td class="mdescLeft">&#160;</td><td class="mdescRight">The base path on disk for this instance. <br /></td></tr>
<tr class="separator:a3509ab25eaf7a52399075378181ee665"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a990d0c5ce8cac7c1fb951d536aa9aa9c" name="a990d0c5ce8cac7c1fb951d536aa9aa9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a990d0c5ce8cac7c1fb951d536aa9aa9c">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d9c/classcore__privacy_1_1local_1_1request_1_1writer.html">writer</a></td>          <td class="paramname"><span class="paramname"><em>$writer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the content writer. </p>
<p>Note: The writer factory must be passed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">writer</td><td class="paramname">$writer</td><td>The factory. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#ad6bb2ac7ce2455b937068cd13ba3158b">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad692b605fb2c4569bd796e43ce3be676" name="ad692b605fb2c4569bd796e43ce3be676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad692b605fb2c4569bd796e43ce3be676">&#9670;&#160;</a></span>check_plugin_is_installed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::check_plugin_is_installed </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$component</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check to see if a specified plugin is installed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The component name e.g. tool_log </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Whether this component is installed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad44a39a2e070d3dba5803b6531a2aa6e" name="ad44a39a2e070d3dba5803b6531a2aa6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad44a39a2e070d3dba5803b6531a2aa6e">&#9670;&#160;</a></span>condense_array()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::condense_array </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$array</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a multidimensional array out of array elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$array</td><td>Array which items are to be condensed into a multidimensional array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>The multidimensional array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c0a1ba2eb69a7834c286018775f2a88" name="a0c0a1ba2eb69a7834c286018775f2a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c0a1ba2eb69a7834c286018775f2a88">&#9670;&#160;</a></span>copy_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::copy_data </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$destination</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a file to the specified path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$path</td><td>Current location of the file. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$destination</td><td>Destination path to copy the file to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab48c37019d061708d71b38c5ffa04543" name="ab48c37019d061708d71b38c5ffa04543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab48c37019d061708d71b38c5ffa04543">&#9670;&#160;</a></span>export_area_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::export_area_files </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filearea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export all files within the specified component, filearea, itemid combination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$subcontext</td><td>The location within the current context that this data belongs. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The name of the component that the files belong to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>The filearea within that component. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemid</td><td>Which item those files belong to. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#ab0c6627e36b07bdb2fbeec445adf3731">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="a9126aa6dc9eaf1d1015edb925396f46a" name="a9126aa6dc9eaf1d1015edb925396f46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9126aa6dc9eaf1d1015edb925396f46a">&#9670;&#160;</a></span>export_custom_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::export_custom_file </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filecontent</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export a piece of data in a custom format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$subcontext</td><td>The location within the current context that this data belongs. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>The name of the file to be exported. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filecontent</td><td>The content to be exported. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#a4da453eb18890d82de45c81f0911b102">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="a83ac14140bf4a6f3b2b49bd62ac45902" name="a83ac14140bf4a6f3b2b49bd62ac45902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ac14140bf4a6f3b2b49bd62ac45902">&#9670;&#160;</a></span>export_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::export_data </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export the supplied data within the current context, at the supplied subcontext. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$subcontext</td><td>The location within the current context that this data belongs. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$data</td><td>The data to be exported </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">content_writer</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#a3fd47766f9953b41b6cb76ea72fcf9dd">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="a94c766be4e823c1642e71d918fa072ca" name="a94c766be4e823c1642e71d918fa072ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c766be4e823c1642e71d918fa072ca">&#9670;&#160;</a></span>export_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::export_file </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td>          <td class="paramname"><span class="paramname"><em>$file</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export the specified file in the target location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$subcontext</td><td>The location within the current context that this data belongs. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html" title="Class representing local files stored in a sha1 file pool.">stored_file</a></td><td class="paramname">$file</td><td>The file to be exported. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#a29a159c9305ad04296f52fca1f945e95">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="aceed6e41d6837a5d3391f944932b285b" name="aceed6e41d6837a5d3391f944932b285b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceed6e41d6837a5d3391f944932b285b">&#9670;&#160;</a></span>export_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::export_metadata </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$description</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export metadata about the supplied subcontext. </p>
<p>Metadata consists of a key/value pair and a description of the value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$subcontext</td><td>The location within the current context that this data belongs. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The metadata name. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The metadata value. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$description</td><td>The description of the value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">content_writer</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#a5663382a7f405c5d8dbb6ef4dc8ae3da">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="a0872dde6c5cb416fd9b91cc401efc30a" name="a0872dde6c5cb416fd9b91cc401efc30a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0872dde6c5cb416fd9b91cc401efc30a">&#9670;&#160;</a></span>export_related_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::export_related_data </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export a piece of related data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$subcontext</td><td>The location within the current context that this data belongs. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the file to be exported. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$data</td><td>The related data to export. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">content_writer</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#a5be88a31c9ff9c84fc5b959eabcf8ccf">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="ad9bab8ba61d715883873206b60d402c0" name="ad9bab8ba61d715883873206b60d402c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9bab8ba61d715883873206b60d402c0">&#9670;&#160;</a></span>export_user_preference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::export_user_preference </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$description</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export the specified user preference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The name of the component. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The name of th key to be exported. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The value of the preference </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$description</td><td>A description of the value </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">content_writer</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#a2d59fb62539e3ec6bf90885e86e4ba02">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="a2c1254c4b0c9fababdf1c4d24ed519f8" name="a2c1254c4b0c9fababdf1c4d24ed519f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c1254c4b0c9fababdf1c4d24ed519f8">&#9670;&#160;</a></span>finalise_content()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::finalise_content </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform any required finalisation steps and return the location of the finalised export. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#ac3561793caab81fb0f7b1f92e44e8c87">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="a6d3a163d80d7e17f0074f67a2c34252a" name="a6d3a163d80d7e17f0074f67a2c34252a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d3a163d80d7e17f0074f67a2c34252a">&#9670;&#160;</a></span>get_context_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::get_context_path </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine the path for the current context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>The context path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a677f488c50865842b8ef78ea9a070b" name="a2a677f488c50865842b8ef78ea9a070b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a677f488c50865842b8ef78ea9a070b">&#9670;&#160;</a></span>get_file_content()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::get_file_content </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$filepath</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the contents of a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td>The file path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>contents of the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>If the file cannot be opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a76a78fa4f062fdc34032fc0ec95474d0" name="a76a78fa4f062fdc34032fc0ec95474d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a78fa4f062fdc34032fc0ec95474d0">&#9670;&#160;</a></span>get_files_target_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::get_files_target_path </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filearea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a path within a subcontext where exported files should be written to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The name of the component that the files belong to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>The filearea within that component. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemid</td><td>Which item those files belong to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4d1aa344417cbccd08814878d26b713d" name="a4d1aa344417cbccd08814878d26b713d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1aa344417cbccd08814878d26b713d">&#9670;&#160;</a></span>get_files_target_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::get_files_target_url </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filearea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a relative url to the directory of the exported files within a subcontext. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The name of the component that the files belong to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>The filearea within that component. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemid</td><td>Which item those files belong to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The url </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e1022db68c6a92a454cdfdb6bea9588" name="a5e1022db68c6a92a454cdfdb6bea9588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e1022db68c6a92a454cdfdb6bea9588">&#9670;&#160;</a></span>get_full_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::get_full_path </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the fully-qualified file path within the current context, and subcontext, using the specified filename. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string[]</td><td class="paramname">$subcontext</td><td>The location within the current context to export this data. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The intended filename, including any extensions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The fully-qualfiied file path. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac2ab98c3cdbf355614d80ae830da85d0" name="ac2ab98c3cdbf355614d80ae830da85d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ab98c3cdbf355614d80ae830da85d0">&#9670;&#160;</a></span>get_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::get_path </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the relative file path within the current context, and subcontext, using the specified filename. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string[]</td><td class="paramname">$subcontext</td><td>The location within the current context to export this data. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The intended filename, including any extensions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The fully-qualfiied file path. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7cfd3dc03fefff09e44519dfd652ffa7" name="a7cfd3dc03fefff09e44519dfd652ffa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cfd3dc03fefff09e44519dfd652ffa7">&#9670;&#160;</a></span>make_tree_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::make_tree_object </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$treekey</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$currentkey</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add more detail to the tree to help with sorting and display in the renderer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$tree</td><td>The file structure currently as a multidimensional array. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$treekey</td><td>An array of the current file paths. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$currentkey</td><td>The current short path of the tree. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of objects that has additional data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7412075c26332d42ab1780e502c2303" name="aa7412075c26332d42ab1780e502c2303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7412075c26332d42ab1780e502c2303">&#9670;&#160;</a></span>prepare_for_export()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::prepare_for_export </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This creates three different bits of data from all of the files that will be exported. </p>
<p>$tree - A multidimensional array of the navigation tree structure. $treekey - An array with the short path of the file and element data for html (data_file_{number} or 'No var') $allfiles - All *.json files that need to be added as an index to be referenced by the js files to display the user data.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>returns a tree, tree key, and a list of all files. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf9716206fe18812e81a594c22e4d51e" name="aaf9716206fe18812e81a594c22e4d51e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf9716206fe18812e81a594c22e4d51e">&#9670;&#160;</a></span>rewrite_pluginfile_urls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::rewrite_pluginfile_urls </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$subcontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filearea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a text area by processing pluginfile URLs within it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$subcontext</td><td>The location within the current context that this data belongs. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The name of the component that the files belong to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>The filearea within that component. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemid</td><td>Which item those files belong to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>The text to be processed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The processed string </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#af195fb252adcdbfe5b8bd785786061b9">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="a528e3c34904606793faeb1ce36d35fbe" name="a528e3c34904606793faeb1ce36d35fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528e3c34904606793faeb1ce36d35fbe">&#9670;&#160;</a></span>set_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::set_context </td>
          <td>(</td>
          <td class="paramtype">\context</td>          <td class="paramname"><span class="paramname"><em>$context</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the context for the current item being processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>The context to use </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d21/interfacecore__privacy_1_1local_1_1request_1_1content__writer.html#a0497658883fc1117135925a324e7dd1c">core_privacy\local\request\content_writer</a>.</p>

</div>
</div>
<a id="aa7d326f05235a6cb4db3950118e1dad6" name="aa7d326f05235a6cb4db3950118e1dad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d326f05235a6cb4db3950118e1dad6">&#9670;&#160;</a></span>sort_my_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::sort_my_list </td>
          <td>(</td>
          <td class="paramtype">array &amp;</td>          <td class="paramname"><span class="paramname"><em>$tree</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sorts the tree list into an order that makes more sense. </p>
<p>Order is: 1 - Items with a context first, the lower the number the higher up the tree. 2 - Items that are directories. 3 - Items that are log directories. 4 - Links to a page.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$tree</td><td>The tree structure to order. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="addf75712b39f8f2c1f6045a8b41b5fea" name="addf75712b39f8f2c1f6045a8b41b5fea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf75712b39f8f2c1f6045a8b41b5fea">&#9670;&#160;</a></span>write_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_privacy\local\request\moodle_content_writer::write_data </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the data to the specified path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>The path to export the data at. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$data</td><td>The data to be exported. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>If the file cannot be written for some reason. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>privacy/classes/local/request/<b>moodle_content_writer.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 02:45:14 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
