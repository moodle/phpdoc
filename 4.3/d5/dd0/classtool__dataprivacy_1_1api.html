<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: tool_dataprivacy\api Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.3</span>
   </div>
   <div id="projectbrief">Moodle 4.3.4+ (Build: 20240524) (130165c8cc5)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dc/d73/namespacetool__dataprivacy.html">tool_dataprivacy</a></li><li class="navelem"><a class="el" href="../../d5/dd0/classtool__dataprivacy_1_1api.html">api</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../d1/d2c/classtool__dataprivacy_1_1api-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">tool_dataprivacy\api Class Reference<div class="ingroups"><a class="el" href="../../d1/d40/group__tool__dataprivacy.html">tool_dataprivacy</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Class containing helper methods for processing data requests.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aef81e3eda68e2af79a8c30ed9fd81246" id="r_aef81e3eda68e2af79a8c30ed9fd81246"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef81e3eda68e2af79a8c30ed9fd81246">add_request_contexts_with_status</a> (<a class="el" href="../../dd/dfc/classcore__privacy_1_1local_1_1request_1_1contextlist__collection.html">contextlist_collection</a> $clcollection, int $requestid, int $status)</td></tr>
<tr class="memdesc:aef81e3eda68e2af79a8c30ed9fd81246"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the contexts from the contextlist_collection to the request with the status provided.  <br /></td></tr>
<tr class="separator:aef81e3eda68e2af79a8c30ed9fd81246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0657e47bdddaa9f430caf850607baac2" id="r_a0657e47bdddaa9f430caf850607baac2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0657e47bdddaa9f430caf850607baac2">approve_contexts_belonging_to_request</a> (int $requestid, array $coursecontextids=[])</td></tr>
<tr class="memdesc:a0657e47bdddaa9f430caf850607baac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only approve the contexts which are children of the provided course contexts.  <br /></td></tr>
<tr class="separator:a0657e47bdddaa9f430caf850607baac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe069360aabe6e0b13724158e30fb6ad" id="r_abe069360aabe6e0b13724158e30fb6ad"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe069360aabe6e0b13724158e30fb6ad">approve_data_request</a> ($requestid, $filtercoursecontexts=[])</td></tr>
<tr class="memdesc:abe069360aabe6e0b13724158e30fb6ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Approves a data request based on the request ID.  <br /></td></tr>
<tr class="separator:abe069360aabe6e0b13724158e30fb6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe7e373b652e30498c17eec4abde18c" id="r_aefe7e373b652e30498c17eec4abde18c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aefe7e373b652e30498c17eec4abde18c">can_contact_dpo</a> ()</td></tr>
<tr class="memdesc:aefe7e373b652e30498c17eec4abde18c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the user can contact the site's Data Protection Officer via <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>.  <br /></td></tr>
<tr class="separator:aefe7e373b652e30498c17eec4abde18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a478c881ee8cc225b4be0ae9f18f2b24f" id="r_a478c881ee8cc225b4be0ae9f18f2b24f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a478c881ee8cc225b4be0ae9f18f2b24f">can_create_data_deletion_request_for_children</a> (int $userid, int $requesterid=null)</td></tr>
<tr class="memdesc:a478c881ee8cc225b4be0ae9f18f2b24f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if parent can create data deletion request for their children.  <br /></td></tr>
<tr class="separator:a478c881ee8cc225b4be0ae9f18f2b24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72bcf0014eaa28d40a5c6a6efa0ed038" id="r_a72bcf0014eaa28d40a5c6a6efa0ed038"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72bcf0014eaa28d40a5c6a6efa0ed038">can_create_data_deletion_request_for_other</a> (int $userid=null)</td></tr>
<tr class="memdesc:a72bcf0014eaa28d40a5c6a6efa0ed038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if user has permission to create data deletion request for another user.  <br /></td></tr>
<tr class="separator:a72bcf0014eaa28d40a5c6a6efa0ed038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c10050bb911ef9c761c3c181055f2f6" id="r_a0c10050bb911ef9c761c3c181055f2f6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c10050bb911ef9c761c3c181055f2f6">can_create_data_deletion_request_for_self</a> (int $userid=null)</td></tr>
<tr class="memdesc:a0c10050bb911ef9c761c3c181055f2f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if user has permisson to create data deletion request for themselves.  <br /></td></tr>
<tr class="separator:a0c10050bb911ef9c761c3c181055f2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d8b373eacf534d37fc66c24b6ebf93" id="r_ad8d8b373eacf534d37fc66c24b6ebf93"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8d8b373eacf534d37fc66c24b6ebf93">can_create_data_download_request_for_self</a> (int $userid=null)</td></tr>
<tr class="memdesc:ad8d8b373eacf534d37fc66c24b6ebf93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if user has permission to create data download request for themselves.  <br /></td></tr>
<tr class="separator:ad8d8b373eacf534d37fc66c24b6ebf93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd86c05844ba7590d9f482b84ba7481" id="r_a3bd86c05844ba7590d9f482b84ba7481"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3bd86c05844ba7590d9f482b84ba7481">can_create_data_request_for_user</a> ($user, $requester=null)</td></tr>
<tr class="memdesc:a3bd86c05844ba7590d9f482b84ba7481"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a non-DPO user can make a data request for another user.  <br /></td></tr>
<tr class="separator:a3bd86c05844ba7590d9f482b84ba7481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5340454a58c8061dc38c7cd9e90905" id="r_acd5340454a58c8061dc38c7cd9e90905"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd5340454a58c8061dc38c7cd9e90905">can_download_data_request_for_user</a> ($userid, $requesterid, $downloaderid=null)</td></tr>
<tr class="memdesc:acd5340454a58c8061dc38c7cd9e90905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a user can download a data request.  <br /></td></tr>
<tr class="separator:acd5340454a58c8061dc38c7cd9e90905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6bcab050be8494547b826b162574c11" id="r_af6bcab050be8494547b826b162574c11"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6bcab050be8494547b826b162574c11">can_manage_data_requests</a> ($userid)</td></tr>
<tr class="memdesc:af6bcab050be8494547b826b162574c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the current user has the capability to manage data requests.  <br /></td></tr>
<tr class="separator:af6bcab050be8494547b826b162574c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c4b94585a855669ef6ecccaa8b8498" id="r_a29c4b94585a855669ef6ecccaa8b8498"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29c4b94585a855669ef6ecccaa8b8498">check_can_manage_data_registry</a> ($contextid=false)</td></tr>
<tr class="memdesc:a29c4b94585a855669ef6ecccaa8b8498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the current user can manage the data registry at the provided id.  <br /></td></tr>
<tr class="separator:a29c4b94585a855669ef6ecccaa8b8498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe15f5a79f2c1e9f8ec68f85f4a7d0c" id="r_abbe15f5a79f2c1e9f8ec68f85f4a7d0c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abbe15f5a79f2c1e9f8ec68f85f4a7d0c">create_category</a> (stdClass $record)</td></tr>
<tr class="memdesc:abbe15f5a79f2c1e9f8ec68f85f4a7d0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new data category.  <br /></td></tr>
<tr class="separator:abbe15f5a79f2c1e9f8ec68f85f4a7d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e61811b0f4a7648db3a990f71ddd2ff" id="r_a5e61811b0f4a7648db3a990f71ddd2ff"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e61811b0f4a7648db3a990f71ddd2ff">create_data_request</a> ($foruser, $<a class="el" href="../../dd/d59/interfacecore__privacy_1_1local_1_1metadata_1_1types_1_1type.html">type</a>, $comments='', $creationmethod=<a class="el" href="../../de/dd1/classtool__dataprivacy_1_1data__request.html#abde6e1e68c7e9d02c845ca9f535c828a">data_request::DATAREQUEST_CREATION_MANUAL</a>, $<a class="el" href="../../d0/de1/group__core.html#gadd8686b50f3ac89a272ca980452d10cc">notify</a>=null)</td></tr>
<tr class="memdesc:a5e61811b0f4a7648db3a990f71ddd2ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lodges a data request and sends the request details to the site Data Protection Officer(s).  <br /></td></tr>
<tr class="separator:a5e61811b0f4a7648db3a990f71ddd2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6001c31387a866fdc62392bf1f851e65" id="r_a6001c31387a866fdc62392bf1f851e65"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6001c31387a866fdc62392bf1f851e65">create_expired_context</a> ($contextid)</td></tr>
<tr class="memdesc:a6001c31387a866fdc62392bf1f851e65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an expired context record for the provided context id.  <br /></td></tr>
<tr class="separator:a6001c31387a866fdc62392bf1f851e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc2082a135b802b4fb0477c382c09e71" id="r_acc2082a135b802b4fb0477c382c09e71"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc2082a135b802b4fb0477c382c09e71">create_purpose</a> (stdClass $record)</td></tr>
<tr class="memdesc:acc2082a135b802b4fb0477c382c09e71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new data purpose.  <br /></td></tr>
<tr class="separator:acc2082a135b802b4fb0477c382c09e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfdffd1d22299c1f752d63dd9919dca" id="r_a0bfdffd1d22299c1f752d63dd9919dca"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bfdffd1d22299c1f752d63dd9919dca">delete_category</a> ($id)</td></tr>
<tr class="memdesc:a0bfdffd1d22299c1f752d63dd9919dca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a data category.  <br /></td></tr>
<tr class="separator:a0bfdffd1d22299c1f752d63dd9919dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a660b463ba7eea20520720c2a4f32415f" id="r_a660b463ba7eea20520720c2a4f32415f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a660b463ba7eea20520720c2a4f32415f">delete_expired_context</a> ($id)</td></tr>
<tr class="memdesc:a660b463ba7eea20520720c2a4f32415f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an expired context record.  <br /></td></tr>
<tr class="separator:a660b463ba7eea20520720c2a4f32415f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ab58459b20a60120455a7293d377e4" id="r_aa5ab58459b20a60120455a7293d377e4"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5ab58459b20a60120455a7293d377e4">delete_purpose</a> ($id)</td></tr>
<tr class="memdesc:aa5ab58459b20a60120455a7293d377e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a data purpose.  <br /></td></tr>
<tr class="separator:aa5ab58459b20a60120455a7293d377e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a425cb7ddfc999cb67bcafbaffe258" id="r_a54a425cb7ddfc999cb67bcafbaffe258"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54a425cb7ddfc999cb67bcafbaffe258">deny_data_request</a> ($requestid)</td></tr>
<tr class="memdesc:a54a425cb7ddfc999cb67bcafbaffe258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rejects a data request based on the request ID.  <br /></td></tr>
<tr class="separator:a54a425cb7ddfc999cb67bcafbaffe258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9004d9c722f7d47a6f95965cd7f93988" id="r_a9004d9c722f7d47a6f95965cd7f93988"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9004d9c722f7d47a6f95965cd7f93988">find_ongoing_request_types_for_users</a> (array $userids)</td></tr>
<tr class="memdesc:a9004d9c722f7d47a6f95965cd7f93988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find whether any ongoing requests exist for a set of users.  <br /></td></tr>
<tr class="separator:a9004d9c722f7d47a6f95965cd7f93988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae6192141eb2d644c377d0cabe5cdf5" id="r_a8ae6192141eb2d644c377d0cabe5cdf5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ae6192141eb2d644c377d0cabe5cdf5">format_retention_period</a> (\DateInterval $interval)</td></tr>
<tr class="memdesc:a8ae6192141eb2d644c377d0cabe5cdf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format the supplied date interval as a retention period.  <br /></td></tr>
<tr class="separator:a8ae6192141eb2d644c377d0cabe5cdf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61998f7d234d9219058f6e1a9a21265d" id="r_a61998f7d234d9219058f6e1a9a21265d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61998f7d234d9219058f6e1a9a21265d">get_approved_contextlist_collection_for_collection</a> (<a class="el" href="../../dd/dfc/classcore__privacy_1_1local_1_1request_1_1contextlist__collection.html">contextlist_collection</a> $collection, stdClass $foruser, int $<a class="el" href="../../dd/d59/interfacecore__privacy_1_1local_1_1metadata_1_1types_1_1type.html">type</a>)</td></tr>
<tr class="memdesc:a61998f7d234d9219058f6e1a9a21265d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds all contextlists having at least one approved context, and returns them as in a contextlist_collection.  <br /></td></tr>
<tr class="separator:a61998f7d234d9219058f6e1a9a21265d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc79862dbd766038ebea079caf209c09" id="r_adc79862dbd766038ebea079caf209c09"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc79862dbd766038ebea079caf209c09">get_approved_contextlist_collection_for_request</a> (<a class="el" href="../../de/dd1/classtool__dataprivacy_1_1data__request.html">data_request</a> $request)</td></tr>
<tr class="memdesc:adc79862dbd766038ebea079caf209c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds all request contextlists having at least on approved context, and returns them as in a contextlist_collection.  <br /></td></tr>
<tr class="separator:adc79862dbd766038ebea079caf209c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360d89d801560355969f20572b796780" id="r_a360d89d801560355969f20572b796780"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a360d89d801560355969f20572b796780">get_assigned_privacy_officer_roles</a> ()</td></tr>
<tr class="memdesc:a360d89d801560355969f20572b796780"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the list of configured privacy officer roles.  <br /></td></tr>
<tr class="separator:a360d89d801560355969f20572b796780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9338fc40f85380a5e294f279a17a4c" id="r_a2f9338fc40f85380a5e294f279a17a4c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f9338fc40f85380a5e294f279a17a4c">get_categories</a> ()</td></tr>
<tr class="memdesc:a2f9338fc40f85380a5e294f279a17a4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all system data categories.  <br /></td></tr>
<tr class="separator:a2f9338fc40f85380a5e294f279a17a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807e3156e494b002bfb11a5d49f1b520" id="r_a807e3156e494b002bfb11a5d49f1b520"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a807e3156e494b002bfb11a5d49f1b520">get_course_contexts_for_view_filter</a> (int $requestid)</td></tr>
<tr class="memdesc:a807e3156e494b002bfb11a5d49f1b520"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of course context for user to filter.  <br /></td></tr>
<tr class="separator:a807e3156e494b002bfb11a5d49f1b520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6299e1fef9b549d0edc5e5baad0f3b" id="r_a5b6299e1fef9b549d0edc5e5baad0f3b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b6299e1fef9b549d0edc5e5baad0f3b">get_data_requests</a> ($userid=0, $statuses=[], $types=[], $creationmethods=[], $<a class="el" href="../../dc/d71/group___imap___client.html#ga4bd31bcedb7b4943aac2da78d0d84afe">sort</a>='', $offset=0, $limit=0)</td></tr>
<tr class="memdesc:a5b6299e1fef9b549d0edc5e5baad0f3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the list of the data requests.  <br /></td></tr>
<tr class="separator:a5b6299e1fef9b549d0edc5e5baad0f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2103094f48fb19feb3e76929878b25bf" id="r_a2103094f48fb19feb3e76929878b25bf"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2103094f48fb19feb3e76929878b25bf">get_data_requests_count</a> ($userid=0, $statuses=[], $types=[], $creationmethods=[])</td></tr>
<tr class="memdesc:a2103094f48fb19feb3e76929878b25bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the count of data request records based on the given parameters.  <br /></td></tr>
<tr class="separator:a2103094f48fb19feb3e76929878b25bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f88f41069673759693f633c14f0597" id="r_a20f88f41069673759693f633c14f0597"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20f88f41069673759693f633c14f0597">get_download_link</a> (\context_user $usercontext, $requestid)</td></tr>
<tr class="memdesc:a20f88f41069673759693f633c14f0597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an action menu link to download a data request.  <br /></td></tr>
<tr class="separator:a20f88f41069673759693f633c14f0597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c25372e4b684e75d18ce83cb55ec142" id="r_a8c25372e4b684e75d18ce83cb55ec142"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c25372e4b684e75d18ce83cb55ec142">get_dpo_role_names</a> ()</td></tr>
<tr class="memdesc:a8c25372e4b684e75d18ce83cb55ec142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the role shortnames of Data Protection Officer roles.  <br /></td></tr>
<tr class="separator:a8c25372e4b684e75d18ce83cb55ec142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace470947d3be5509f1417ddfcb2da966" id="r_ace470947d3be5509f1417ddfcb2da966"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace470947d3be5509f1417ddfcb2da966">get_effective_context_category</a> (\context $context, $forcedvalue=false)</td></tr>
<tr class="memdesc:ace470947d3be5509f1417ddfcb2da966"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the effective category given a context instance.  <br /></td></tr>
<tr class="separator:ace470947d3be5509f1417ddfcb2da966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eabcab6476442085fc79abbfdb2a933" id="r_a4eabcab6476442085fc79abbfdb2a933"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4eabcab6476442085fc79abbfdb2a933">get_effective_context_purpose</a> (\context $context, $forcedvalue=false)</td></tr>
<tr class="memdesc:a4eabcab6476442085fc79abbfdb2a933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the effective purpose given a context instance.  <br /></td></tr>
<tr class="separator:a4eabcab6476442085fc79abbfdb2a933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d4e392659e0e18048088c0cb6fc796" id="r_ab4d4e392659e0e18048088c0cb6fc796"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4d4e392659e0e18048088c0cb6fc796">get_effective_contextlevel_category</a> ($<a class="el" href="../../d4/de3/classtool__dataprivacy_1_1contextlevel.html">contextlevel</a>)</td></tr>
<tr class="memdesc:ab4d4e392659e0e18048088c0cb6fc796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the effective category given a context level.  <br /></td></tr>
<tr class="separator:ab4d4e392659e0e18048088c0cb6fc796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51730c0ce0fdfc1db0589bd83f7190b7" id="r_a51730c0ce0fdfc1db0589bd83f7190b7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51730c0ce0fdfc1db0589bd83f7190b7">get_effective_contextlevel_purpose</a> ($<a class="el" href="../../d4/de3/classtool__dataprivacy_1_1contextlevel.html">contextlevel</a>, $forcedvalue=false)</td></tr>
<tr class="memdesc:a51730c0ce0fdfc1db0589bd83f7190b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the effective purpose given a context level.  <br /></td></tr>
<tr class="separator:a51730c0ce0fdfc1db0589bd83f7190b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813cb8c0c3538db04435de76f97245f3" id="r_a813cb8c0c3538db04435de76f97245f3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a813cb8c0c3538db04435de76f97245f3">get_purposes</a> ()</td></tr>
<tr class="memdesc:a813cb8c0c3538db04435de76f97245f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all system data purposes.  <br /></td></tr>
<tr class="separator:a813cb8c0c3538db04435de76f97245f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6704a507754cdac391f9078b94c4144" id="r_ad6704a507754cdac391f9078b94c4144"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6704a507754cdac391f9078b94c4144">get_request</a> ($requestid)</td></tr>
<tr class="memdesc:ad6704a507754cdac391f9078b94c4144"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches a request based on the request ID.  <br /></td></tr>
<tr class="separator:ad6704a507754cdac391f9078b94c4144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0d85de810ab79d2309f348756da141" id="r_aea0d85de810ab79d2309f348756da141"><td class="memItemLeft" align="right" valign="top"><a id="aea0d85de810ab79d2309f348756da141" name="aea0d85de810ab79d2309f348756da141"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>get_site_dpos</b> ()</td></tr>
<tr class="memdesc:aea0d85de810ab79d2309f348756da141"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the list of users with the Privacy Officer role. <br /></td></tr>
<tr class="separator:aea0d85de810ab79d2309f348756da141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c444e2b7ac3701b34f224a17145580f" id="r_a3c444e2b7ac3701b34f224a17145580f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c444e2b7ac3701b34f224a17145580f">has_ongoing_request</a> ($userid, $<a class="el" href="../../dd/d59/interfacecore__privacy_1_1local_1_1metadata_1_1types_1_1type.html">type</a>)</td></tr>
<tr class="memdesc:a3c444e2b7ac3701b34f224a17145580f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether there is already an existing pending/in-progress data request for a user for a given request type.  <br /></td></tr>
<tr class="separator:a3c444e2b7ac3701b34f224a17145580f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f7653ff2734ff359a48bd7f42c82fc" id="r_ad2f7653ff2734ff359a48bd7f42c82fc"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2f7653ff2734ff359a48bd7f42c82fc">is_active</a> ($status)</td></tr>
<tr class="memdesc:ad2f7653ff2734ff359a48bd7f42c82fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a request is active or not based on its status.  <br /></td></tr>
<tr class="separator:ad2f7653ff2734ff359a48bd7f42c82fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a3e67ae3611e976ad3b37be7dd8002" id="r_a50a3e67ae3611e976ad3b37be7dd8002"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50a3e67ae3611e976ad3b37be7dd8002">is_automatic_request_approval_on</a> (int $<a class="el" href="../../dd/d59/interfacecore__privacy_1_1local_1_1metadata_1_1types_1_1type.html">type</a>)</td></tr>
<tr class="memdesc:a50a3e67ae3611e976ad3b37be7dd8002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether automatic data request approval is turned on or not for the given request type.  <br /></td></tr>
<tr class="separator:a50a3e67ae3611e976ad3b37be7dd8002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4651456d0896e6a07d817dbd1aaf35c" id="r_ab4651456d0896e6a07d817dbd1aaf35c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4651456d0896e6a07d817dbd1aaf35c">is_site_dpo</a> ($userid)</td></tr>
<tr class="memdesc:ab4651456d0896e6a07d817dbd1aaf35c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a given user is a site Privacy Officer.  <br /></td></tr>
<tr class="separator:ab4651456d0896e6a07d817dbd1aaf35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ef211c07b027a4e2ce8fd2978fc90d" id="r_a06ef211c07b027a4e2ce8fd2978fc90d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06ef211c07b027a4e2ce8fd2978fc90d">notify_dpo</a> ($dpo, <a class="el" href="../../de/dd1/classtool__dataprivacy_1_1data__request.html">data_request</a> $request)</td></tr>
<tr class="memdesc:a06ef211c07b027a4e2ce8fd2978fc90d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to the site's Data Protection Officer about a request.  <br /></td></tr>
<tr class="separator:a06ef211c07b027a4e2ce8fd2978fc90d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8369cf88e978630d1babaa9d8e69baff" id="r_a8369cf88e978630d1babaa9d8e69baff"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8369cf88e978630d1babaa9d8e69baff">queue_data_request_task</a> (int $requestid, int $userid=null)</td></tr>
<tr class="memdesc:a8369cf88e978630d1babaa9d8e69baff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an ad-hoc task for the data request.  <br /></td></tr>
<tr class="separator:a8369cf88e978630d1babaa9d8e69baff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89cf781a0c07cee17a1113729a52f1be" id="r_a89cf781a0c07cee17a1113729a52f1be"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89cf781a0c07cee17a1113729a52f1be">require_can_create_data_request_for_user</a> ($user, $requester=null)</td></tr>
<tr class="memdesc:a89cf781a0c07cee17a1113729a52f1be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Require that the current user can make a data request for the specified other user.  <br /></td></tr>
<tr class="separator:a89cf781a0c07cee17a1113729a52f1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa391b974366343016b17cc30d12a3a7a" id="r_aa391b974366343016b17cc30d12a3a7a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa391b974366343016b17cc30d12a3a7a">set_context_defaults</a> ($<a class="el" href="../../d4/de3/classtool__dataprivacy_1_1contextlevel.html">contextlevel</a>, $categoryid, $purposeid, $activity=null, $override=false)</td></tr>
<tr class="memdesc:aa391b974366343016b17cc30d12a3a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the default category and purpose for a given context level (and optionally, a plugin).  <br /></td></tr>
<tr class="separator:aa391b974366343016b17cc30d12a3a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f434970f4fdc711f8163d5fc04cad2d" id="r_a3f434970f4fdc711f8163d5fc04cad2d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f434970f4fdc711f8163d5fc04cad2d">set_context_instance</a> ($record)</td></tr>
<tr class="memdesc:a3f434970f4fdc711f8163d5fc04cad2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the context instance purpose and category.  <br /></td></tr>
<tr class="separator:a3f434970f4fdc711f8163d5fc04cad2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f06dd31628ed2ea7d3d6665ae721f3c" id="r_a8f06dd31628ed2ea7d3d6665ae721f3c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f06dd31628ed2ea7d3d6665ae721f3c">set_contextlevel</a> ($record)</td></tr>
<tr class="memdesc:a8f06dd31628ed2ea7d3d6665ae721f3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the context level purpose and category.  <br /></td></tr>
<tr class="separator:a8f06dd31628ed2ea7d3d6665ae721f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc444452497136a095b246c325e785b4" id="r_acc444452497136a095b246c325e785b4"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc444452497136a095b246c325e785b4">set_expired_context_status</a> (<a class="el" href="../../db/d9d/classtool__dataprivacy_1_1expired__context.html">expired_context</a> $expiredctx, $status)</td></tr>
<tr class="memdesc:acc444452497136a095b246c325e785b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the status of an expired context.  <br /></td></tr>
<tr class="separator:acc444452497136a095b246c325e785b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cdf82bd9f6360003d5217ae7227cce6" id="r_a0cdf82bd9f6360003d5217ae7227cce6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cdf82bd9f6360003d5217ae7227cce6">unset_context_instance</a> (<a class="el" href="../../d9/d10/classtool__dataprivacy_1_1context__instance.html">context_instance</a> $instance)</td></tr>
<tr class="memdesc:a0cdf82bd9f6360003d5217ae7227cce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsets the context instance record.  <br /></td></tr>
<tr class="separator:a0cdf82bd9f6360003d5217ae7227cce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac583eb37d01fa6ff846ccf22d7bb90b6" id="r_ac583eb37d01fa6ff846ccf22d7bb90b6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac583eb37d01fa6ff846ccf22d7bb90b6">update_category</a> (stdClass $record)</td></tr>
<tr class="memdesc:ac583eb37d01fa6ff846ccf22d7bb90b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates an existing data category.  <br /></td></tr>
<tr class="separator:ac583eb37d01fa6ff846ccf22d7bb90b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a06b64ddc32b90a9cbf2fd6328d0955" id="r_a5a06b64ddc32b90a9cbf2fd6328d0955"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a06b64ddc32b90a9cbf2fd6328d0955">update_purpose</a> (stdClass $record)</td></tr>
<tr class="memdesc:a5a06b64ddc32b90a9cbf2fd6328d0955"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates an existing data purpose.  <br /></td></tr>
<tr class="separator:a5a06b64ddc32b90a9cbf2fd6328d0955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a4b13343f53c5408487771a002a5e60" id="r_a4a4b13343f53c5408487771a002a5e60"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a4b13343f53c5408487771a002a5e60">update_request_contexts_with_status</a> (int $requestid, int $status)</td></tr>
<tr class="memdesc:a4a4b13343f53c5408487771a002a5e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the status of all contexts associated with the request.  <br /></td></tr>
<tr class="separator:a4a4b13343f53c5408487771a002a5e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97069f6384aba842bb616d2cab57511f" id="r_a97069f6384aba842bb616d2cab57511f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97069f6384aba842bb616d2cab57511f">update_request_status</a> ($requestid, $status, $dpoid=0, $<a class="el" href="../../da/d73/classcomment.html">comment</a>='')</td></tr>
<tr class="memdesc:a97069f6384aba842bb616d2cab57511f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the data request for a given request ID.  <br /></td></tr>
<tr class="separator:a97069f6384aba842bb616d2cab57511f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a10ab4f26afcc14dc70d0c9afec403367" id="r_a10ab4f26afcc14dc70d0c9afec403367"><td class="memItemLeft" align="right" valign="top"><a id="a10ab4f26afcc14dc70d0c9afec403367" name="a10ab4f26afcc14dc70d0c9afec403367"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_ACTION_APPROVE</b> = 1</td></tr>
<tr class="memdesc:a10ab4f26afcc14dc70d0c9afec403367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Approve data request. <br /></td></tr>
<tr class="separator:a10ab4f26afcc14dc70d0c9afec403367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb139e4aa1e50cebed4dde3888e08471" id="r_abb139e4aa1e50cebed4dde3888e08471"><td class="memItemLeft" align="right" valign="top"><a id="abb139e4aa1e50cebed4dde3888e08471" name="abb139e4aa1e50cebed4dde3888e08471"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_ACTION_REJECT</b> = 2</td></tr>
<tr class="memdesc:abb139e4aa1e50cebed4dde3888e08471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reject data request. <br /></td></tr>
<tr class="separator:abb139e4aa1e50cebed4dde3888e08471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf268377d8b6cf8c68d9d251123b8ff1" id="r_abf268377d8b6cf8c68d9d251123b8ff1"><td class="memItemLeft" align="right" valign="top"><a id="abf268377d8b6cf8c68d9d251123b8ff1" name="abf268377d8b6cf8c68d9d251123b8ff1"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_APPROVED</b> = 3</td></tr>
<tr class="memdesc:abf268377d8b6cf8c68d9d251123b8ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request approved and will be processed soon. <br /></td></tr>
<tr class="separator:abf268377d8b6cf8c68d9d251123b8ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b16ec1b86d9c1ad9999329f8420f46" id="r_a91b16ec1b86d9c1ad9999329f8420f46"><td class="memItemLeft" align="right" valign="top"><a id="a91b16ec1b86d9c1ad9999329f8420f46" name="a91b16ec1b86d9c1ad9999329f8420f46"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_AWAITING_APPROVAL</b> = 2</td></tr>
<tr class="memdesc:a91b16ec1b86d9c1ad9999329f8420f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metadata ready and awaiting review and approval by the Data Protection officer. <br /></td></tr>
<tr class="separator:a91b16ec1b86d9c1ad9999329f8420f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84d99dc65d5eadcc53064032d44feba" id="r_ac84d99dc65d5eadcc53064032d44feba"><td class="memItemLeft" align="right" valign="top"><a id="ac84d99dc65d5eadcc53064032d44feba" name="ac84d99dc65d5eadcc53064032d44feba"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_CANCELLED</b> = 6</td></tr>
<tr class="memdesc:ac84d99dc65d5eadcc53064032d44feba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data request cancelled by the user. <br /></td></tr>
<tr class="separator:ac84d99dc65d5eadcc53064032d44feba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3361bbb025d3b19bede937b823c46d0" id="r_ae3361bbb025d3b19bede937b823c46d0"><td class="memItemLeft" align="right" valign="top"><a id="ae3361bbb025d3b19bede937b823c46d0" name="ae3361bbb025d3b19bede937b823c46d0"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_COMPLETE</b> = 5</td></tr>
<tr class="memdesc:ae3361bbb025d3b19bede937b823c46d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information/other request completed. <br /></td></tr>
<tr class="separator:ae3361bbb025d3b19bede937b823c46d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2700101ada63a06973950d1549d4e3d3" id="r_a2700101ada63a06973950d1549d4e3d3"><td class="memItemLeft" align="right" valign="top"><a id="a2700101ada63a06973950d1549d4e3d3" name="a2700101ada63a06973950d1549d4e3d3"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_DELETED</b> = 10</td></tr>
<tr class="memdesc:a2700101ada63a06973950d1549d4e3d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data delete request completed, account is removed. <br /></td></tr>
<tr class="separator:a2700101ada63a06973950d1549d4e3d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6892dcf5a809f77b663e6c94820e6534" id="r_a6892dcf5a809f77b663e6c94820e6534"><td class="memItemLeft" align="right" valign="top"><a id="a6892dcf5a809f77b663e6c94820e6534" name="a6892dcf5a809f77b663e6c94820e6534"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_DOWNLOAD_READY</b> = 8</td></tr>
<tr class="memdesc:a6892dcf5a809f77b663e6c94820e6534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data request download ready. <br /></td></tr>
<tr class="separator:a6892dcf5a809f77b663e6c94820e6534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82db7432d607aeafe82d30bebba11a0" id="r_aa82db7432d607aeafe82d30bebba11a0"><td class="memItemLeft" align="right" valign="top"><a id="aa82db7432d607aeafe82d30bebba11a0" name="aa82db7432d607aeafe82d30bebba11a0"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_EXPIRED</b> = 9</td></tr>
<tr class="memdesc:aa82db7432d607aeafe82d30bebba11a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data request expired. <br /></td></tr>
<tr class="separator:aa82db7432d607aeafe82d30bebba11a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affefa45e697ffc00fa480864cc9f9673" id="r_affefa45e697ffc00fa480864cc9f9673"><td class="memItemLeft" align="right" valign="top"><a id="affefa45e697ffc00fa480864cc9f9673" name="affefa45e697ffc00fa480864cc9f9673"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_PENDING</b> = 0</td></tr>
<tr class="memdesc:affefa45e697ffc00fa480864cc9f9673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Newly submitted and we haven't yet started finding out where they have data. <br /></td></tr>
<tr class="separator:affefa45e697ffc00fa480864cc9f9673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0244bb5eacfe7ac607bbe4c4f966f10" id="r_aa0244bb5eacfe7ac607bbe4c4f966f10"><td class="memItemLeft" align="right" valign="top"><a id="aa0244bb5eacfe7ac607bbe4c4f966f10" name="aa0244bb5eacfe7ac607bbe4c4f966f10"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_PREPROCESSING</b> = 1</td></tr>
<tr class="memdesc:aa0244bb5eacfe7ac607bbe4c4f966f10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Newly submitted and we have started to find the location of data. <br /></td></tr>
<tr class="separator:aa0244bb5eacfe7ac607bbe4c4f966f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65309520b4e9d6172ecf83b633f19c3a" id="r_a65309520b4e9d6172ecf83b633f19c3a"><td class="memItemLeft" align="right" valign="top"><a id="a65309520b4e9d6172ecf83b633f19c3a" name="a65309520b4e9d6172ecf83b633f19c3a"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_PROCESSING</b> = 4</td></tr>
<tr class="memdesc:a65309520b4e9d6172ecf83b633f19c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The request is now being processed. <br /></td></tr>
<tr class="separator:a65309520b4e9d6172ecf83b633f19c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee46a1c6791e7053dd3aea7aab5ad16" id="r_aaee46a1c6791e7053dd3aea7aab5ad16"><td class="memItemLeft" align="right" valign="top"><a id="aaee46a1c6791e7053dd3aea7aab5ad16" name="aaee46a1c6791e7053dd3aea7aab5ad16"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_STATUS_REJECTED</b> = 7</td></tr>
<tr class="memdesc:aaee46a1c6791e7053dd3aea7aab5ad16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data request rejected by the DPO. <br /></td></tr>
<tr class="separator:aaee46a1c6791e7053dd3aea7aab5ad16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e04dc64d3b469860dd8c09717058a1" id="r_aa0e04dc64d3b469860dd8c09717058a1"><td class="memItemLeft" align="right" valign="top"><a id="aa0e04dc64d3b469860dd8c09717058a1" name="aa0e04dc64d3b469860dd8c09717058a1"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_TYPE_DELETE</b> = 2</td></tr>
<tr class="memdesc:aa0e04dc64d3b469860dd8c09717058a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data deletion request type. <br /></td></tr>
<tr class="separator:aa0e04dc64d3b469860dd8c09717058a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55e0891d3422f6914c5c18d8a7e5b8c" id="r_ac55e0891d3422f6914c5c18d8a7e5b8c"><td class="memItemLeft" align="right" valign="top"><a id="ac55e0891d3422f6914c5c18d8a7e5b8c" name="ac55e0891d3422f6914c5c18d8a7e5b8c"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DATAREQUEST_TYPE_EXPORT</b> = 1</td></tr>
<tr class="memdesc:ac55e0891d3422f6914c5c18d8a7e5b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data export request type. <br /></td></tr>
<tr class="separator:ac55e0891d3422f6914c5c18d8a7e5b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a2e74fbd16022326d7051783b0cdb3" id="r_a12a2e74fbd16022326d7051783b0cdb3"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12a2e74fbd16022326d7051783b0cdb3">DATAREQUEST_TYPE_OTHERS</a> = 3</td></tr>
<tr class="memdesc:a12a2e74fbd16022326d7051783b0cdb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Other request type.  <br /></td></tr>
<tr class="separator:a12a2e74fbd16022326d7051783b0cdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class containing helper methods for processing data requests. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2018 Jun Pataleta </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aef81e3eda68e2af79a8c30ed9fd81246" name="aef81e3eda68e2af79a8c30ed9fd81246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef81e3eda68e2af79a8c30ed9fd81246">&#9670;&#160;</a></span>add_request_contexts_with_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::add_request_contexts_with_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dfc/classcore__privacy_1_1local_1_1request_1_1contextlist__collection.html">contextlist_collection</a></td>          <td class="paramname"><span class="paramname"><em>$clcollection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$status</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the contexts from the contextlist_collection to the request with the status provided. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">contextlist_collection</td><td class="paramname">$clcollection</td><td>a collection of contextlists for all components. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>the id of the request. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$status</td><td>the status to set the contexts to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0657e47bdddaa9f430caf850607baac2" name="a0657e47bdddaa9f430caf850607baac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0657e47bdddaa9f430caf850607baac2">&#9670;&#160;</a></span>approve_contexts_belonging_to_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::approve_contexts_belonging_to_request </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$coursecontextids</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only approve the contexts which are children of the provided course contexts. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>Request identifier </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$coursecontextids</td><td>List of course context identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d2/d42/classdml__transaction__exception.html" title="DML transaction exception - triggered by problems related to DB transactions.">dml_transaction_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abe069360aabe6e0b13724158e30fb6ad" name="abe069360aabe6e0b13724158e30fb6ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe069360aabe6e0b13724158e30fb6ad">&#9670;&#160;</a></span>approve_data_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::approve_data_request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filtercoursecontexts</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Approves a data request based on the request ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>The request identifier </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$filtercoursecontexts</td><td>Apply to export request, only approve contexts belong to these courses. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
    <tr><td class="paramname">invalid_persistent_exception</td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d2/d15/classrequired__capability__exception.html" title="Exceptions indicating user does not have permissions to do something and the execution can not contin...">required_capability_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aefe7e373b652e30498c17eec4abde18c" name="aefe7e373b652e30498c17eec4abde18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefe7e373b652e30498c17eec4abde18c">&#9670;&#160;</a></span>can_contact_dpo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::can_contact_dpo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines whether the user can contact the site's Data Protection Officer via <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>True when tool_dataprivacy|contactdataprotectionofficer is enabled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a478c881ee8cc225b4be0ae9f18f2b24f" name="a478c881ee8cc225b4be0ae9f18f2b24f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a478c881ee8cc225b4be0ae9f18f2b24f">&#9670;&#160;</a></span>can_create_data_deletion_request_for_children()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::can_create_data_deletion_request_for_children </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$requesterid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if parent can create data deletion request for their children. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>ID of a user being requested. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$requesterid</td><td>ID of a user making request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a72bcf0014eaa28d40a5c6a6efa0ed038" name="a72bcf0014eaa28d40a5c6a6efa0ed038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72bcf0014eaa28d40a5c6a6efa0ed038">&#9670;&#160;</a></span>can_create_data_deletion_request_for_other()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::can_create_data_deletion_request_for_other </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if user has permission to create data deletion request for another user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$userid</td><td>ID of the user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c10050bb911ef9c761c3c181055f2f6" name="a0c10050bb911ef9c761c3c181055f2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c10050bb911ef9c761c3c181055f2f6">&#9670;&#160;</a></span>can_create_data_deletion_request_for_self()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::can_create_data_deletion_request_for_self </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if user has permisson to create data deletion request for themselves. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$userid</td><td>ID of the user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad8d8b373eacf534d37fc66c24b6ebf93" name="ad8d8b373eacf534d37fc66c24b6ebf93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d8b373eacf534d37fc66c24b6ebf93">&#9670;&#160;</a></span>can_create_data_download_request_for_self()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::can_create_data_download_request_for_self </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if user has permission to create data download request for themselves. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3bd86c05844ba7590d9f482b84ba7481" name="a3bd86c05844ba7590d9f482b84ba7481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd86c05844ba7590d9f482b84ba7481">&#9670;&#160;</a></span>can_create_data_request_for_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::can_create_data_request_for_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requester</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether a non-DPO user can make a data request for another user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user</td><td>The user ID of the target user. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requester</td><td>The user ID of the user making the request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd5340454a58c8061dc38c7cd9e90905" name="acd5340454a58c8061dc38c7cd9e90905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd5340454a58c8061dc38c7cd9e90905">&#9670;&#160;</a></span>can_download_data_request_for_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::can_download_data_request_for_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requesterid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$downloaderid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether a user can download a data request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>Target user id (subject of data request) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requesterid</td><td>Requester user id (person who requsted it) </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$downloaderid</td><td>Person who wants to download user id (default current) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6bcab050be8494547b826b162574c11" name="af6bcab050be8494547b826b162574c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6bcab050be8494547b826b162574c11">&#9670;&#160;</a></span>can_manage_data_requests()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::can_manage_data_requests </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether the current user has the capability to manage data requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a29c4b94585a855669ef6ecccaa8b8498" name="a29c4b94585a855669ef6ecccaa8b8498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c4b94585a855669ef6ecccaa8b8498">&#9670;&#160;</a></span>check_can_manage_data_registry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::check_can_manage_data_registry </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the current user can manage the data registry at the provided id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>Fallback to system context id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d2/d15/classrequired__capability__exception.html" title="Exceptions indicating user does not have permissions to do something and the execution can not contin...">required_capability_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abbe15f5a79f2c1e9f8ec68f85f4a7d0c" name="abbe15f5a79f2c1e9f8ec68f85f4a7d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe15f5a79f2c1e9f8ec68f85f4a7d0c">&#9670;&#160;</a></span>create_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::create_category </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$record</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new data category. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">tool_dataprivacy\category.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e61811b0f4a7648db3a990f71ddd2ff" name="a5e61811b0f4a7648db3a990f71ddd2ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e61811b0f4a7648db3a990f71ddd2ff">&#9670;&#160;</a></span>create_data_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::create_data_request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$foruser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$comments</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$creationmethod</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../de/dd1/classtool__dataprivacy_1_1data__request.html#abde6e1e68c7e9d02c845ca9f535c828a">data_request::DATAREQUEST_CREATION_MANUAL</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$notify</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lodges a data request and sends the request details to the site Data Protection Officer(s). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$foruser</td><td>The user whom the request is being made for. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>The request type. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$comments</td><td>Request comments. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$creationmethod</td><td>The creation method of the data request. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$notify</td><td>Notify DPOs of this pending request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">data_request</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">invalid_persistent_exception</td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6001c31387a866fdc62392bf1f851e65" name="a6001c31387a866fdc62392bf1f851e65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6001c31387a866fdc62392bf1f851e65">&#9670;&#160;</a></span>create_expired_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::create_expired_context </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an expired context record for the provided context id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../db/d9d/classtool__dataprivacy_1_1expired__context.html" title="Class that represents an expired context.">tool_dataprivacy\expired_context</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc2082a135b802b4fb0477c382c09e71" name="acc2082a135b802b4fb0477c382c09e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc2082a135b802b4fb0477c382c09e71">&#9670;&#160;</a></span>create_purpose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::create_purpose </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$record</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new data purpose. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">tool_dataprivacy\purpose.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0bfdffd1d22299c1f752d63dd9919dca" name="a0bfdffd1d22299c1f752d63dd9919dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bfdffd1d22299c1f752d63dd9919dca">&#9670;&#160;</a></span>delete_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::delete_category </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a data category. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a660b463ba7eea20520720c2a4f32415f" name="a660b463ba7eea20520720c2a4f32415f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a660b463ba7eea20520720c2a4f32415f">&#9670;&#160;</a></span>delete_expired_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::delete_expired_context </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes an expired context record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>The tool_dataprivacy_ctxexpire id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True on success. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa5ab58459b20a60120455a7293d377e4" name="aa5ab58459b20a60120455a7293d377e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ab58459b20a60120455a7293d377e4">&#9670;&#160;</a></span>delete_purpose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::delete_purpose </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a data purpose. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a54a425cb7ddfc999cb67bcafbaffe258" name="a54a425cb7ddfc999cb67bcafbaffe258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a425cb7ddfc999cb67bcafbaffe258">&#9670;&#160;</a></span>deny_data_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::deny_data_request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rejects a data request based on the request ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>The request identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
    <tr><td class="paramname">invalid_persistent_exception</td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d2/d15/classrequired__capability__exception.html" title="Exceptions indicating user does not have permissions to do something and the execution can not contin...">required_capability_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9004d9c722f7d47a6f95965cd7f93988" name="a9004d9c722f7d47a6f95965cd7f93988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9004d9c722f7d47a6f95965cd7f93988">&#9670;&#160;</a></span>find_ongoing_request_types_for_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::find_ongoing_request_types_for_users </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$userids</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find whether any ongoing requests exist for a set of users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ae6192141eb2d644c377d0cabe5cdf5" name="a8ae6192141eb2d644c377d0cabe5cdf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae6192141eb2d644c377d0cabe5cdf5">&#9670;&#160;</a></span>format_retention_period()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::format_retention_period </td>
          <td>(</td>
          <td class="paramtype">\DateInterval</td>          <td class="paramname"><span class="paramname"><em>$interval</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Format the supplied date interval as a retention period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">DateInterval</td><td class="paramname">$interval</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61998f7d234d9219058f6e1a9a21265d" name="a61998f7d234d9219058f6e1a9a21265d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61998f7d234d9219058f6e1a9a21265d">&#9670;&#160;</a></span>get_approved_contextlist_collection_for_collection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_approved_contextlist_collection_for_collection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dfc/classcore__privacy_1_1local_1_1request_1_1contextlist__collection.html">contextlist_collection</a></td>          <td class="paramname"><span class="paramname"><em>$collection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$foruser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$type</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds all contextlists having at least one approved context, and returns them as in a contextlist_collection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">contextlist_collection</td><td class="paramname">$collection</td><td>The collection of unapproved contextlist objects. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$foruser</td><td>The target user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>The purpose of the collection </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">contextlist_collection</td><td>The collection of approved_contextlist objects. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adc79862dbd766038ebea079caf209c09" name="adc79862dbd766038ebea079caf209c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc79862dbd766038ebea079caf209c09">&#9670;&#160;</a></span>get_approved_contextlist_collection_for_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_approved_contextlist_collection_for_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dd1/classtool__dataprivacy_1_1data__request.html">data_request</a></td>          <td class="paramname"><span class="paramname"><em>$request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds all request contextlists having at least on approved context, and returns them as in a contextlist_collection. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">data_request</td><td class="paramname">$request</td><td>the data request with which the contextlists are associated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">contextlist_collection</td><td>the collection of approved_contextlist objects. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a360d89d801560355969f20572b796780" name="a360d89d801560355969f20572b796780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360d89d801560355969f20572b796780">&#9670;&#160;</a></span>get_assigned_privacy_officer_roles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_assigned_privacy_officer_roles </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the list of configured privacy officer roles. </p>
<p>Every time this function is called, it checks each role if they have the 'managedatarequests' capability and removes any role that doesn't have the required capability anymore.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int[]</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f9338fc40f85380a5e294f279a17a4c" name="a2f9338fc40f85380a5e294f279a17a4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9338fc40f85380a5e294f279a17a4c">&#9670;&#160;</a></span>get_categories()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_categories </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all system data categories. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">tool_dataprivacy\category[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a807e3156e494b002bfb11a5d49f1b520" name="a807e3156e494b002bfb11a5d49f1b520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807e3156e494b002bfb11a5d49f1b520">&#9670;&#160;</a></span>get_course_contexts_for_view_filter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_course_contexts_for_view_filter </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get list of course context for user to filter. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>Request identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b6299e1fef9b549d0edc5e5baad0f3b" name="a5b6299e1fef9b549d0edc5e5baad0f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b6299e1fef9b549d0edc5e5baad0f3b">&#9670;&#160;</a></span>get_data_requests()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_data_requests </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$statuses</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$types</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$creationmethods</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sort</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$offset</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the list of the data requests. </p>
<p>If user ID is provided, it fetches the data requests for the user. Otherwise, it fetches all of the data requests, provided that the user has the capability to manage data requests. (e.g. Users with the Data Protection Officer roles)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The User ID. </td></tr>
    <tr><td class="paramtype">int[]</td><td class="paramname">$statuses</td><td>The status filters. </td></tr>
    <tr><td class="paramtype">int[]</td><td class="paramname">$types</td><td>The request type filters. </td></tr>
    <tr><td class="paramtype">int[]</td><td class="paramname">$creationmethods</td><td>The request creation method filters. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>The order by clause. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$offset</td><td>Amount of records to skip. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>Amount of records to fetch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">data_request[]</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2103094f48fb19feb3e76929878b25bf" name="a2103094f48fb19feb3e76929878b25bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2103094f48fb19feb3e76929878b25bf">&#9670;&#160;</a></span>get_data_requests_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_data_requests_count </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$statuses</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$types</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$creationmethods</em></span><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the count of data request records based on the given parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The User ID. </td></tr>
    <tr><td class="paramtype">int[]</td><td class="paramname">$statuses</td><td>The status filters. </td></tr>
    <tr><td class="paramtype">int[]</td><td class="paramname">$types</td><td>The request type filters. </td></tr>
    <tr><td class="paramtype">int[]</td><td class="paramname">$creationmethods</td><td>The request creation method filters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a20f88f41069673759693f633c14f0597" name="a20f88f41069673759693f633c14f0597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f88f41069673759693f633c14f0597">&#9670;&#160;</a></span>get_download_link()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_download_link </td>
          <td>(</td>
          <td class="paramtype">\context_user</td>          <td class="paramname"><span class="paramname"><em>$usercontext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets an action menu link to download a data request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context_user</td><td class="paramname">$usercontext</td><td>User context (of user who the data is for) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>Request id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/de2/classaction__menu__link__secondary.html" title="A secondary action menu action.">action_menu_link_secondary</a></td><td>Action menu link </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c25372e4b684e75d18ce83cb55ec142" name="a8c25372e4b684e75d18ce83cb55ec142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c25372e4b684e75d18ce83cb55ec142">&#9670;&#160;</a></span>get_dpo_role_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_dpo_role_names </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the role shortnames of Data Protection Officer roles. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of the DPO role shortnames </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace470947d3be5509f1417ddfcb2da966" name="ace470947d3be5509f1417ddfcb2da966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace470947d3be5509f1417ddfcb2da966">&#9670;&#160;</a></span>get_effective_context_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_effective_context_category </td>
          <td>(</td>
          <td class="paramtype">\context</td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forcedvalue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the effective category given a context instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$forcedvalue</td><td>Use this categoryid value as if this was this context instance category. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">category|false</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4eabcab6476442085fc79abbfdb2a933" name="a4eabcab6476442085fc79abbfdb2a933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eabcab6476442085fc79abbfdb2a933">&#9670;&#160;</a></span>get_effective_context_purpose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_effective_context_purpose </td>
          <td>(</td>
          <td class="paramtype">\context</td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forcedvalue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the effective purpose given a context instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$forcedvalue</td><td>Use this purposeid value as if this was this context instance purpose. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">purpose|false</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4d4e392659e0e18048088c0cb6fc796" name="ab4d4e392659e0e18048088c0cb6fc796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d4e392659e0e18048088c0cb6fc796">&#9670;&#160;</a></span>get_effective_contextlevel_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_effective_contextlevel_category </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextlevel</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the effective category given a context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">category|false</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51730c0ce0fdfc1db0589bd83f7190b7" name="a51730c0ce0fdfc1db0589bd83f7190b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51730c0ce0fdfc1db0589bd83f7190b7">&#9670;&#160;</a></span>get_effective_contextlevel_purpose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_effective_contextlevel_purpose </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextlevel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$forcedvalue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the effective purpose given a context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$forcedvalue</td><td>Use this purposeid value as if this was this context level purpose. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">purpose|false</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a813cb8c0c3538db04435de76f97245f3" name="a813cb8c0c3538db04435de76f97245f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813cb8c0c3538db04435de76f97245f3">&#9670;&#160;</a></span>get_purposes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_purposes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all system data purposes. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">tool_dataprivacy\purpose[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6704a507754cdac391f9078b94c4144" name="ad6704a507754cdac391f9078b94c4144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6704a507754cdac391f9078b94c4144">&#9670;&#160;</a></span>get_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::get_request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches a request based on the request ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>The request identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">data_request</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c444e2b7ac3701b34f224a17145580f" name="a3c444e2b7ac3701b34f224a17145580f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c444e2b7ac3701b34f224a17145580f">&#9670;&#160;</a></span>has_ongoing_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::has_ongoing_request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether there is already an existing pending/in-progress data request for a user for a given request type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>The request type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2f7653ff2734ff359a48bd7f42c82fc" name="ad2f7653ff2734ff359a48bd7f42c82fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f7653ff2734ff359a48bd7f42c82fc">&#9670;&#160;</a></span>is_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::is_active </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$status</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines whether a request is active or not based on its status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$status</td><td>The request status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a50a3e67ae3611e976ad3b37be7dd8002" name="a50a3e67ae3611e976ad3b37be7dd8002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a3e67ae3611e976ad3b37be7dd8002">&#9670;&#160;</a></span>is_automatic_request_approval_on()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::is_automatic_request_approval_on </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether automatic data request approval is turned on or not for the given request type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>The request type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4651456d0896e6a07d817dbd1aaf35c" name="ab4651456d0896e6a07d817dbd1aaf35c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4651456d0896e6a07d817dbd1aaf35c">&#9670;&#160;</a></span>is_site_dpo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::is_site_dpo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether a given user is a site Privacy Officer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a06ef211c07b027a4e2ce8fd2978fc90d" name="a06ef211c07b027a4e2ce8fd2978fc90d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ef211c07b027a4e2ce8fd2978fc90d">&#9670;&#160;</a></span>notify_dpo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::notify_dpo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dpo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dd1/classtool__dataprivacy_1_1data__request.html">data_request</a></td>          <td class="paramname"><span class="paramname"><em>$request</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a message to the site's Data Protection Officer about a request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$dpo</td><td>The DPO user record </td></tr>
    <tr><td class="paramtype">data_request</td><td class="paramname">$request</td><td>The data request </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|false</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8369cf88e978630d1babaa9d8e69baff" name="a8369cf88e978630d1babaa9d8e69baff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8369cf88e978630d1babaa9d8e69baff">&#9670;&#160;</a></span>queue_data_request_task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::queue_data_request_task </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$userid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an ad-hoc task for the data request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>The data request ID. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>Optional. The user ID to run the task as, if necessary. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89cf781a0c07cee17a1113729a52f1be" name="a89cf781a0c07cee17a1113729a52f1be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89cf781a0c07cee17a1113729a52f1be">&#9670;&#160;</a></span>require_can_create_data_request_for_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::require_can_create_data_request_for_user </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requester</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Require that the current user can make a data request for the specified other user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user</td><td>The user ID of the target user. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requester</td><td>The user ID of the user making the request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa391b974366343016b17cc30d12a3a7a" name="aa391b974366343016b17cc30d12a3a7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa391b974366343016b17cc30d12a3a7a">&#9670;&#160;</a></span>set_context_defaults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::set_context_defaults </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contextlevel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$categoryid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$purposeid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$activity</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$override</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the default category and purpose for a given context level (and optionally, a plugin). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td>The context level. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$categoryid</td><td>The ID matching the category. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$purposeid</td><td>The ID matching the purpose record. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$activity</td><td>The name of the activity that we're making a defaults configuration for. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$override</td><td>Whether to override the purpose/categories of existing instances to these defaults. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>True if set/unset config succeeds. Otherwise, it throws an exception. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f434970f4fdc711f8163d5fc04cad2d" name="a3f434970f4fdc711f8163d5fc04cad2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f434970f4fdc711f8163d5fc04cad2d">&#9670;&#160;</a></span>set_context_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::set_context_instance </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$record</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the context instance purpose and category. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d9/d10/classtool__dataprivacy_1_1context__instance.html" title="Class for loading/storing context instances data from the DB.">tool_dataprivacy\context_instance</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8f06dd31628ed2ea7d3d6665ae721f3c" name="a8f06dd31628ed2ea7d3d6665ae721f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f06dd31628ed2ea7d3d6665ae721f3c">&#9670;&#160;</a></span>set_contextlevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::set_contextlevel </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$record</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the context level purpose and category. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">contextlevel</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc444452497136a095b246c325e785b4" name="acc444452497136a095b246c325e785b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc444452497136a095b246c325e785b4">&#9670;&#160;</a></span>set_expired_context_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::set_expired_context_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d9d/classtool__dataprivacy_1_1expired__context.html">expired_context</a></td>          <td class="paramname"><span class="paramname"><em>$expiredctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$status</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the status of an expired context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../db/d9d/classtool__dataprivacy_1_1expired__context.html" title="Class that represents an expired context.">tool_dataprivacy\expired_context</a></td><td class="paramname">$expiredctx</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$status</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0cdf82bd9f6360003d5217ae7227cce6" name="a0cdf82bd9f6360003d5217ae7227cce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cdf82bd9f6360003d5217ae7227cce6">&#9670;&#160;</a></span>unset_context_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::unset_context_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d10/classtool__dataprivacy_1_1context__instance.html">context_instance</a></td>          <td class="paramname"><span class="paramname"><em>$instance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unsets the context instance record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d9/d10/classtool__dataprivacy_1_1context__instance.html" title="Class for loading/storing context instances data from the DB.">tool_dataprivacy\context_instance</a></td><td class="paramname">$instance</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac583eb37d01fa6ff846ccf22d7bb90b6" name="ac583eb37d01fa6ff846ccf22d7bb90b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac583eb37d01fa6ff846ccf22d7bb90b6">&#9670;&#160;</a></span>update_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::update_category </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$record</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates an existing data category. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">tool_dataprivacy\category.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a06b64ddc32b90a9cbf2fd6328d0955" name="a5a06b64ddc32b90a9cbf2fd6328d0955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a06b64ddc32b90a9cbf2fd6328d0955">&#9670;&#160;</a></span>update_purpose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::update_purpose </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$record</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates an existing data purpose. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">tool_dataprivacy\purpose.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a4b13343f53c5408487771a002a5e60" name="a4a4b13343f53c5408487771a002a5e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a4b13343f53c5408487771a002a5e60">&#9670;&#160;</a></span>update_request_contexts_with_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::update_request_contexts_with_status </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$status</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the status of all contexts associated with the request. </p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 4.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>the requestid to which the contexts belong. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$status</td><td>the status to set to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html" title="DML exception class, use instead of throw new moodle_exception() in dml code.">dml_exception</a></td><td>if the requestid is invalid. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td>if the status is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97069f6384aba842bb616d2cab57511f" name="a97069f6384aba842bb616d2cab57511f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97069f6384aba842bb616d2cab57511f">&#9670;&#160;</a></span>update_request_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static tool_dataprivacy\api::update_request_status </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$requestid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$dpoid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$comment</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancels the data request for a given request ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$requestid</td><td>The request identifier. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$status</td><td>The request status. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$dpoid</td><td>The user ID of the Data Protection Officer </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$comment</td><td>The comment about the status update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">invalid_persistent_exception</td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a12a2e74fbd16022326d7051783b0cdb3" name="a12a2e74fbd16022326d7051783b0cdb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12a2e74fbd16022326d7051783b0cdb3">&#9670;&#160;</a></span>DATAREQUEST_TYPE_OTHERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const tool_dataprivacy\api::DATAREQUEST_TYPE_OTHERS = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Other request type. </p>
<p>Usually of enquiries to the DPO. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>admin/tool/dataprivacy/classes/<b>api.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 26 2024 02:44:06 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
