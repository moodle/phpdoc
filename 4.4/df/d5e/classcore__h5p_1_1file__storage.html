<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_h5p\file_storage Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.4</span>
   </div>
   <div id="projectbrief">Moodle 4.4+ (Build: 20240530) (1291869f907)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d3/d87/namespacecore__h5p.html">core_h5p</a></li><li class="navelem"><a class="el" href="../../df/d5e/classcore__h5p_1_1file__storage.html">file_storage</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d7/def/classcore__h5p_1_1file__storage-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_h5p\file_storage Class Reference<div class="ingroups"><a class="el" href="../../d6/d7d/group__core__h5p.html">core_h5p</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Class to handle storage and export of H5P Content.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for core_h5p\file_storage:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../df/d5e/classcore__h5p_1_1file__storage.png" usemap="#core_5Fh5p_5Cfile_5Fstorage_map" alt=""/>
  <map id="core_5Fh5p_5Cfile_5Fstorage_map" name="core_5Fh5p_5Cfile_5Fstorage_map">
<area href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html" title="Interface needed to handle storage and export of H5P Content." alt="Moodle\H5PFileStorage" shape="rect" coords="0,0,147,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3a7a0974ef5559cc16a09d95fdf9b5ed" id="r_a3a7a0974ef5559cc16a09d95fdf9b5ed"><td class="memItemLeft" align="right" valign="top"><a id="a3a7a0974ef5559cc16a09d95fdf9b5ed" name="a3a7a0974ef5559cc16a09d95fdf9b5ed"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__construct</b> ()</td></tr>
<tr class="memdesc:a3a7a0974ef5559cc16a09d95fdf9b5ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial setup for <a class="el" href="../../d3/ddd/classfile__storage.html" title="File storage class used for low level access to stored files.">file_storage</a>. <br /></td></tr>
<tr class="separator:a3a7a0974ef5559cc16a09d95fdf9b5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309d17913ccc637ab4193da30c6bdf46" id="r_a309d17913ccc637ab4193da30c6bdf46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a309d17913ccc637ab4193da30c6bdf46">cacheAssets</a> (&amp;$files, $key)</td></tr>
<tr class="memdesc:a309d17913ccc637ab4193da30c6bdf46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will concatenate all JavaScrips and Stylesheets into two files in order to improve page performance.  <br /></td></tr>
<tr class="separator:a309d17913ccc637ab4193da30c6bdf46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74e2b6f07d0d7437a14d85c66d231c5" id="r_ac74e2b6f07d0d7437a14d85c66d231c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac74e2b6f07d0d7437a14d85c66d231c5">cloneContent</a> ($id, $newid)</td></tr>
<tr class="memdesc:ac74e2b6f07d0d7437a14d85c66d231c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a stored copy of the content folder.  <br /></td></tr>
<tr class="separator:ac74e2b6f07d0d7437a14d85c66d231c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00beae8da35d8ee9c30cc9211e2cf44" id="r_ab00beae8da35d8ee9c30cc9211e2cf44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab00beae8da35d8ee9c30cc9211e2cf44">cloneContentFile</a> ($file, $fromid, $tocontent)</td></tr>
<tr class="memdesc:ab00beae8da35d8ee9c30cc9211e2cf44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a file from another content or editor tmp dir.  <br /></td></tr>
<tr class="separator:ab00beae8da35d8ee9c30cc9211e2cf44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b748016d660aafe178e66afc1f1e0ff" id="r_a1b748016d660aafe178e66afc1f1e0ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b748016d660aafe178e66afc1f1e0ff">delete_library</a> (array $library)</td></tr>
<tr class="memdesc:a1b748016d660aafe178e66afc1f1e0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a library from the file system.  <br /></td></tr>
<tr class="separator:a1b748016d660aafe178e66afc1f1e0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab335ce4a9b4fd1e6487f9317fa254ac9" id="r_ab335ce4a9b4fd1e6487f9317fa254ac9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab335ce4a9b4fd1e6487f9317fa254ac9">deleteCachedAssets</a> ($keys)</td></tr>
<tr class="memdesc:ab335ce4a9b4fd1e6487f9317fa254ac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the aggregated cache files.  <br /></td></tr>
<tr class="separator:ab335ce4a9b4fd1e6487f9317fa254ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2178bb0ebf0b0d6989ca8452a7d5a5ce" id="r_a2178bb0ebf0b0d6989ca8452a7d5a5ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2178bb0ebf0b0d6989ca8452a7d5a5ce">deleteContent</a> ($content)</td></tr>
<tr class="memdesc:a2178bb0ebf0b0d6989ca8452a7d5a5ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove content folder.  <br /></td></tr>
<tr class="separator:a2178bb0ebf0b0d6989ca8452a7d5a5ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf02919a1198c530aa2ac37d299cc8bb" id="r_adf02919a1198c530aa2ac37d299cc8bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf02919a1198c530aa2ac37d299cc8bb">deleteExport</a> ($filename)</td></tr>
<tr class="memdesc:adf02919a1198c530aa2ac37d299cc8bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes given export file.  <br /></td></tr>
<tr class="separator:adf02919a1198c530aa2ac37d299cc8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac817956ce24701d4e9f1bdee17661a8a" id="r_ac817956ce24701d4e9f1bdee17661a8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac817956ce24701d4e9f1bdee17661a8a">deleteLibrary</a> ($library)</td></tr>
<tr class="memdesc:ac817956ce24701d4e9f1bdee17661a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete library folder.  <br /></td></tr>
<tr class="separator:ac817956ce24701d4e9f1bdee17661a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e3d590d86e1a4763d8109dc0cc1373" id="r_aa8e3d590d86e1a4763d8109dc0cc1373"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8e3d590d86e1a4763d8109dc0cc1373">exportContent</a> ($id, $target)</td></tr>
<tr class="memdesc:aa8e3d590d86e1a4763d8109dc0cc1373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch content folder and save in target directory.  <br /></td></tr>
<tr class="separator:aa8e3d590d86e1a4763d8109dc0cc1373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97b009a1fb66865f21445aea45ad0c27" id="r_a97b009a1fb66865f21445aea45ad0c27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97b009a1fb66865f21445aea45ad0c27">exportLibrary</a> ($library, $target)</td></tr>
<tr class="memdesc:a97b009a1fb66865f21445aea45ad0c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch library folder and save in target directory.  <br /></td></tr>
<tr class="separator:a97b009a1fb66865f21445aea45ad0c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd44b13a80b0afbad08b28462b654a7" id="r_aabd44b13a80b0afbad08b28462b654a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabd44b13a80b0afbad08b28462b654a7">get_export_file</a> (string $filename)</td></tr>
<tr class="memdesc:aabd44b13a80b0afbad08b28462b654a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get files ready for export.  <br /></td></tr>
<tr class="separator:aabd44b13a80b0afbad08b28462b654a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27fbe0af1315b48978a5ecf1e23ce931" id="r_a27fbe0af1315b48978a5ecf1e23ce931"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27fbe0af1315b48978a5ecf1e23ce931">get_icon_url</a> (int $itemid, string $machinename, int $majorversion, int $minorversion)</td></tr>
<tr class="memdesc:a27fbe0af1315b48978a5ecf1e23ce931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the file URL or given library and then return it.  <br /></td></tr>
<tr class="separator:a27fbe0af1315b48978a5ecf1e23ce931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e523fc81f7aec6b8f1737006ec173d0" id="r_a2e523fc81f7aec6b8f1737006ec173d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e523fc81f7aec6b8f1737006ec173d0">getCachedAssets</a> ($key)</td></tr>
<tr class="memdesc:a2e523fc81f7aec6b8f1737006ec173d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will check if there are cache assets available for content.  <br /></td></tr>
<tr class="separator:a2e523fc81f7aec6b8f1737006ec173d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4528dfc01bea59b7ba5a44ca9feecdbf" id="r_a4528dfc01bea59b7ba5a44ca9feecdbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4528dfc01bea59b7ba5a44ca9feecdbf">getContent</a> ($filepath)</td></tr>
<tr class="memdesc:a4528dfc01bea59b7ba5a44ca9feecdbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read file content of given file and then return it.  <br /></td></tr>
<tr class="separator:a4528dfc01bea59b7ba5a44ca9feecdbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf9a10f1a939cc60b9b3e9b43abd46ad" id="r_aaf9a10f1a939cc60b9b3e9b43abd46ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf9a10f1a939cc60b9b3e9b43abd46ad">getContentFile</a> ($file, $content)</td></tr>
<tr class="memdesc:aaf9a10f1a939cc60b9b3e9b43abd46ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if an H5P content has the given file.  <br /></td></tr>
<tr class="separator:aaf9a10f1a939cc60b9b3e9b43abd46ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa98996f4d5a7990f87a0db885f84d21" id="r_afa98996f4d5a7990f87a0db885f84d21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa98996f4d5a7990f87a0db885f84d21">getTmpPath</a> ()</td></tr>
<tr class="memdesc:afa98996f4d5a7990f87a0db885f84d21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get path to a new unique tmp folder.  <br /></td></tr>
<tr class="separator:afa98996f4d5a7990f87a0db885f84d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c58b4c6187493c93da6f9cb77619c1" id="r_a55c58b4c6187493c93da6f9cb77619c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55c58b4c6187493c93da6f9cb77619c1">getUpgradeScript</a> ($machinename, $majorversion, $minorversion)</td></tr>
<tr class="memdesc:a55c58b4c6187493c93da6f9cb77619c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if upgrades script exist for library.  <br /></td></tr>
<tr class="separator:a55c58b4c6187493c93da6f9cb77619c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d81691b9bffebe7d8e3568f5bd7845" id="r_a54d81691b9bffebe7d8e3568f5bd7845"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54d81691b9bffebe7d8e3568f5bd7845">hasExport</a> ($filename)</td></tr>
<tr class="memdesc:a54d81691b9bffebe7d8e3568f5bd7845"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the given export file exists.  <br /></td></tr>
<tr class="separator:a54d81691b9bffebe7d8e3568f5bd7845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f595aff592bc665955c9c2fcbe2320" id="r_a79f595aff592bc665955c9c2fcbe2320"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79f595aff592bc665955c9c2fcbe2320">hasPresave</a> ($libraryname, $developmentpath=null)</td></tr>
<tr class="memdesc:a79f595aff592bc665955c9c2fcbe2320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the library has a presave.js in the root folder.  <br /></td></tr>
<tr class="separator:a79f595aff592bc665955c9c2fcbe2320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a5b3ad4a25befb5d1e0a894dd73d7a" id="r_a05a5b3ad4a25befb5d1e0a894dd73d7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05a5b3ad4a25befb5d1e0a894dd73d7a">hasWriteAccess</a> ()</td></tr>
<tr class="memdesc:a05a5b3ad4a25befb5d1e0a894dd73d7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if server setup has write permission to the required folders.  <br /></td></tr>
<tr class="separator:a05a5b3ad4a25befb5d1e0a894dd73d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4bee2b83788da6c27844752aebde3e2" id="r_af4bee2b83788da6c27844752aebde3e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4bee2b83788da6c27844752aebde3e2">moveContentDirectory</a> ($source, $contentid=null)</td></tr>
<tr class="memdesc:af4bee2b83788da6c27844752aebde3e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy content from one directory to another.  <br /></td></tr>
<tr class="separator:af4bee2b83788da6c27844752aebde3e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add90d72f6a894b40cf9a510c28c3ccee" id="r_add90d72f6a894b40cf9a510c28c3ccee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add90d72f6a894b40cf9a510c28c3ccee">removeContentFile</a> ($file, $contentid)</td></tr>
<tr class="memdesc:add90d72f6a894b40cf9a510c28c3ccee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove content files that are no longer used.  <br /></td></tr>
<tr class="separator:add90d72f6a894b40cf9a510c28c3ccee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636c3da4b97e3c0c5c6fad577291dc3e" id="r_a636c3da4b97e3c0c5c6fad577291dc3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a636c3da4b97e3c0c5c6fad577291dc3e">saveContent</a> ($source, $content)</td></tr>
<tr class="memdesc:a636c3da4b97e3c0c5c6fad577291dc3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the content folder.  <br /></td></tr>
<tr class="separator:a636c3da4b97e3c0c5c6fad577291dc3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c7c8e68cdbcf024877ea56b838b869" id="r_a56c7c8e68cdbcf024877ea56b838b869"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56c7c8e68cdbcf024877ea56b838b869">saveExport</a> ($source, $filename)</td></tr>
<tr class="memdesc:a56c7c8e68cdbcf024877ea56b838b869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save export in file system.  <br /></td></tr>
<tr class="separator:a56c7c8e68cdbcf024877ea56b838b869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611777f220c643059383b0b28c9191fb" id="r_a611777f220c643059383b0b28c9191fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a611777f220c643059383b0b28c9191fb">saveFile</a> ($file, $contentid)</td></tr>
<tr class="memdesc:a611777f220c643059383b0b28c9191fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save files uploaded through the editor.  <br /></td></tr>
<tr class="separator:a611777f220c643059383b0b28c9191fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c4bf1a6123c5246b71e0f707af0064" id="r_a06c4bf1a6123c5246b71e0f707af0064"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06c4bf1a6123c5246b71e0f707af0064">saveFileFromZip</a> ($path, $file, $stream)</td></tr>
<tr class="memdesc:a06c4bf1a6123c5246b71e0f707af0064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the given stream into the given file.  <br /></td></tr>
<tr class="separator:a06c4bf1a6123c5246b71e0f707af0064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3eb9723cd34321dd56961e44a629a8d" id="r_ab3eb9723cd34321dd56961e44a629a8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3eb9723cd34321dd56961e44a629a8d">saveLibrary</a> ($library)</td></tr>
<tr class="memdesc:ab3eb9723cd34321dd56961e44a629a8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores a H5P library in the <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> filesystem.  <br /></td></tr>
<tr class="separator:ab3eb9723cd34321dd56961e44a629a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1824d3d58fccad19fab0eb48b63873c4" id="r_a1824d3d58fccad19fab0eb48b63873c4"><td class="memItemLeft" align="right" valign="top"><a id="a1824d3d58fccad19fab0eb48b63873c4" name="a1824d3d58fccad19fab0eb48b63873c4"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>generate_custom_styles</b> ()</td></tr>
<tr class="memdesc:a1824d3d58fccad19fab0eb48b63873c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate H5P custom styles if any. <br /></td></tr>
<tr class="separator:a1824d3d58fccad19fab0eb48b63873c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d9586adfb15385bc67b184f4a3a301" id="r_ad8d9586adfb15385bc67b184f4a3a301"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8d9586adfb15385bc67b184f4a3a301">get_custom_styles</a> ()</td></tr>
<tr class="memdesc:ad8d9586adfb15385bc67b184f4a3a301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get H5P custom styles if any.  <br /></td></tr>
<tr class="separator:ad8d9586adfb15385bc67b184f4a3a301"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0241acc2d7adbf68c00bf7c23cc1493d" id="r_a0241acc2d7adbf68c00bf7c23cc1493d"><td class="memItemLeft" align="right" valign="top"><a id="a0241acc2d7adbf68c00bf7c23cc1493d" name="a0241acc2d7adbf68c00bf7c23cc1493d"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CACHED_ASSETS_FILEAREA</b> = 'cachedassets'</td></tr>
<tr class="memdesc:a0241acc2d7adbf68c00bf7c23cc1493d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cached assest file area. <br /></td></tr>
<tr class="separator:a0241acc2d7adbf68c00bf7c23cc1493d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667f9f186c9c5e1b0b18b0f95ccc9293" id="r_a667f9f186c9c5e1b0b18b0f95ccc9293"><td class="memItemLeft" align="right" valign="top"><a id="a667f9f186c9c5e1b0b18b0f95ccc9293" name="a667f9f186c9c5e1b0b18b0f95ccc9293"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>COMPONENT</b> = 'core_h5p'</td></tr>
<tr class="memdesc:a667f9f186c9c5e1b0b18b0f95ccc9293"><td class="mdescLeft">&#160;</td><td class="mdescRight">The component for H5P. <br /></td></tr>
<tr class="separator:a667f9f186c9c5e1b0b18b0f95ccc9293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58a2b875d088652abd4729588f36fa3c" id="r_a58a2b875d088652abd4729588f36fa3c"><td class="memItemLeft" align="right" valign="top"><a id="a58a2b875d088652abd4729588f36fa3c" name="a58a2b875d088652abd4729588f36fa3c"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CONTENT_FILEAREA</b> = 'content'</td></tr>
<tr class="memdesc:a58a2b875d088652abd4729588f36fa3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The content file area. <br /></td></tr>
<tr class="separator:a58a2b875d088652abd4729588f36fa3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e44575369891c7f2bcb17371cb0ded" id="r_ac8e44575369891c7f2bcb17371cb0ded"><td class="memItemLeft" align="right" valign="top"><a id="ac8e44575369891c7f2bcb17371cb0ded" name="ac8e44575369891c7f2bcb17371cb0ded"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CSS_FILEAREA</b> = 'css'</td></tr>
<tr class="memdesc:ac8e44575369891c7f2bcb17371cb0ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">The export css file area. <br /></td></tr>
<tr class="separator:ac8e44575369891c7f2bcb17371cb0ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f130aa9cc669c4aa8703c88681d3cb" id="r_a47f130aa9cc669c4aa8703c88681d3cb"><td class="memItemLeft" align="right" valign="top"><a id="a47f130aa9cc669c4aa8703c88681d3cb" name="a47f130aa9cc669c4aa8703c88681d3cb"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>EXPORT_FILEAREA</b> = 'export'</td></tr>
<tr class="memdesc:a47f130aa9cc669c4aa8703c88681d3cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The export file area. <br /></td></tr>
<tr class="separator:a47f130aa9cc669c4aa8703c88681d3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9805221c88025ed3af3d79231123b3" id="r_a1d9805221c88025ed3af3d79231123b3"><td class="memItemLeft" align="right" valign="top"><a id="a1d9805221c88025ed3af3d79231123b3" name="a1d9805221c88025ed3af3d79231123b3"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>ICON_FILENAME</b> = 'icon.svg'</td></tr>
<tr class="memdesc:a1d9805221c88025ed3af3d79231123b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The icon filename. <br /></td></tr>
<tr class="separator:a1d9805221c88025ed3af3d79231123b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c0945c5d51f18ed32f03b9e227310e" id="r_a88c0945c5d51f18ed32f03b9e227310e"><td class="memItemLeft" align="right" valign="top"><a id="a88c0945c5d51f18ed32f03b9e227310e" name="a88c0945c5d51f18ed32f03b9e227310e"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>LIBRARY_FILEAREA</b> = 'libraries'</td></tr>
<tr class="memdesc:a88c0945c5d51f18ed32f03b9e227310e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The library file area. <br /></td></tr>
<tr class="separator:a88c0945c5d51f18ed32f03b9e227310e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4c8406c797c9574ba771f5a547c0c65f" id="r_a4c8406c797c9574ba771f5a547c0c65f"><td class="memItemLeft" align="right" valign="top">context&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c8406c797c9574ba771f5a547c0c65f">$context</a></td></tr>
<tr class="memdesc:a4c8406c797c9574ba771f5a547c0c65f"><td class="mdescLeft">&#160;</td><td class="mdescRight">$context Currently we use the system context everywhere.  <br /></td></tr>
<tr class="separator:a4c8406c797c9574ba771f5a547c0c65f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a6cf6d3ee37fecb59001c2e15f2b1e" id="r_ab7a6cf6d3ee37fecb59001c2e15f2b1e"><td class="memItemLeft" align="right" valign="top"><a id="ab7a6cf6d3ee37fecb59001c2e15f2b1e" name="ab7a6cf6d3ee37fecb59001c2e15f2b1e"></a>
<a class="el" href="../../df/d5e/classcore__h5p_1_1file__storage.html">file_storage</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$fs</b></td></tr>
<tr class="memdesc:ab7a6cf6d3ee37fecb59001c2e15f2b1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">$fs <a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> storage. <br /></td></tr>
<tr class="separator:ab7a6cf6d3ee37fecb59001c2e15f2b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to handle storage and export of H5P Content. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2019 Victor Deniz <a href="#" onclick="location.href='mai'+'lto:'+'vic'+'to'+'r@m'+'oo'+'dle'+'.c'+'om'; return false;">victo<span class="obfuscator">.nosp@m.</span>r@mo<span class="obfuscator">.nosp@m.</span>odle.<span class="obfuscator">.nosp@m.</span>com</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a309d17913ccc637ab4193da30c6bdf46" name="a309d17913ccc637ab4193da30c6bdf46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309d17913ccc637ab4193da30c6bdf46">&#9670;&#160;</a></span>cacheAssets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::cacheAssets </td>
          <td>(</td>
          <td class="paramtype">&amp;</td>          <td class="paramname"><span class="paramname"><em>$files</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will concatenate all JavaScrips and Stylesheets into two files in order to improve page performance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$files</td><td>A set of all the assets required for content to display </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Hashed key for cached asset </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a59b82f3311342f7230acd0be56d89290">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="ac74e2b6f07d0d7437a14d85c66d231c5" name="ac74e2b6f07d0d7437a14d85c66d231c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac74e2b6f07d0d7437a14d85c66d231c5">&#9670;&#160;</a></span>cloneContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::cloneContent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a stored copy of the content folder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>Identifier of content to clone. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$newid</td><td>The cloned content's identifier </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#ab9c19583e17fa8ff68f604fe0f6b3c08">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="ab00beae8da35d8ee9c30cc9211e2cf44" name="ab00beae8da35d8ee9c30cc9211e2cf44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00beae8da35d8ee9c30cc9211e2cf44">&#9670;&#160;</a></span>cloneContentFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::cloneContentFile </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fromid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tocontent</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a file from another content or editor tmp dir. </p>
<p>Used when copy pasting content in H5P.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>path + name </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$fromid</td><td>Content ID or 'editor' string </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$tocontent</td><td>Target Content</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a8eccbdc2f30b18a597db79a4f49c62a4">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a1b748016d660aafe178e66afc1f1e0ff" name="a1b748016d660aafe178e66afc1f1e0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b748016d660aafe178e66afc1f1e0ff">&#9670;&#160;</a></span>delete_library()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::delete_library </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$library</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes a library from the file system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$library</td><td>Library details </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab335ce4a9b4fd1e6487f9317fa254ac9" name="ab335ce4a9b4fd1e6487f9317fa254ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab335ce4a9b4fd1e6487f9317fa254ac9">&#9670;&#160;</a></span>deleteCachedAssets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::deleteCachedAssets </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$keys</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the aggregated cache files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$keys</td><td>The hash keys of removed files </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a0e22da4659de01bf955f9c07d72800a9">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a2178bb0ebf0b0d6989ca8452a7d5a5ce" name="a2178bb0ebf0b0d6989ca8452a7d5a5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2178bb0ebf0b0d6989ca8452a7d5a5ce">&#9670;&#160;</a></span>deleteContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::deleteContent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$content</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove content folder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$content</td><td>Content properties </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a55265cff89b2cd06a61509351d4bf058">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="adf02919a1198c530aa2ac37d299cc8bb" name="adf02919a1198c530aa2ac37d299cc8bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf02919a1198c530aa2ac37d299cc8bb">&#9670;&#160;</a></span>deleteExport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::deleteExport </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes given export file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>filename of the export to delete. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#ad04459814f68881136dc891560ac21b5">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="ac817956ce24701d4e9f1bdee17661a8a" name="ac817956ce24701d4e9f1bdee17661a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac817956ce24701d4e9f1bdee17661a8a">&#9670;&#160;</a></span>deleteLibrary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::deleteLibrary </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$library</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete library folder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$library</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#aeec17a8d365e8cb142b66f93248141cd">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="aa8e3d590d86e1a4763d8109dc0cc1373" name="aa8e3d590d86e1a4763d8109dc0cc1373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8e3d590d86e1a4763d8109dc0cc1373">&#9670;&#160;</a></span>exportContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::exportContent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$target</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch content folder and save in target directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>Content identifier </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$target</td><td>Where the content folder will be saved </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a48d275cb06661acb79aeb155407078b5">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a97b009a1fb66865f21445aea45ad0c27" name="a97b009a1fb66865f21445aea45ad0c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97b009a1fb66865f21445aea45ad0c27">&#9670;&#160;</a></span>exportLibrary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::exportLibrary </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$library</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$target</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch library folder and save in target directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$library</td><td>Library properties </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$target</td><td>Where the library folder will be saved </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#af3418ca01ca30d6ca0a4a8a3ac2604ad">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="ad8d9586adfb15385bc67b184f4a3a301" name="ad8d9586adfb15385bc67b184f4a3a301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d9586adfb15385bc67b184f4a3a301">&#9670;&#160;</a></span>get_custom_styles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_h5p\file_storage::get_custom_styles </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get H5P custom styles if any. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>If the CSS setting is empty but there is a file to serve or there is no file but the CSS setting is not empty. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|null</td><td>If there is CSS then an array with the keys 'cssurl' and 'cssversion' is returned otherwise null. 'cssurl' is a link to the generated 'custom_h5p.css' file and 'cssversion' the md5 hash of its contents. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aabd44b13a80b0afbad08b28462b654a7" name="aabd44b13a80b0afbad08b28462b654a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabd44b13a80b0afbad08b28462b654a7">&#9670;&#160;</a></span>get_export_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::get_export_file </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get files ready for export. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> name to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|stored_file</td><td>Stored file instance if exists, false if not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27fbe0af1315b48978a5ecf1e23ce931" name="a27fbe0af1315b48978a5ecf1e23ce931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27fbe0af1315b48978a5ecf1e23ce931">&#9670;&#160;</a></span>get_icon_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::get_icon_url </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$itemid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$machinename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$majorversion</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$minorversion</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the file URL or given library and then return it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$machinename</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$majorversion</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$minorversion</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>url or false if the file doesn't exist </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2e523fc81f7aec6b8f1737006ec173d0" name="a2e523fc81f7aec6b8f1737006ec173d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e523fc81f7aec6b8f1737006ec173d0">&#9670;&#160;</a></span>getCachedAssets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::getCachedAssets </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will check if there are cache assets available for content. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Hashed key for cached asset </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a15b061bf79d9fa033841d85f5eccd320">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a4528dfc01bea59b7ba5a44ca9feecdbf" name="a4528dfc01bea59b7ba5a44ca9feecdbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4528dfc01bea59b7ba5a44ca9feecdbf">&#9670;&#160;</a></span>getContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::getContent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filepath</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read file content of given file and then return it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>contents </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#aacdbf201cbea082e84414a243e2f9546">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="aaf9a10f1a939cc60b9b3e9b43abd46ad" name="aaf9a10f1a939cc60b9b3e9b43abd46ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf9a10f1a939cc60b9b3e9b43abd46ad">&#9670;&#160;</a></span>getContentFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::getContentFile </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$content</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks to see if an H5P content has the given file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> path and name. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$content</td><td>Content id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|null</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> ID or NULL if not found </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a31c826280de9dab2e8a4a6120edc4e93">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="afa98996f4d5a7990f87a0db885f84d21" name="afa98996f4d5a7990f87a0db885f84d21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa98996f4d5a7990f87a0db885f84d21">&#9670;&#160;</a></span>getTmpPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::getTmpPath </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get path to a new unique tmp folder. </p>
<p>Please note this needs to not be a directory.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>Path </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a3ad3bf8e3907a4875286a809f4913d8c">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a55c58b4c6187493c93da6f9cb77619c1" name="a55c58b4c6187493c93da6f9cb77619c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c58b4c6187493c93da6f9cb77619c1">&#9670;&#160;</a></span>getUpgradeScript()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::getUpgradeScript </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$machinename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$majorversion</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$minorversion</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if upgrades script exist for library. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$machinename</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$majorversion</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$minorversion</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>Relative path </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a791aac312deef7d296cfc55337bd702b">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a54d81691b9bffebe7d8e3568f5bd7845" name="a54d81691b9bffebe7d8e3568f5bd7845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d81691b9bffebe7d8e3568f5bd7845">&#9670;&#160;</a></span>hasExport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::hasExport </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the given export file exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>The export file to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>True if the export file exists. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a5ac28ee0e1b508f373860fb742f39b92">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a79f595aff592bc665955c9c2fcbe2320" name="a79f595aff592bc665955c9c2fcbe2320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79f595aff592bc665955c9c2fcbe2320">&#9670;&#160;</a></span>hasPresave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::hasPresave </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$libraryname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$developmentpath</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the library has a presave.js in the root folder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$libraryname</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$developmentpath</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#aac781cab31e6fde00caaad73dfd0ea9b">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a05a5b3ad4a25befb5d1e0a894dd73d7a" name="a05a5b3ad4a25befb5d1e0a894dd73d7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05a5b3ad4a25befb5d1e0a894dd73d7a">&#9670;&#160;</a></span>hasWriteAccess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::hasWriteAccess </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if server setup has write permission to the required folders. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if server has the proper write access </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#ac14a420c64909a70a221367c081615b5">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="af4bee2b83788da6c27844752aebde3e2" name="af4bee2b83788da6c27844752aebde3e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4bee2b83788da6c27844752aebde3e2">&#9670;&#160;</a></span>moveContentDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::moveContentDirectory </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contentid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy content from one directory to another. </p>
<p>Defaults to cloning content from the current temporary upload folder to the editor path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$source</td><td>path to source directory </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$contentid</td><td>Id of content </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a7fd0739a411b02c309880fa2e43311e2">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="add90d72f6a894b40cf9a510c28c3ccee" name="add90d72f6a894b40cf9a510c28c3ccee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add90d72f6a894b40cf9a510c28c3ccee">&#9670;&#160;</a></span>removeContentFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::removeContentFile </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contentid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove content files that are no longer used. </p>
<p>Used when saving content.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> path and name. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contentid</td><td>Content id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a1783f347483fef782e839765f42dab99">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a636c3da4b97e3c0c5c6fad577291dc3e" name="a636c3da4b97e3c0c5c6fad577291dc3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a636c3da4b97e3c0c5c6fad577291dc3e">&#9670;&#160;</a></span>saveContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::saveContent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$content</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the content folder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$source</td><td>Path on file system to content directory. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$content</td><td>Content properties </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#af6d7004c50f8763f373d70b8c7d30e10">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a56c7c8e68cdbcf024877ea56b838b869" name="a56c7c8e68cdbcf024877ea56b838b869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c7c8e68cdbcf024877ea56b838b869">&#9670;&#160;</a></span>saveExport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::saveExport </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save export in file system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$source</td><td>Path on file system to temporary export file. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>Name of export file. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a7c776a2aa0e7da43309be277357bffa6">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a611777f220c643059383b0b28c9191fb" name="a611777f220c643059383b0b28c9191fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a611777f220c643059383b0b28c9191fb">&#9670;&#160;</a></span>saveFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::saveFile </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$contentid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save files uploaded through the editor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">H5peditorFile</td><td class="paramname">$file</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contentid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The id of the saved file. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a3933f8aecc4b57fd7ae92a34bac4b96c">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="a06c4bf1a6123c5246b71e0f707af0064" name="a06c4bf1a6123c5246b71e0f707af0064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c4bf1a6123c5246b71e0f707af0064">&#9670;&#160;</a></span>saveFileFromZip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::saveFileFromZip </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$stream</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the given stream into the given file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td></td></tr>
    <tr><td class="paramtype">resource</td><td class="paramname">$stream</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|int</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#aaafcb959feed414f4613ed8b37f0741d">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<a id="ab3eb9723cd34321dd56961e44a629a8d" name="ab3eb9723cd34321dd56961e44a629a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3eb9723cd34321dd56961e44a629a8d">&#9670;&#160;</a></span>saveLibrary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_h5p\file_storage::saveLibrary </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$library</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores a H5P library in the <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> filesystem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$library</td><td>Library properties. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../de/de8/interface_moodle_1_1_h5_p_file_storage.html#a69969403a62723468d250937f8c99663">Moodle\H5PFileStorage</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4c8406c797c9574ba771f5a547c0c65f" name="a4c8406c797c9574ba771f5a547c0c65f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c8406c797c9574ba771f5a547c0c65f">&#9670;&#160;</a></span>$context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context core_h5p\file_storage::$context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>$context Currently we use the system context everywhere. </p>
<p>Don't feel forced to keep it this way in the future. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>h5p/classes/<b>file_storage.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 02:49:21 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
